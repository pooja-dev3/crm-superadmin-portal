function zu(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function qu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mc={exports:{}},Gn={},pc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),Uu=Symbol.for("react.portal"),Bu=Symbol.for("react.fragment"),Vu=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),Wu=Symbol.for("react.provider"),Qu=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Zu=Symbol.for("react.memo"),Ju=Symbol.for("react.lazy"),Vo=Symbol.iterator;function Xu(e){return e===null||typeof e!="object"?null:(e=Vo&&e[Vo]||e["@@iterator"],typeof e=="function"?e:null)}var fc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hc=Object.assign,xc={};function Us(e,t,r){this.props=e,this.context=t,this.refs=xc,this.updater=r||fc}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gc(){}gc.prototype=Us.prototype;function Bl(e,t,r){this.props=e,this.context=t,this.refs=xc,this.updater=r||fc}var Vl=Bl.prototype=new gc;Vl.constructor=Bl;hc(Vl,Us.prototype);Vl.isPureReactComponent=!0;var Ho=Array.isArray,yc=Object.prototype.hasOwnProperty,Hl={current:null},vc={key:!0,ref:!0,__self:!0,__source:!0};function bc(e,t,r){var n,a={},l=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)yc.call(t,n)&&!vc.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var i=Array(c),u=0;u<c;u++)i[u]=arguments[u+2];a.children=i}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:Fr,type:e,key:l,ref:o,props:a,_owner:Hl.current}}function Yu(e,t){return{$$typeof:Fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fr}function em(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wo=/\/+/g;function ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?em(""+e.key):t.toString(36)}function an(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fr:case Uu:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+ha(o,0):n,Ho(a)?(r="",e!=null&&(r=e.replace(Wo,"$&/")+"/"),an(a,t,r,"",function(u){return u})):a!=null&&(Wl(a)&&(a=Yu(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Wo,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Ho(e))for(var c=0;c<e.length;c++){l=e[c];var i=n+ha(l,c);o+=an(l,t,r,i,a)}else if(i=Xu(e),typeof i=="function")for(e=i.call(e),c=0;!(l=e.next()).done;)l=l.value,i=n+ha(l,c++),o+=an(l,t,r,i,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ur(e,t,r){if(e==null)return e;var n=[],a=0;return an(e,n,"","",function(l){return t.call(r,l,a++)}),n}function tm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},ln={transition:null},sm={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ln,ReactCurrentOwner:Hl};function wc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Ur,forEach:function(e,t,r){Ur(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ur(e,function(){t++}),t},toArray:function(e){return Ur(e,function(t){return t})||[]},only:function(e){if(!Wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Us;W.Fragment=Bu;W.Profiler=Hu;W.PureComponent=Bl;W.StrictMode=Vu;W.Suspense=Ku;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sm;W.act=wc;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=hc({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Hl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)yc.call(t,i)&&!vc.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){c=Array(i);for(var u=0;u<i;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Fr,type:e.type,key:a,ref:l,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:Qu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wu,_context:e},e.Consumer=e};W.createElement=bc;W.createFactory=function(e){var t=bc.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Gu,render:e}};W.isValidElement=Wl;W.lazy=function(e){return{$$typeof:Ju,_payload:{_status:-1,_result:e},_init:tm}};W.memo=function(e,t){return{$$typeof:Zu,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ln.transition;ln.transition={};try{e()}finally{ln.transition=t}};W.unstable_act=wc;W.useCallback=function(e,t){return Ne.current.useCallback(e,t)};W.useContext=function(e){return Ne.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ne.current.useEffect(e,t)};W.useId=function(){return Ne.current.useId()};W.useImperativeHandle=function(e,t,r){return Ne.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ne.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ne.current.useReducer(e,t,r)};W.useRef=function(e){return Ne.current.useRef(e)};W.useState=function(e){return Ne.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ne.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ne.current.useTransition()};W.version="18.3.1";pc.exports=W;var b=pc.exports;const Ql=qu(b),rm=zu({__proto__:null,default:Ql},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=b,am=Symbol.for("react.element"),lm=Symbol.for("react.fragment"),om=Object.prototype.hasOwnProperty,im=nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cm={key:!0,ref:!0,__self:!0,__source:!0};function jc(e,t,r){var n,a={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)om.call(t,n)&&!cm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:am,type:e,key:l,ref:o,props:a,_owner:im.current}}Gn.Fragment=lm;Gn.jsx=jc;Gn.jsxs=jc;mc.exports=Gn;var s=mc.exports,Ua={},Nc={exports:{}},ze={},_c={exports:{}},kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,z){var P=O.length;O.push(z);e:for(;0<P;){var q=P-1>>>1,G=O[q];if(0<a(G,z))O[q]=z,O[P]=G,P=q;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var z=O[0],P=O.pop();if(P!==z){O[0]=P;e:for(var q=0,G=O.length,Le=G>>>1;q<Le;){var M=2*(q+1)-1,B=O[M],Z=M+1,Re=O[Z];if(0>a(B,P))Z<G&&0>a(Re,B)?(O[q]=Re,O[Z]=P,q=Z):(O[q]=B,O[M]=P,q=M);else if(Z<G&&0>a(Re,P))O[q]=Re,O[Z]=P,q=Z;else break e}}return z}function a(O,z){var P=O.sortIndex-z.sortIndex;return P!==0?P:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var i=[],u=[],g=1,f=null,v=3,x=!1,j=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=O)n(u),z.sortIndex=z.expirationTime,t(i,z);else break;z=r(u)}}function y(O){if(k=!1,m(O),!j)if(r(i)!==null)j=!0,D(_);else{var z=r(u);z!==null&&H(y,z.startTime-O)}}function _(O,z){j=!1,k&&(k=!1,h(p),p=-1),x=!0;var P=v;try{for(m(z),f=r(i);f!==null&&(!(f.expirationTime>z)||O&&!R());){var q=f.callback;if(typeof q=="function"){f.callback=null,v=f.priorityLevel;var G=q(f.expirationTime<=z);z=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(i)&&n(i),m(z)}else n(i);f=r(i)}if(f!==null)var Le=!0;else{var M=r(u);M!==null&&H(y,M.startTime-z),Le=!1}return Le}finally{f=null,v=P,x=!1}}var N=!1,C=null,p=-1,w=5,E=-1;function R(){return!(e.unstable_now()-E<w)}function A(){if(C!==null){var O=e.unstable_now();E=O;var z=!0;try{z=C(!0,O)}finally{z?T():(N=!1,C=null)}}else N=!1}var T;if(typeof d=="function")T=function(){d(A)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,te=F.port2;F.port1.onmessage=A,T=function(){te.postMessage(null)}}else T=function(){S(A,0)};function D(O){C=O,N||(N=!0,T())}function H(O,z){p=S(function(){O(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,D(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(O){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var P=v;v=z;try{return O()}finally{v=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var P=v;v=O;try{return z()}finally{v=P}},e.unstable_scheduleCallback=function(O,z,P){var q=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?q+P:q):P=q,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,O={id:g++,callback:z,priorityLevel:O,startTime:P,expirationTime:G,sortIndex:-1},P>q?(O.sortIndex=P,t(u,O),r(i)===null&&O===r(u)&&(k?(h(p),p=-1):k=!0,H(y,P-q))):(O.sortIndex=G,t(i,O),j||x||(j=!0,D(_))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var z=v;return function(){var P=v;v=z;try{return O.apply(this,arguments)}finally{v=P}}}})(kc);_c.exports=kc;var dm=_c.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=b,$e=dm;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cc=new Set,gr={};function ds(e,t){Rs(e,t),Rs(e+"Capture",t)}function Rs(e,t){for(gr[e]=t,e=0;e<t.length;e++)Cc.add(t[e])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=Object.prototype.hasOwnProperty,mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qo={},Go={};function pm(e){return Ba.call(Go,e)?!0:Ba.call(Qo,e)?!1:mm.test(e)?Go[e]=!0:(Qo[e]=!0,!1)}function fm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hm(e,t,r,n){if(t===null||typeof t>"u"||fm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,r,n,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gl=/[\-:]([a-z])/g;function Kl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gl,Kl);xe[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gl,Kl);xe[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gl,Kl);xe[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zl(e,t,r,n){var a=xe.hasOwnProperty(t)?xe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hm(t,r,a,n)&&(r=null),n||a===null?pm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jt=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Br=Symbol.for("react.element"),hs=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),Jl=Symbol.for("react.strict_mode"),Va=Symbol.for("react.profiler"),Sc=Symbol.for("react.provider"),Ec=Symbol.for("react.context"),Xl=Symbol.for("react.forward_ref"),Ha=Symbol.for("react.suspense"),Wa=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Pc=Symbol.for("react.offscreen"),Ko=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=Ko&&e[Ko]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,xa;function rr(e){if(xa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xa=t&&t[1]||""}return`
`+xa+e}var ga=!1;function ya(e,t){if(!e||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=n.stack.split(`
`),o=a.length-1,c=l.length-1;1<=o&&0<=c&&a[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==l[c]){var i=`
`+a[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=o&&0<=c);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rr(e):""}function xm(e){switch(e.tag){case 5:return rr(e.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return e=ya(e.type,!1),e;case 11:return e=ya(e.type.render,!1),e;case 1:return e=ya(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xs:return"Fragment";case hs:return"Portal";case Va:return"Profiler";case Jl:return"StrictMode";case Ha:return"Suspense";case Wa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ec:return(e.displayName||"Context")+".Consumer";case Sc:return(e._context.displayName||"Context")+".Provider";case Xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yl:return t=e.displayName||null,t!==null?t:Qa(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return Qa(e(t))}catch{}}return null}function gm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(t);case 8:return t===Jl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ac(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ym(e){var t=Ac(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vr(e){e._valueTracker||(e._valueTracker=ym(e))}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ac(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function yn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ga(e,t){var r=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ut(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tc(e,t){t=t.checked,t!=null&&Zl(e,"checked",t,!1)}function Ka(e,t){Tc(e,t);var r=Ut(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Za(e,t.type,r):t.hasOwnProperty("defaultValue")&&Za(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Za(e,t,r){(t!=="number"||yn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nr=Array.isArray;function Es(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ut(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ja(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xo(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(nr(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ut(r)}}function Lc(e,t){var r=Ut(t.value),n=Ut(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hr,Oc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vm=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(e){vm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});function Fc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function Ic(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Fc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var bm=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(e,t){if(t){if(bm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function el(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=null;function eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,Ps=null,As=null;function ei(e){if(e=$r(e)){if(typeof sl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Yn(t),sl(e.stateNode,e.type,t))}}function Mc(e){Ps?As?As.push(e):As=[e]:Ps=e}function $c(){if(Ps){var e=Ps,t=As;if(As=Ps=null,ei(e),t)for(e=0;e<t.length;e++)ei(t[e])}}function zc(e,t){return e(t)}function qc(){}var va=!1;function Uc(e,t,r){if(va)return e(t,r);va=!0;try{return zc(e,t,r)}finally{va=!1,(Ps!==null||As!==null)&&(qc(),$c())}}function vr(e,t){var r=e.stateNode;if(r===null)return null;var n=Yn(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var rl=!1;if(gt)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){rl=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{rl=!1}function wm(e,t,r,n,a,l,o,c,i){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(g){this.onError(g)}}var ir=!1,vn=null,bn=!1,nl=null,jm={onError:function(e){ir=!0,vn=e}};function Nm(e,t,r,n,a,l,o,c,i){ir=!1,vn=null,wm.apply(jm,arguments)}function _m(e,t,r,n,a,l,o,c,i){if(Nm.apply(this,arguments),ir){if(ir){var u=vn;ir=!1,vn=null}else throw Error(L(198));bn||(bn=!0,nl=u)}}function us(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ti(e){if(us(e)!==e)throw Error(L(188))}function km(e){var t=e.alternate;if(!t){if(t=us(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return ti(a),e;if(l===n)return ti(a),t;l=l.sibling}throw Error(L(188))}if(r.return!==n.return)r=a,n=l;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=l;break}if(c===n){o=!0,n=a,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,n=a;break}if(c===n){o=!0,n=l,r=a;break}c=c.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function Vc(e){return e=km(e),e!==null?Hc(e):null}function Hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hc(e);if(t!==null)return t;e=e.sibling}return null}var Wc=$e.unstable_scheduleCallback,si=$e.unstable_cancelCallback,Cm=$e.unstable_shouldYield,Sm=$e.unstable_requestPaint,ie=$e.unstable_now,Em=$e.unstable_getCurrentPriorityLevel,to=$e.unstable_ImmediatePriority,Qc=$e.unstable_UserBlockingPriority,wn=$e.unstable_NormalPriority,Pm=$e.unstable_LowPriority,Gc=$e.unstable_IdlePriority,Kn=null,lt=null;function Am(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Kn,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Lm,Dm=Math.log,Tm=Math.LN2;function Lm(e){return e>>>=0,e===0?32:31-(Dm(e)/Tm|0)|0}var Wr=64,Qr=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jn(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?n=ar(c):(l&=o,l!==0&&(n=ar(l)))}else o=r&~a,o!==0?n=ar(o):l!==0&&(n=ar(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ye(t),a=1<<r,n|=e[r],t&=~a;return n}function Rm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Om(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ye(l),c=1<<o,i=a[o];i===-1?(!(c&r)||c&n)&&(a[o]=Rm(c,t)):i<=t&&(e.expiredLanes|=c),l&=~c}}function al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kc(){var e=Wr;return Wr<<=1,!(Wr&4194240)&&(Wr=64),e}function ba(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ir(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=r}function Fm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ye(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function so(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ye(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var J=0;function Zc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jc,ro,Xc,Yc,ed,ll=!1,Gr=[],Lt=null,Rt=null,Ot=null,br=new Map,wr=new Map,Et=[],Im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ri(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wr.delete(t.pointerId)}}function Js(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=$r(t),t!==null&&ro(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Mm(e,t,r,n,a){switch(t){case"focusin":return Lt=Js(Lt,e,t,r,n,a),!0;case"dragenter":return Rt=Js(Rt,e,t,r,n,a),!0;case"mouseover":return Ot=Js(Ot,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return br.set(l,Js(br.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,wr.set(l,Js(wr.get(l)||null,e,t,r,n,a)),!0}return!1}function td(e){var t=es(e.target);if(t!==null){var r=us(t);if(r!==null){if(t=r.tag,t===13){if(t=Bc(r),t!==null){e.blockedOn=t,ed(e.priority,function(){Xc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function on(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ol(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tl=n,r.target.dispatchEvent(n),tl=null}else return t=$r(r),t!==null&&ro(t),e.blockedOn=r,!1;t.shift()}return!0}function ni(e,t,r){on(e)&&r.delete(t)}function $m(){ll=!1,Lt!==null&&on(Lt)&&(Lt=null),Rt!==null&&on(Rt)&&(Rt=null),Ot!==null&&on(Ot)&&(Ot=null),br.forEach(ni),wr.forEach(ni)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,ll||(ll=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,$m)))}function jr(e){function t(a){return Xs(a,e)}if(0<Gr.length){Xs(Gr[0],e);for(var r=1;r<Gr.length;r++){var n=Gr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lt!==null&&Xs(Lt,e),Rt!==null&&Xs(Rt,e),Ot!==null&&Xs(Ot,e),br.forEach(t),wr.forEach(t),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)td(r),r.blockedOn===null&&Et.shift()}var Ds=jt.ReactCurrentBatchConfig,Nn=!0;function zm(e,t,r,n){var a=J,l=Ds.transition;Ds.transition=null;try{J=1,no(e,t,r,n)}finally{J=a,Ds.transition=l}}function qm(e,t,r,n){var a=J,l=Ds.transition;Ds.transition=null;try{J=4,no(e,t,r,n)}finally{J=a,Ds.transition=l}}function no(e,t,r,n){if(Nn){var a=ol(e,t,r,n);if(a===null)Aa(e,t,n,_n,r),ri(e,n);else if(Mm(a,e,t,r,n))n.stopPropagation();else if(ri(e,n),t&4&&-1<Im.indexOf(e)){for(;a!==null;){var l=$r(a);if(l!==null&&Jc(l),l=ol(e,t,r,n),l===null&&Aa(e,t,n,_n,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Aa(e,t,n,null,r)}}var _n=null;function ol(e,t,r,n){if(_n=null,e=eo(n),e=es(e),e!==null)if(t=us(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _n=e,null}function sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Em()){case to:return 1;case Qc:return 4;case wn:case Pm:return 16;case Gc:return 536870912;default:return 16}default:return 16}}var At=null,ao=null,cn=null;function rd(){if(cn)return cn;var e,t=ao,r=t.length,n,a="value"in At?At.value:At.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[l-n];n++);return cn=a.slice(e,1<n?1-n:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function ai(){return!1}function qe(e){function t(r,n,a,l,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Kr:ai,this.isPropagationStopped=ai,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=qe(Bs),Mr=le({},Bs,{view:0,detail:0}),Um=qe(Mr),wa,ja,Ys,Zn=le({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(wa=e.screenX-Ys.screenX,ja=e.screenY-Ys.screenY):ja=wa=0,Ys=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:ja}}),li=qe(Zn),Bm=le({},Zn,{dataTransfer:0}),Vm=qe(Bm),Hm=le({},Mr,{relatedTarget:0}),Na=qe(Hm),Wm=le({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qm=qe(Wm),Gm=le({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Km=qe(Gm),Zm=le({},Bs,{data:0}),oi=qe(Zm),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ym[e])?!!t[e]:!1}function oo(){return ep}var tp=le({},Mr,{key:function(e){if(e.key){var t=Jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?dn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sp=qe(tp),rp=le({},Zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ii=qe(rp),np=le({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),ap=qe(np),lp=le({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),op=qe(lp),ip=le({},Zn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cp=qe(ip),dp=[9,13,27,32],io=gt&&"CompositionEvent"in window,cr=null;gt&&"documentMode"in document&&(cr=document.documentMode);var up=gt&&"TextEvent"in window&&!cr,nd=gt&&(!io||cr&&8<cr&&11>=cr),ci=String.fromCharCode(32),di=!1;function ad(e,t){switch(e){case"keyup":return dp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gs=!1;function mp(e,t){switch(e){case"compositionend":return ld(t);case"keypress":return t.which!==32?null:(di=!0,ci);case"textInput":return e=t.data,e===ci&&di?null:e;default:return null}}function pp(e,t){if(gs)return e==="compositionend"||!io&&ad(e,t)?(e=rd(),cn=ao=At=null,gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nd&&t.locale!=="ko"?null:t.data;default:return null}}var fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fp[e.type]:t==="textarea"}function od(e,t,r,n){Mc(n),t=kn(t,"onChange"),0<t.length&&(r=new lo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dr=null,Nr=null;function hp(e){yd(e,0)}function Jn(e){var t=bs(e);if(Dc(t))return e}function xp(e,t){if(e==="change")return t}var id=!1;if(gt){var _a;if(gt){var ka="oninput"in document;if(!ka){var mi=document.createElement("div");mi.setAttribute("oninput","return;"),ka=typeof mi.oninput=="function"}_a=ka}else _a=!1;id=_a&&(!document.documentMode||9<document.documentMode)}function pi(){dr&&(dr.detachEvent("onpropertychange",cd),Nr=dr=null)}function cd(e){if(e.propertyName==="value"&&Jn(Nr)){var t=[];od(t,Nr,e,eo(e)),Uc(hp,t)}}function gp(e,t,r){e==="focusin"?(pi(),dr=t,Nr=r,dr.attachEvent("onpropertychange",cd)):e==="focusout"&&pi()}function yp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jn(Nr)}function vp(e,t){if(e==="click")return Jn(t)}function bp(e,t){if(e==="input"||e==="change")return Jn(t)}function wp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:wp;function _r(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ba.call(t,a)||!tt(e[a],t[a]))return!1}return!0}function fi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var r=fi(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fi(r)}}function dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ud(){for(var e=window,t=yn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yn(e.document)}return t}function co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jp(e){var t=ud(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dd(r.ownerDocument.documentElement,r)){if(n!==null&&co(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=hi(r,l);var o=hi(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Np=gt&&"documentMode"in document&&11>=document.documentMode,ys=null,il=null,ur=null,cl=!1;function xi(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cl||ys==null||ys!==yn(n)||(n=ys,"selectionStart"in n&&co(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ur&&_r(ur,n)||(ur=n,n=kn(il,"onSelect"),0<n.length&&(t=new lo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ys)))}function Zr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vs={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},Ca={},md={};gt&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Xn(e){if(Ca[e])return Ca[e];if(!vs[e])return e;var t=vs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in md)return Ca[e]=t[r];return e}var pd=Xn("animationend"),fd=Xn("animationiteration"),hd=Xn("animationstart"),xd=Xn("transitionend"),gd=new Map,gi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){gd.set(e,t),ds(t,[e])}for(var Sa=0;Sa<gi.length;Sa++){var Ea=gi[Sa],_p=Ea.toLowerCase(),kp=Ea[0].toUpperCase()+Ea.slice(1);Wt(_p,"on"+kp)}Wt(pd,"onAnimationEnd");Wt(fd,"onAnimationIteration");Wt(hd,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(xd,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(lr));function yi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_m(n,t,void 0,e),e.currentTarget=null}function yd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],i=c.instance,u=c.currentTarget;if(c=c.listener,i!==l&&a.isPropagationStopped())break e;yi(a,c,u),l=i}else for(o=0;o<n.length;o++){if(c=n[o],i=c.instance,u=c.currentTarget,c=c.listener,i!==l&&a.isPropagationStopped())break e;yi(a,c,u),l=i}}}if(bn)throw e=nl,bn=!1,nl=null,e}function Y(e,t){var r=t[fl];r===void 0&&(r=t[fl]=new Set);var n=e+"__bubble";r.has(n)||(vd(t,e,2,!1),r.add(n))}function Pa(e,t,r){var n=0;t&&(n|=4),vd(r,e,n,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[Jr]){e[Jr]=!0,Cc.forEach(function(r){r!=="selectionchange"&&(Cp.has(r)||Pa(r,!1,e),Pa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jr]||(t[Jr]=!0,Pa("selectionchange",!1,t))}}function vd(e,t,r,n){switch(sd(t)){case 1:var a=zm;break;case 4:a=qm;break;default:a=no}r=a.bind(null,t,r,e),a=void 0,!rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Aa(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===a||i.nodeType===8&&i.parentNode===a))return;o=o.return}for(;c!==null;){if(o=es(c),o===null)return;if(i=o.tag,i===5||i===6){n=l=o;continue e}c=c.parentNode}}n=n.return}Uc(function(){var u=l,g=eo(r),f=[];e:{var v=gd.get(e);if(v!==void 0){var x=lo,j=e;switch(e){case"keypress":if(dn(r)===0)break e;case"keydown":case"keyup":x=sp;break;case"focusin":j="focus",x=Na;break;case"focusout":j="blur",x=Na;break;case"beforeblur":case"afterblur":x=Na;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=ap;break;case pd:case fd:case hd:x=Qm;break;case xd:x=op;break;case"scroll":x=Um;break;case"wheel":x=cp;break;case"copy":case"cut":case"paste":x=Km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ii}var k=(t&4)!==0,S=!k&&e==="scroll",h=k?v!==null?v+"Capture":null:v;k=[];for(var d=u,m;d!==null;){m=d;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,h!==null&&(y=vr(d,h),y!=null&&k.push(Cr(d,y,m)))),S)break;d=d.return}0<k.length&&(v=new x(v,j,null,r,g),f.push({event:v,listeners:k}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&r!==tl&&(j=r.relatedTarget||r.fromElement)&&(es(j)||j[yt]))break e;if((x||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,x?(j=r.relatedTarget||r.toElement,x=u,j=j?es(j):null,j!==null&&(S=us(j),j!==S||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=u),x!==j)){if(k=li,y="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=ii,y="onPointerLeave",h="onPointerEnter",d="pointer"),S=x==null?v:bs(x),m=j==null?v:bs(j),v=new k(y,d+"leave",x,r,g),v.target=S,v.relatedTarget=m,y=null,es(g)===u&&(k=new k(h,d+"enter",j,r,g),k.target=m,k.relatedTarget=S,y=k),S=y,x&&j)t:{for(k=x,h=j,d=0,m=k;m;m=fs(m))d++;for(m=0,y=h;y;y=fs(y))m++;for(;0<d-m;)k=fs(k),d--;for(;0<m-d;)h=fs(h),m--;for(;d--;){if(k===h||h!==null&&k===h.alternate)break t;k=fs(k),h=fs(h)}k=null}else k=null;x!==null&&vi(f,v,x,k,!1),j!==null&&S!==null&&vi(f,S,j,k,!0)}}e:{if(v=u?bs(u):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var _=xp;else if(ui(v))if(id)_=bp;else{_=yp;var N=gp}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(_=vp);if(_&&(_=_(e,u))){od(f,_,r,g);break e}N&&N(e,v,u),e==="focusout"&&(N=v._wrapperState)&&N.controlled&&v.type==="number"&&Za(v,"number",v.value)}switch(N=u?bs(u):window,e){case"focusin":(ui(N)||N.contentEditable==="true")&&(ys=N,il=u,ur=null);break;case"focusout":ur=il=ys=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,xi(f,r,g);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":xi(f,r,g)}var C;if(io)e:{switch(e){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else gs?ad(e,r)&&(p="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(p="onCompositionStart");p&&(nd&&r.locale!=="ko"&&(gs||p!=="onCompositionStart"?p==="onCompositionEnd"&&gs&&(C=rd()):(At=g,ao="value"in At?At.value:At.textContent,gs=!0)),N=kn(u,p),0<N.length&&(p=new oi(p,e,null,r,g),f.push({event:p,listeners:N}),C?p.data=C:(C=ld(r),C!==null&&(p.data=C)))),(C=up?mp(e,r):pp(e,r))&&(u=kn(u,"onBeforeInput"),0<u.length&&(g=new oi("onBeforeInput","beforeinput",null,r,g),f.push({event:g,listeners:u}),g.data=C))}yd(f,t)})}function Cr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kn(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=vr(e,r),l!=null&&n.unshift(Cr(e,l,a)),l=vr(e,t),l!=null&&n.push(Cr(e,l,a))),e=e.return}return n}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vi(e,t,r,n,a){for(var l=t._reactName,o=[];r!==null&&r!==n;){var c=r,i=c.alternate,u=c.stateNode;if(i!==null&&i===n)break;c.tag===5&&u!==null&&(c=u,a?(i=vr(r,l),i!=null&&o.unshift(Cr(r,i,c))):a||(i=vr(r,l),i!=null&&o.push(Cr(r,i,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Sp=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function bi(e){return(typeof e=="string"?e:""+e).replace(Sp,`
`).replace(Ep,"")}function Xr(e,t,r){if(t=bi(t),bi(e)!==t&&r)throw Error(L(425))}function Cn(){}var dl=null,ul=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,wi=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof wi<"u"?function(e){return wi.resolve(null).then(e).catch(Dp)}:pl;function Dp(e){setTimeout(function(){throw e})}function Da(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),jr(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);jr(t)}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ji(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),at="__reactFiber$"+Vs,Sr="__reactProps$"+Vs,yt="__reactContainer$"+Vs,fl="__reactEvents$"+Vs,Tp="__reactListeners$"+Vs,Lp="__reactHandles$"+Vs;function es(e){var t=e[at];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yt]||r[at]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ji(e);e!==null;){if(r=e[at])return r;e=ji(e)}return t}e=r,r=e.parentNode}return null}function $r(e){return e=e[at]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Yn(e){return e[Sr]||null}var hl=[],ws=-1;function Qt(e){return{current:e}}function ee(e){0>ws||(e.current=hl[ws],hl[ws]=null,ws--)}function X(e,t){ws++,hl[ws]=e.current,e.current=t}var Bt={},be=Qt(Bt),Ae=Qt(!1),as=Bt;function Os(e,t){var r=e.type.contextTypes;if(!r)return Bt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function De(e){return e=e.childContextTypes,e!=null}function Sn(){ee(Ae),ee(be)}function Ni(e,t,r){if(be.current!==Bt)throw Error(L(168));X(be,t),X(Ae,r)}function bd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(L(108,gm(e)||"Unknown",a));return le({},r,n)}function En(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,as=be.current,X(be,e),X(Ae,Ae.current),!0}function _i(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=bd(e,t,as),n.__reactInternalMemoizedMergedChildContext=e,ee(Ae),ee(be),X(be,e)):ee(Ae),X(Ae,r)}var ut=null,ea=!1,Ta=!1;function wd(e){ut===null?ut=[e]:ut.push(e)}function Rp(e){ea=!0,wd(e)}function Gt(){if(!Ta&&ut!==null){Ta=!0;var e=0,t=J;try{var r=ut;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ut=null,ea=!1}catch(a){throw ut!==null&&(ut=ut.slice(e+1)),Wc(to,Gt),a}finally{J=t,Ta=!1}}return null}var js=[],Ns=0,Pn=null,An=0,Be=[],Ve=0,ls=null,mt=1,pt="";function Jt(e,t){js[Ns++]=An,js[Ns++]=Pn,Pn=e,An=t}function jd(e,t,r){Be[Ve++]=mt,Be[Ve++]=pt,Be[Ve++]=ls,ls=e;var n=mt;e=pt;var a=32-Ye(n)-1;n&=~(1<<a),r+=1;var l=32-Ye(t)+a;if(30<l){var o=a-a%5;l=(n&(1<<o)-1).toString(32),n>>=o,a-=o,mt=1<<32-Ye(t)+a|r<<a|n,pt=l+e}else mt=1<<l|r<<a|n,pt=e}function uo(e){e.return!==null&&(Jt(e,1),jd(e,1,0))}function mo(e){for(;e===Pn;)Pn=js[--Ns],js[Ns]=null,An=js[--Ns],js[Ns]=null;for(;e===ls;)ls=Be[--Ve],Be[Ve]=null,pt=Be[--Ve],Be[Ve]=null,mt=Be[--Ve],Be[Ve]=null}var Me=null,Ie=null,se=!1,Xe=null;function Nd(e,t){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ki(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,Ie=Ft(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ls!==null?{id:mt,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Me=e,Ie=null,!0):!1;default:return!1}}function xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gl(e){if(se){var t=Ie;if(t){var r=t;if(!ki(e,t)){if(xl(e))throw Error(L(418));t=Ft(r.nextSibling);var n=Me;t&&ki(e,t)?Nd(n,r):(e.flags=e.flags&-4097|2,se=!1,Me=e)}}else{if(xl(e))throw Error(L(418));e.flags=e.flags&-4097|2,se=!1,Me=e}}}function Ci(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function Yr(e){if(e!==Me)return!1;if(!se)return Ci(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=Ie)){if(xl(e))throw _d(),Error(L(418));for(;t;)Nd(e,t),t=Ft(t.nextSibling)}if(Ci(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ie=Ft(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Me?Ft(e.stateNode.nextSibling):null;return!0}function _d(){for(var e=Ie;e;)e=Ft(e.nextSibling)}function Fs(){Ie=Me=null,se=!1}function po(e){Xe===null?Xe=[e]:Xe.push(e)}var Op=jt.ReactCurrentBatchConfig;function er(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=a.refs;o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function en(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Si(e){var t=e._init;return t(e._payload)}function kd(e){function t(h,d){if(e){var m=h.deletions;m===null?(h.deletions=[d],h.flags|=16):m.push(d)}}function r(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function n(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function a(h,d){return h=zt(h,d),h.index=0,h.sibling=null,h}function l(h,d,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<d?(h.flags|=2,d):m):(h.flags|=2,d)):(h.flags|=1048576,d)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function c(h,d,m,y){return d===null||d.tag!==6?(d=$a(m,h.mode,y),d.return=h,d):(d=a(d,m),d.return=h,d)}function i(h,d,m,y){var _=m.type;return _===xs?g(h,d,m.props.children,y,m.key):d!==null&&(d.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ct&&Si(_)===d.type)?(y=a(d,m.props),y.ref=er(h,d,m),y.return=h,y):(y=gn(m.type,m.key,m.props,null,h.mode,y),y.ref=er(h,d,m),y.return=h,y)}function u(h,d,m,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=za(m,h.mode,y),d.return=h,d):(d=a(d,m.children||[]),d.return=h,d)}function g(h,d,m,y,_){return d===null||d.tag!==7?(d=ns(m,h.mode,y,_),d.return=h,d):(d=a(d,m),d.return=h,d)}function f(h,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=$a(""+d,h.mode,m),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Br:return m=gn(d.type,d.key,d.props,null,h.mode,m),m.ref=er(h,null,d),m.return=h,m;case hs:return d=za(d,h.mode,m),d.return=h,d;case Ct:var y=d._init;return f(h,y(d._payload),m)}if(nr(d)||Ks(d))return d=ns(d,h.mode,m,null),d.return=h,d;en(h,d)}return null}function v(h,d,m,y){var _=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:c(h,d,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Br:return m.key===_?i(h,d,m,y):null;case hs:return m.key===_?u(h,d,m,y):null;case Ct:return _=m._init,v(h,d,_(m._payload),y)}if(nr(m)||Ks(m))return _!==null?null:g(h,d,m,y,null);en(h,m)}return null}function x(h,d,m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(m)||null,c(d,h,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Br:return h=h.get(y.key===null?m:y.key)||null,i(d,h,y,_);case hs:return h=h.get(y.key===null?m:y.key)||null,u(d,h,y,_);case Ct:var N=y._init;return x(h,d,m,N(y._payload),_)}if(nr(y)||Ks(y))return h=h.get(m)||null,g(d,h,y,_,null);en(d,y)}return null}function j(h,d,m,y){for(var _=null,N=null,C=d,p=d=0,w=null;C!==null&&p<m.length;p++){C.index>p?(w=C,C=null):w=C.sibling;var E=v(h,C,m[p],y);if(E===null){C===null&&(C=w);break}e&&C&&E.alternate===null&&t(h,C),d=l(E,d,p),N===null?_=E:N.sibling=E,N=E,C=w}if(p===m.length)return r(h,C),se&&Jt(h,p),_;if(C===null){for(;p<m.length;p++)C=f(h,m[p],y),C!==null&&(d=l(C,d,p),N===null?_=C:N.sibling=C,N=C);return se&&Jt(h,p),_}for(C=n(h,C);p<m.length;p++)w=x(C,h,p,m[p],y),w!==null&&(e&&w.alternate!==null&&C.delete(w.key===null?p:w.key),d=l(w,d,p),N===null?_=w:N.sibling=w,N=w);return e&&C.forEach(function(R){return t(h,R)}),se&&Jt(h,p),_}function k(h,d,m,y){var _=Ks(m);if(typeof _!="function")throw Error(L(150));if(m=_.call(m),m==null)throw Error(L(151));for(var N=_=null,C=d,p=d=0,w=null,E=m.next();C!==null&&!E.done;p++,E=m.next()){C.index>p?(w=C,C=null):w=C.sibling;var R=v(h,C,E.value,y);if(R===null){C===null&&(C=w);break}e&&C&&R.alternate===null&&t(h,C),d=l(R,d,p),N===null?_=R:N.sibling=R,N=R,C=w}if(E.done)return r(h,C),se&&Jt(h,p),_;if(C===null){for(;!E.done;p++,E=m.next())E=f(h,E.value,y),E!==null&&(d=l(E,d,p),N===null?_=E:N.sibling=E,N=E);return se&&Jt(h,p),_}for(C=n(h,C);!E.done;p++,E=m.next())E=x(C,h,p,E.value,y),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?p:E.key),d=l(E,d,p),N===null?_=E:N.sibling=E,N=E);return e&&C.forEach(function(A){return t(h,A)}),se&&Jt(h,p),_}function S(h,d,m,y){if(typeof m=="object"&&m!==null&&m.type===xs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Br:e:{for(var _=m.key,N=d;N!==null;){if(N.key===_){if(_=m.type,_===xs){if(N.tag===7){r(h,N.sibling),d=a(N,m.props.children),d.return=h,h=d;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ct&&Si(_)===N.type){r(h,N.sibling),d=a(N,m.props),d.ref=er(h,N,m),d.return=h,h=d;break e}r(h,N);break}else t(h,N);N=N.sibling}m.type===xs?(d=ns(m.props.children,h.mode,y,m.key),d.return=h,h=d):(y=gn(m.type,m.key,m.props,null,h.mode,y),y.ref=er(h,d,m),y.return=h,h=y)}return o(h);case hs:e:{for(N=m.key;d!==null;){if(d.key===N)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){r(h,d.sibling),d=a(d,m.children||[]),d.return=h,h=d;break e}else{r(h,d);break}else t(h,d);d=d.sibling}d=za(m,h.mode,y),d.return=h,h=d}return o(h);case Ct:return N=m._init,S(h,d,N(m._payload),y)}if(nr(m))return j(h,d,m,y);if(Ks(m))return k(h,d,m,y);en(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(r(h,d.sibling),d=a(d,m),d.return=h,h=d):(r(h,d),d=$a(m,h.mode,y),d.return=h,h=d),o(h)):r(h,d)}return S}var Is=kd(!0),Cd=kd(!1),Dn=Qt(null),Tn=null,_s=null,fo=null;function ho(){fo=_s=Tn=null}function xo(e){var t=Dn.current;ee(Dn),e._currentValue=t}function yl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ts(e,t){Tn=e,fo=_s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(fo!==e)if(e={context:e,memoizedValue:t,next:null},_s===null){if(Tn===null)throw Error(L(308));_s=e,Tn.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var ts=null;function go(e){ts===null?ts=[e]:ts.push(e)}function Sd(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,go(t)):(r.next=a.next,a.next=r),t.interleaved=r,vt(e,n)}function vt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var St=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vt(e,r)}return a=n.interleaved,a===null?(t.next=t,go(n)):(t.next=a.next,a.next=t),n.interleaved=t,vt(e,r)}function un(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,so(e,r)}}function Ei(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ln(e,t,r,n){var a=e.updateQueue;St=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var i=c,u=i.next;i.next=null,o===null?l=u:o.next=u,o=i;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==o&&(c===null?g.firstBaseUpdate=u:c.next=u,g.lastBaseUpdate=i))}if(l!==null){var f=a.baseState;o=0,g=u=i=null,c=l;do{var v=c.lane,x=c.eventTime;if((n&v)===v){g!==null&&(g=g.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=e,k=c;switch(v=t,x=r,k.tag){case 1:if(j=k.payload,typeof j=="function"){f=j.call(x,f,v);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=k.payload,v=typeof j=="function"?j.call(x,f,v):j,v==null)break e;f=le({},f,v);break e;case 2:St=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=a.effects,v===null?a.effects=[c]:v.push(c))}else x={eventTime:x,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(u=g=x,i=f):g=g.next=x,o|=v;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;v=c,c=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(1);if(g===null&&(i=f),a.baseState=i,a.firstBaseUpdate=u,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);is|=o,e.lanes=o,e.memoizedState=f}}function Pi(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(L(191,a));a.call(n)}}}var zr={},ot=Qt(zr),Er=Qt(zr),Pr=Qt(zr);function ss(e){if(e===zr)throw Error(L(174));return e}function vo(e,t){switch(X(Pr,t),X(Er,e),X(ot,zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xa(t,e)}ee(ot),X(ot,t)}function Ms(){ee(ot),ee(Er),ee(Pr)}function Pd(e){ss(Pr.current);var t=ss(ot.current),r=Xa(t,e.type);t!==r&&(X(Er,e),X(ot,r))}function bo(e){Er.current===e&&(ee(ot),ee(Er))}var re=Qt(0);function Rn(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=[];function wo(){for(var e=0;e<La.length;e++)La[e]._workInProgressVersionPrimary=null;La.length=0}var mn=jt.ReactCurrentDispatcher,Ra=jt.ReactCurrentBatchConfig,os=0,ne=null,de=null,me=null,On=!1,mr=!1,Ar=0,Fp=0;function ge(){throw Error(L(321))}function jo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tt(e[r],t[r]))return!1;return!0}function No(e,t,r,n,a,l){if(os=l,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mn.current=e===null||e.memoizedState===null?zp:qp,e=r(n,a),mr){l=0;do{if(mr=!1,Ar=0,25<=l)throw Error(L(301));l+=1,me=de=null,t.updateQueue=null,mn.current=Up,e=r(n,a)}while(mr)}if(mn.current=Fn,t=de!==null&&de.next!==null,os=0,me=de=ne=null,On=!1,t)throw Error(L(300));return e}function _o(){var e=Ar!==0;return Ar=0,e}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=e:me=me.next=e,me}function Ge(){if(de===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=me===null?ne.memoizedState:me.next;if(t!==null)me=t,de=e;else{if(e===null)throw Error(L(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?ne.memoizedState=me=e:me=me.next=e}return me}function Dr(e,t){return typeof t=="function"?t(e):t}function Oa(e){var t=Ge(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=de,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var c=o=null,i=null,u=l;do{var g=u.lane;if((os&g)===g)i!==null&&(i=i.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};i===null?(c=i=f,o=n):i=i.next=f,ne.lanes|=g,is|=g}u=u.next}while(u!==null&&u!==l);i===null?o=n:i.next=c,tt(n,t.memoizedState)||(Pe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=i,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,ne.lanes|=l,is|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fa(e){var t=Ge(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);tt(l,t.memoizedState)||(Pe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Ad(){}function Dd(e,t){var r=ne,n=Ge(),a=t(),l=!tt(n.memoizedState,a);if(l&&(n.memoizedState=a,Pe=!0),n=n.queue,ko(Rd.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,Tr(9,Ld.bind(null,r,n,a,t),void 0,null),pe===null)throw Error(L(349));os&30||Td(r,t,a)}return a}function Td(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ld(e,t,r,n){t.value=r,t.getSnapshot=n,Od(t)&&Fd(e)}function Rd(e,t,r){return r(function(){Od(t)&&Fd(e)})}function Od(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tt(e,r)}catch{return!0}}function Fd(e){var t=vt(e,1);t!==null&&et(t,e,1,-1)}function Ai(e){var t=nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=$p.bind(null,ne,e),[t.memoizedState,e]}function Tr(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Id(){return Ge().memoizedState}function pn(e,t,r,n){var a=nt();ne.flags|=e,a.memoizedState=Tr(1|t,r,void 0,n===void 0?null:n)}function ta(e,t,r,n){var a=Ge();n=n===void 0?null:n;var l=void 0;if(de!==null){var o=de.memoizedState;if(l=o.destroy,n!==null&&jo(n,o.deps)){a.memoizedState=Tr(t,r,l,n);return}}ne.flags|=e,a.memoizedState=Tr(1|t,r,l,n)}function Di(e,t){return pn(8390656,8,e,t)}function ko(e,t){return ta(2048,8,e,t)}function Md(e,t){return ta(4,2,e,t)}function $d(e,t){return ta(4,4,e,t)}function zd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,r){return r=r!=null?r.concat([e]):null,ta(4,4,zd.bind(null,t,e),r)}function Co(){}function Ud(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bd(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vd(e,t,r){return os&21?(tt(r,t)||(r=Kc(),ne.lanes|=r,is|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=r)}function Ip(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Ra.transition;Ra.transition={};try{e(!1),t()}finally{J=r,Ra.transition=n}}function Hd(){return Ge().memoizedState}function Mp(e,t,r){var n=$t(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wd(e))Qd(t,r);else if(r=Sd(e,t,r,n),r!==null){var a=je();et(r,e,n,a),Gd(r,t,n)}}function $p(e,t,r){var n=$t(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wd(e))Qd(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,r);if(a.hasEagerState=!0,a.eagerState=c,tt(c,o)){var i=t.interleaved;i===null?(a.next=a,go(t)):(a.next=i.next,i.next=a),t.interleaved=a;return}}catch{}finally{}r=Sd(e,t,a,n),r!==null&&(a=je(),et(r,e,n,a),Gd(r,t,n))}}function Wd(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Qd(e,t){mr=On=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,so(e,r)}}var Fn={readContext:Qe,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},zp={readContext:Qe,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:Di,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pn(4194308,4,zd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pn(4194308,4,e,t)},useInsertionEffect:function(e,t){return pn(4,2,e,t)},useMemo:function(e,t){var r=nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=nt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Mp.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:Ai,useDebugValue:Co,useDeferredValue:function(e){return nt().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Ip.bind(null,e[1]),nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,a=nt();if(se){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),pe===null)throw Error(L(349));os&30||Td(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Di(Rd.bind(null,n,l,e),[e]),n.flags|=2048,Tr(9,Ld.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=nt(),t=pe.identifierPrefix;if(se){var r=pt,n=mt;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ar++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Fp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qp={readContext:Qe,useCallback:Ud,useContext:Qe,useEffect:ko,useImperativeHandle:qd,useInsertionEffect:Md,useLayoutEffect:$d,useMemo:Bd,useReducer:Oa,useRef:Id,useState:function(){return Oa(Dr)},useDebugValue:Co,useDeferredValue:function(e){var t=Ge();return Vd(t,de.memoizedState,e)},useTransition:function(){var e=Oa(Dr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Ad,useSyncExternalStore:Dd,useId:Hd,unstable_isNewReconciler:!1},Up={readContext:Qe,useCallback:Ud,useContext:Qe,useEffect:ko,useImperativeHandle:qd,useInsertionEffect:Md,useLayoutEffect:$d,useMemo:Bd,useReducer:Fa,useRef:Id,useState:function(){return Fa(Dr)},useDebugValue:Co,useDeferredValue:function(e){var t=Ge();return de===null?t.memoizedState=e:Vd(t,de.memoizedState,e)},useTransition:function(){var e=Fa(Dr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Ad,useSyncExternalStore:Dd,useId:Hd,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function vl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sa={isMounted:function(e){return(e=e._reactInternals)?us(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=je(),a=$t(e),l=ft(n,a);l.payload=t,r!=null&&(l.callback=r),t=It(e,l,a),t!==null&&(et(t,e,a,n),un(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=je(),a=$t(e),l=ft(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=It(e,l,a),t!==null&&(et(t,e,a,n),un(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=je(),n=$t(e),a=ft(r,n);a.tag=2,t!=null&&(a.callback=t),t=It(e,a,n),t!==null&&(et(t,e,n,r),un(t,e,n))}};function Ti(e,t,r,n,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,o):t.prototype&&t.prototype.isPureReactComponent?!_r(r,n)||!_r(a,l):!0}function Kd(e,t,r){var n=!1,a=Bt,l=t.contextType;return typeof l=="object"&&l!==null?l=Qe(l):(a=De(t)?as:be.current,n=t.contextTypes,l=(n=n!=null)?Os(e,a):Bt),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Li(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function bl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},yo(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Qe(l):(l=De(t)?as:be.current,a.context=Os(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(vl(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&sa.enqueueReplaceState(a,a.state,null),Ln(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function $s(e,t){try{var r="",n=t;do r+=xm(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Ia(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,t,r){r=ft(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mn||(Mn=!0,Dl=n),wl(e,t)},r}function Jd(e,t,r){r=ft(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){wl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){wl(e,t),typeof n!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ri(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Bp;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=rf.bind(null,e,t,r),t.then(e,e))}function Oi(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fi(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ft(-1,1),t.tag=2,It(r,t,1))),r.lanes|=1),e)}var Vp=jt.ReactCurrentOwner,Pe=!1;function we(e,t,r,n){t.child=e===null?Cd(t,null,r,n):Is(t,e.child,r,n)}function Ii(e,t,r,n,a){r=r.render;var l=t.ref;return Ts(t,a),n=No(e,t,r,n,l,a),r=_o(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bt(e,t,a)):(se&&r&&uo(t),t.flags|=1,we(e,t,n,a),t.child)}function Mi(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!Ro(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Xd(e,t,l,n,a)):(e=gn(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:_r,r(o,n)&&e.ref===t.ref)return bt(e,t,a)}return t.flags|=1,e=zt(l,n),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(_r(l,n)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,bt(e,t,a)}return jl(e,t,r,n,a)}function Yd(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Cs,Fe),Fe|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Cs,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,X(Cs,Fe),Fe|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,X(Cs,Fe),Fe|=n;return we(e,t,a,r),t.child}function eu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jl(e,t,r,n,a){var l=De(r)?as:be.current;return l=Os(t,l),Ts(t,a),r=No(e,t,r,n,l,a),n=_o(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bt(e,t,a)):(se&&n&&uo(t),t.flags|=1,we(e,t,r,a),t.child)}function $i(e,t,r,n,a){if(De(r)){var l=!0;En(t)}else l=!1;if(Ts(t,a),t.stateNode===null)fn(e,t),Kd(t,r,n),bl(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var i=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=De(r)?as:be.current,u=Os(t,u));var g=r.getDerivedStateFromProps,f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||i!==u)&&Li(t,o,n,u),St=!1;var v=t.memoizedState;o.state=v,Ln(t,n,o,a),i=t.memoizedState,c!==n||v!==i||Ae.current||St?(typeof g=="function"&&(vl(t,r,g,n),i=t.memoizedState),(c=St||Ti(t,r,c,n,v,i,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),o.props=n,o.state=i,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ed(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ze(t.type,c),o.props=u,f=t.pendingProps,v=o.context,i=r.contextType,typeof i=="object"&&i!==null?i=Qe(i):(i=De(r)?as:be.current,i=Os(t,i));var x=r.getDerivedStateFromProps;(g=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==f||v!==i)&&Li(t,o,n,i),St=!1,v=t.memoizedState,o.state=v,Ln(t,n,o,a);var j=t.memoizedState;c!==f||v!==j||Ae.current||St?(typeof x=="function"&&(vl(t,r,x,n),j=t.memoizedState),(u=St||Ti(t,r,u,n,v,j,i)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,j,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,j,i)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=j),o.props=n,o.state=j,o.context=i,n=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return Nl(e,t,r,n,l,a)}function Nl(e,t,r,n,a,l){eu(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&_i(t,r,!1),bt(e,t,l);n=t.stateNode,Vp.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Is(t,e.child,null,l),t.child=Is(t,null,c,l)):we(e,t,c,l),t.memoizedState=n.state,a&&_i(t,r,!0),t.child}function tu(e){var t=e.stateNode;t.pendingContext?Ni(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(e,t.context,!1),vo(e,t.containerInfo)}function zi(e,t,r,n,a){return Fs(),po(a),t.flags|=256,we(e,t,r,n),t.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function su(e,t,r){var n=t.pendingProps,a=re.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),X(re,a&1),e===null)return gl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=aa(o,n,0,null),e=ns(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=kl(r),t.memoizedState=_l,e):So(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Hp(e,t,o,n,c,a,r);if(l){l=n.fallback,o=t.mode,a=e.child,c=a.sibling;var i={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=i,t.deletions=null):(n=zt(a,i),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=zt(c,l):(l=ns(l,o,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=e.child.memoizedState,o=o===null?kl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=_l,n}return l=e.child,e=l.sibling,n=zt(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function So(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tn(e,t,r,n){return n!==null&&po(n),Is(t,e.child,null,r),e=So(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hp(e,t,r,n,a,l,o){if(r)return t.flags&256?(t.flags&=-257,n=Ia(Error(L(422))),tn(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=aa({mode:"visible",children:n.children},a,0,null),l=ns(l,a,o,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Is(t,e.child,null,o),t.child.memoizedState=kl(o),t.memoizedState=_l,l);if(!(t.mode&1))return tn(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,l=Error(L(419)),n=Ia(l,n,void 0),tn(e,t,o,n)}if(c=(o&e.childLanes)!==0,Pe||c){if(n=pe,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,vt(e,a),et(n,e,a,-1))}return Lo(),n=Ia(Error(L(421))),tn(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=nf.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ie=Ft(a.nextSibling),Me=t,se=!0,Xe=null,e!==null&&(Be[Ve++]=mt,Be[Ve++]=pt,Be[Ve++]=ls,mt=e.id,pt=e.overflow,ls=t),t=So(t,n.children),t.flags|=4096,t)}function qi(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),yl(e.return,t,r)}function Ma(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function ru(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(we(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qi(e,r,t);else if(e.tag===19)qi(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(X(re,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Rn(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ma(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Rn(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ma(t,!0,r,null,l);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=zt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Wp(e,t,r){switch(t.tag){case 3:tu(t),Fs();break;case 5:Pd(t);break;case 1:De(t.type)&&En(t);break;case 4:vo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;X(Dn,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(X(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?su(e,t,r):(X(re,re.current&1),e=bt(e,t,r),e!==null?e.sibling:null);X(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ru(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),X(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,Yd(e,t,r)}return bt(e,t,r)}var nu,Cl,au,lu;nu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cl=function(){};au=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ss(ot.current);var l=null;switch(r){case"input":a=Ga(e,a),n=Ga(e,n),l=[];break;case"select":a=le({},a,{value:void 0}),n=le({},n,{value:void 0}),l=[];break;case"textarea":a=Ja(e,a),n=Ja(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cn)}Ya(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var i=n[u];if(c=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&i!==c&&(i!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in i)i.hasOwnProperty(o)&&c[o]!==i[o]&&(r||(r={}),r[o]=i[o])}else r||(l||(l=[]),l.push(u,r)),r=i;else u==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(l=l||[]).push(u,i)):u==="children"?typeof i!="string"&&typeof i!="number"||(l=l||[]).push(u,""+i):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gr.hasOwnProperty(u)?(i!=null&&u==="onScroll"&&Y("scroll",e),l||c===i||(l=[])):(l=l||[]).push(u,i))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};lu=function(e,t,r,n){r!==n&&(t.flags|=4)};function tr(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Qp(e,t,r){var n=t.pendingProps;switch(mo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return De(t.type)&&Sn(),ye(t),null;case 3:return n=t.stateNode,Ms(),ee(Ae),ee(be),wo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(Rl(Xe),Xe=null))),Cl(e,t),ye(t),null;case 5:bo(t);var a=ss(Pr.current);if(r=t.type,e!==null&&t.stateNode!=null)au(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return ye(t),null}if(e=ss(ot.current),Yr(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[at]=t,n[Sr]=l,e=(t.mode&1)!==0,r){case"dialog":Y("cancel",n),Y("close",n);break;case"iframe":case"object":case"embed":Y("load",n);break;case"video":case"audio":for(a=0;a<lr.length;a++)Y(lr[a],n);break;case"source":Y("error",n);break;case"img":case"image":case"link":Y("error",n),Y("load",n);break;case"details":Y("toggle",n);break;case"input":Zo(n,l),Y("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Y("invalid",n);break;case"textarea":Xo(n,l),Y("invalid",n)}Ya(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?n.textContent!==c&&(l.suppressHydrationWarning!==!0&&Xr(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Xr(n.textContent,c,e),a=["children",""+c]):gr.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Y("scroll",n)}switch(r){case"input":Vr(n),Jo(n,l,!0);break;case"textarea":Vr(n),Yo(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Cn)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[at]=t,e[Sr]=n,nu(e,t,!1,!1),t.stateNode=e;e:{switch(o=el(r,n),r){case"dialog":Y("cancel",e),Y("close",e),a=n;break;case"iframe":case"object":case"embed":Y("load",e),a=n;break;case"video":case"audio":for(a=0;a<lr.length;a++)Y(lr[a],e);a=n;break;case"source":Y("error",e),a=n;break;case"img":case"image":case"link":Y("error",e),Y("load",e),a=n;break;case"details":Y("toggle",e),a=n;break;case"input":Zo(e,n),a=Ga(e,n),Y("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=le({},n,{value:void 0}),Y("invalid",e);break;case"textarea":Xo(e,n),a=Ja(e,n),Y("invalid",e);break;default:a=n}Ya(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var i=c[l];l==="style"?Ic(e,i):l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Oc(e,i)):l==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&yr(e,i):typeof i=="number"&&yr(e,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(gr.hasOwnProperty(l)?i!=null&&l==="onScroll"&&Y("scroll",e):i!=null&&Zl(e,l,i,o))}switch(r){case"input":Vr(e),Jo(e,n,!1);break;case"textarea":Vr(e),Yo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ut(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Es(e,!!n.multiple,l,!1):n.defaultValue!=null&&Es(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)lu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=ss(Pr.current),ss(ot.current),Yr(t)){if(n=t.stateNode,r=t.memoizedProps,n[at]=t,(l=n.nodeValue!==r)&&(e=Me,e!==null))switch(e.tag){case 3:Xr(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xr(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[at]=t,t.stateNode=n}return ye(t),null;case 13:if(ee(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Ie!==null&&t.mode&1&&!(t.flags&128))_d(),Fs(),t.flags|=98560,l=!1;else if(l=Yr(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(L(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(L(317));l[at]=t}else Fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),l=!1}else Xe!==null&&(Rl(Xe),Xe=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?ue===0&&(ue=3):Lo())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Ms(),Cl(e,t),e===null&&kr(t.stateNode.containerInfo),ye(t),null;case 10:return xo(t.type._context),ye(t),null;case 17:return De(t.type)&&Sn(),ye(t),null;case 19:if(ee(re),l=t.memoizedState,l===null)return ye(t),null;if(n=(t.flags&128)!==0,o=l.rendering,o===null)if(n)tr(l,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Rn(e),o!==null){for(t.flags|=128,tr(l,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(re,re.current&1|2),t.child}e=e.sibling}l.tail!==null&&ie()>zs&&(t.flags|=128,n=!0,tr(l,!1),t.lanes=4194304)}else{if(!n)if(e=Rn(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!se)return ye(t),null}else 2*ie()-l.renderingStartTime>zs&&r!==1073741824&&(t.flags|=128,n=!0,tr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ie(),t.sibling=null,r=re.current,X(re,n?r&1|2:r&1),t):(ye(t),null);case 22:case 23:return To(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fe&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Gp(e,t){switch(mo(t),t.tag){case 1:return De(t.type)&&Sn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),ee(Ae),ee(be),wo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bo(t),null;case 13:if(ee(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(re),null;case 4:return Ms(),null;case 10:return xo(t.type._context),null;case 22:case 23:return To(),null;case 24:return null;default:return null}}var sn=!1,ve=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,$=null;function ks(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function Sl(e,t,r){try{r()}catch(n){oe(e,t,n)}}var Ui=!1;function Zp(e,t){if(dl=Nn,e=ud(),co(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,c=-1,i=-1,u=0,g=0,f=e,v=null;t:for(;;){for(var x;f!==r||a!==0&&f.nodeType!==3||(c=o+a),f!==l||n!==0&&f.nodeType!==3||(i=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)v=f,f=x;for(;;){if(f===e)break t;if(v===r&&++u===a&&(c=o),v===l&&++g===n&&(i=o),(x=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=x}r=c===-1||i===-1?null:{start:c,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(ul={focusedElem:e,selectionRange:r},Nn=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var k=j.memoizedProps,S=j.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ze(t.type,k),S);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(y){oe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=Ui,Ui=!1,j}function pr(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Sl(t,r,l)}a=a.next}while(a!==n)}}function ra(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function El(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ou(e){var t=e.alternate;t!==null&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Sr],delete t[fl],delete t[Tp],delete t[Lp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iu(e){return e.tag===5||e.tag===3||e.tag===4}function Bi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cn));else if(n!==4&&(e=e.child,e!==null))for(Pl(e,t,r),e=e.sibling;e!==null;)Pl(e,t,r),e=e.sibling}function Al(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Al(e,t,r),e=e.sibling;e!==null;)Al(e,t,r),e=e.sibling}var fe=null,Je=!1;function kt(e,t,r){for(r=r.child;r!==null;)cu(e,t,r),r=r.sibling}function cu(e,t,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Kn,r)}catch{}switch(r.tag){case 5:ve||ks(r,t);case 6:var n=fe,a=Je;fe=null,kt(e,t,r),fe=n,Je=a,fe!==null&&(Je?(e=fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(Je?(e=fe,r=r.stateNode,e.nodeType===8?Da(e.parentNode,r):e.nodeType===1&&Da(e,r),jr(e)):Da(fe,r.stateNode));break;case 4:n=fe,a=Je,fe=r.stateNode.containerInfo,Je=!0,kt(e,t,r),fe=n,Je=a;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Sl(r,t,o),a=a.next}while(a!==n)}kt(e,t,r);break;case 1:if(!ve&&(ks(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){oe(r,t,c)}kt(e,t,r);break;case 21:kt(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,kt(e,t,r),ve=n):kt(e,t,r);break;default:kt(e,t,r)}}function Vi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Kp),t.forEach(function(n){var a=af.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:fe=c.stateNode,Je=!1;break e;case 3:fe=c.stateNode.containerInfo,Je=!0;break e;case 4:fe=c.stateNode.containerInfo,Je=!0;break e}c=c.return}if(fe===null)throw Error(L(160));cu(l,o,a),fe=null,Je=!1;var i=a.alternate;i!==null&&(i.return=null),a.return=null}catch(u){oe(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)du(t,e),t=t.sibling}function du(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),rt(e),n&4){try{pr(3,e,e.return),ra(3,e)}catch(k){oe(e,e.return,k)}try{pr(5,e,e.return)}catch(k){oe(e,e.return,k)}}break;case 1:Ke(t,e),rt(e),n&512&&r!==null&&ks(r,r.return);break;case 5:if(Ke(t,e),rt(e),n&512&&r!==null&&ks(r,r.return),e.flags&32){var a=e.stateNode;try{yr(a,"")}catch(k){oe(e,e.return,k)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Tc(a,l),el(c,o);var u=el(c,l);for(o=0;o<i.length;o+=2){var g=i[o],f=i[o+1];g==="style"?Ic(a,f):g==="dangerouslySetInnerHTML"?Oc(a,f):g==="children"?yr(a,f):Zl(a,g,f,u)}switch(c){case"input":Ka(a,l);break;case"textarea":Lc(a,l);break;case"select":var v=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Es(a,!!l.multiple,x,!1):v!==!!l.multiple&&(l.defaultValue!=null?Es(a,!!l.multiple,l.defaultValue,!0):Es(a,!!l.multiple,l.multiple?[]:"",!1))}a[Sr]=l}catch(k){oe(e,e.return,k)}}break;case 6:if(Ke(t,e),rt(e),n&4){if(e.stateNode===null)throw Error(L(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(k){oe(e,e.return,k)}}break;case 3:if(Ke(t,e),rt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jr(t.containerInfo)}catch(k){oe(e,e.return,k)}break;case 4:Ke(t,e),rt(e);break;case 13:Ke(t,e),rt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ao=ie())),n&4&&Vi(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(u=ve)||g,Ke(t,e),ve=u):Ke(t,e),rt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!g&&e.mode&1)for($=e,g=e.child;g!==null;){for(f=$=g;$!==null;){switch(v=$,x=v.child,v.tag){case 0:case 11:case 14:case 15:pr(4,v,v.return);break;case 1:ks(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(k){oe(n,r,k)}}break;case 5:ks(v,v.return);break;case 22:if(v.memoizedState!==null){Wi(f);continue}}x!==null?(x.return=v,$=x):Wi(f)}g=g.sibling}e:for(g=null,f=e;;){if(f.tag===5){if(g===null){g=f;try{a=f.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=f.stateNode,i=f.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=Fc("display",o))}catch(k){oe(e,e.return,k)}}}else if(f.tag===6){if(g===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(k){oe(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ke(t,e),rt(e),n&4&&Vi(e);break;case 21:break;default:Ke(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iu(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(yr(a,""),n.flags&=-33);var l=Bi(e);Al(e,l,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Bi(e);Pl(e,c,o);break;default:throw Error(L(161))}}catch(i){oe(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jp(e,t,r){$=e,uu(e)}function uu(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var a=$,l=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||sn;if(!o){var c=a.alternate,i=c!==null&&c.memoizedState!==null||ve;c=sn;var u=ve;if(sn=o,(ve=i)&&!u)for($=a;$!==null;)o=$,i=o.child,o.tag===22&&o.memoizedState!==null?Qi(a):i!==null?(i.return=o,$=i):Qi(a);for(;l!==null;)$=l,uu(l),l=l.sibling;$=a,sn=c,ve=u}Hi(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,$=l):Hi(e)}}function Hi(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||ra(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Pi(t,l,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pi(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var f=g.dehydrated;f!==null&&jr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}ve||t.flags&512&&El(t)}catch(v){oe(t,t.return,v)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Wi(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Qi(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ra(4,t)}catch(i){oe(t,r,i)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(i){oe(t,a,i)}}var l=t.return;try{El(t)}catch(i){oe(t,l,i)}break;case 5:var o=t.return;try{El(t)}catch(i){oe(t,o,i)}}}catch(i){oe(t,t.return,i)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var Xp=Math.ceil,In=jt.ReactCurrentDispatcher,Eo=jt.ReactCurrentOwner,We=jt.ReactCurrentBatchConfig,Q=0,pe=null,ce=null,he=0,Fe=0,Cs=Qt(0),ue=0,Lr=null,is=0,na=0,Po=0,fr=null,Ee=null,Ao=0,zs=1/0,dt=null,Mn=!1,Dl=null,Mt=null,rn=!1,Dt=null,$n=0,hr=0,Tl=null,hn=-1,xn=0;function je(){return Q&6?ie():hn!==-1?hn:hn=ie()}function $t(e){return e.mode&1?Q&2&&he!==0?he&-he:Op.transition!==null?(xn===0&&(xn=Kc()),xn):(e=J,e!==0||(e=window.event,e=e===void 0?16:sd(e.type)),e):1}function et(e,t,r,n){if(50<hr)throw hr=0,Tl=null,Error(L(185));Ir(e,r,n),(!(Q&2)||e!==pe)&&(e===pe&&(!(Q&2)&&(na|=r),ue===4&&Pt(e,he)),Te(e,n),r===1&&Q===0&&!(t.mode&1)&&(zs=ie()+500,ea&&Gt()))}function Te(e,t){var r=e.callbackNode;Om(e,t);var n=jn(e,e===pe?he:0);if(n===0)r!==null&&si(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&si(r),t===1)e.tag===0?Rp(Gi.bind(null,e)):wd(Gi.bind(null,e)),Ap(function(){!(Q&6)&&Gt()}),r=null;else{switch(Zc(n)){case 1:r=to;break;case 4:r=Qc;break;case 16:r=wn;break;case 536870912:r=Gc;break;default:r=wn}r=vu(r,mu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mu(e,t){if(hn=-1,xn=0,Q&6)throw Error(L(327));var r=e.callbackNode;if(Ls()&&e.callbackNode!==r)return null;var n=jn(e,e===pe?he:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zn(e,n);else{t=n;var a=Q;Q|=2;var l=fu();(pe!==e||he!==t)&&(dt=null,zs=ie()+500,rs(e,t));do try{tf();break}catch(c){pu(e,c)}while(1);ho(),In.current=l,Q=a,ce!==null?t=0:(pe=null,he=0,t=ue)}if(t!==0){if(t===2&&(a=al(e),a!==0&&(n=a,t=Ll(e,a))),t===1)throw r=Lr,rs(e,0),Pt(e,n),Te(e,ie()),r;if(t===6)Pt(e,n);else{if(a=e.current.alternate,!(n&30)&&!Yp(a)&&(t=zn(e,n),t===2&&(l=al(e),l!==0&&(n=l,t=Ll(e,l))),t===1))throw r=Lr,rs(e,0),Pt(e,n),Te(e,ie()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Xt(e,Ee,dt);break;case 3:if(Pt(e,n),(n&130023424)===n&&(t=Ao+500-ie(),10<t)){if(jn(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){je(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=pl(Xt.bind(null,e,Ee,dt),t);break}Xt(e,Ee,dt);break;case 4:if(Pt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ye(n);l=1<<o,o=t[o],o>a&&(a=o),n&=~l}if(n=a,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xp(n/1960))-n,10<n){e.timeoutHandle=pl(Xt.bind(null,e,Ee,dt),n);break}Xt(e,Ee,dt);break;case 5:Xt(e,Ee,dt);break;default:throw Error(L(329))}}}return Te(e,ie()),e.callbackNode===r?mu.bind(null,e):null}function Ll(e,t){var r=fr;return e.current.memoizedState.isDehydrated&&(rs(e,t).flags|=256),e=zn(e,t),e!==2&&(t=Ee,Ee=r,t!==null&&Rl(t)),e}function Rl(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function Yp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!tt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pt(e,t){for(t&=~Po,t&=~na,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ye(t),n=1<<r;e[r]=-1,t&=~n}}function Gi(e){if(Q&6)throw Error(L(327));Ls();var t=jn(e,0);if(!(t&1))return Te(e,ie()),null;var r=zn(e,t);if(e.tag!==0&&r===2){var n=al(e);n!==0&&(t=n,r=Ll(e,n))}if(r===1)throw r=Lr,rs(e,0),Pt(e,t),Te(e,ie()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,Ee,dt),Te(e,ie()),null}function Do(e,t){var r=Q;Q|=1;try{return e(t)}finally{Q=r,Q===0&&(zs=ie()+500,ea&&Gt())}}function cs(e){Dt!==null&&Dt.tag===0&&!(Q&6)&&Ls();var t=Q;Q|=1;var r=We.transition,n=J;try{if(We.transition=null,J=1,e)return e()}finally{J=n,We.transition=r,Q=t,!(Q&6)&&Gt()}}function To(){Fe=Cs.current,ee(Cs)}function rs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pp(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(mo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sn();break;case 3:Ms(),ee(Ae),ee(be),wo();break;case 5:bo(n);break;case 4:Ms();break;case 13:ee(re);break;case 19:ee(re);break;case 10:xo(n.type._context);break;case 22:case 23:To()}r=r.return}if(pe=e,ce=e=zt(e.current,null),he=Fe=t,ue=0,Lr=null,Po=na=is=0,Ee=fr=null,ts!==null){for(t=0;t<ts.length;t++)if(r=ts[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,n.next=o}r.pending=n}ts=null}return e}function pu(e,t){do{var r=ce;try{if(ho(),mn.current=Fn,On){for(var n=ne.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}On=!1}if(os=0,me=de=ne=null,mr=!1,Ar=0,Eo.current=null,r===null||r.return===null){ue=1,Lr=t,ce=null;break}e:{var l=e,o=r.return,c=r,i=t;if(t=he,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var u=i,g=c,f=g.tag;if(!(g.mode&1)&&(f===0||f===11||f===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var x=Oi(o);if(x!==null){x.flags&=-257,Fi(x,o,c,l,t),x.mode&1&&Ri(l,u,t),t=x,i=u;var j=t.updateQueue;if(j===null){var k=new Set;k.add(i),t.updateQueue=k}else j.add(i);break e}else{if(!(t&1)){Ri(l,u,t),Lo();break e}i=Error(L(426))}}else if(se&&c.mode&1){var S=Oi(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Fi(S,o,c,l,t),po($s(i,c));break e}}l=i=$s(i,c),ue!==4&&(ue=2),fr===null?fr=[l]:fr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Zd(l,i,t);Ei(l,h);break e;case 1:c=i;var d=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mt===null||!Mt.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=Jd(l,c,t);Ei(l,y);break e}}l=l.return}while(l!==null)}xu(r)}catch(_){t=_,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(1)}function fu(){var e=In.current;return In.current=Fn,e===null?Fn:e}function Lo(){(ue===0||ue===3||ue===2)&&(ue=4),pe===null||!(is&268435455)&&!(na&268435455)||Pt(pe,he)}function zn(e,t){var r=Q;Q|=2;var n=fu();(pe!==e||he!==t)&&(dt=null,rs(e,t));do try{ef();break}catch(a){pu(e,a)}while(1);if(ho(),Q=r,In.current=n,ce!==null)throw Error(L(261));return pe=null,he=0,ue}function ef(){for(;ce!==null;)hu(ce)}function tf(){for(;ce!==null&&!Cm();)hu(ce)}function hu(e){var t=yu(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?xu(e):ce=t,Eo.current=null}function xu(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Gp(r,t),r!==null){r.flags&=32767,ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,ce=null;return}}else if(r=Qp(r,t,Fe),r!==null){ce=r;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);ue===0&&(ue=5)}function Xt(e,t,r){var n=J,a=We.transition;try{We.transition=null,J=1,sf(e,t,r,n)}finally{We.transition=a,J=n}return null}function sf(e,t,r,n){do Ls();while(Dt!==null);if(Q&6)throw Error(L(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Fm(e,l),e===pe&&(ce=pe=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rn||(rn=!0,vu(wn,function(){return Ls(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=We.transition,We.transition=null;var o=J;J=1;var c=Q;Q|=4,Eo.current=null,Zp(e,r),du(r,e),jp(ul),Nn=!!dl,ul=dl=null,e.current=r,Jp(r),Sm(),Q=c,J=o,We.transition=l}else e.current=r;if(rn&&(rn=!1,Dt=e,$n=a),l=e.pendingLanes,l===0&&(Mt=null),Am(r.stateNode),Te(e,ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Mn)throw Mn=!1,e=Dl,Dl=null,e;return $n&1&&e.tag!==0&&Ls(),l=e.pendingLanes,l&1?e===Tl?hr++:(hr=0,Tl=e):hr=0,Gt(),null}function Ls(){if(Dt!==null){var e=Zc($n),t=We.transition,r=J;try{if(We.transition=null,J=16>e?16:e,Dt===null)var n=!1;else{if(e=Dt,Dt=null,$n=0,Q&6)throw Error(L(331));var a=Q;for(Q|=4,$=e.current;$!==null;){var l=$,o=l.child;if($.flags&16){var c=l.deletions;if(c!==null){for(var i=0;i<c.length;i++){var u=c[i];for($=u;$!==null;){var g=$;switch(g.tag){case 0:case 11:case 15:pr(8,g,l)}var f=g.child;if(f!==null)f.return=g,$=f;else for(;$!==null;){g=$;var v=g.sibling,x=g.return;if(ou(g),g===u){$=null;break}if(v!==null){v.return=x,$=v;break}$=x}}}var j=l.alternate;if(j!==null){var k=j.child;if(k!==null){j.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}$=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,$=o;else e:for(;$!==null;){if(l=$,l.flags&2048)switch(l.tag){case 0:case 11:case 15:pr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,$=h;break e}$=l.return}}var d=e.current;for($=d;$!==null;){o=$;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,$=m;else e:for(o=d;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ra(9,c)}}catch(_){oe(c,c.return,_)}if(c===o){$=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,$=y;break e}$=c.return}}if(Q=a,Gt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Kn,e)}catch{}n=!0}return n}finally{J=r,We.transition=t}}return!1}function Ki(e,t,r){t=$s(r,t),t=Zd(e,t,1),e=It(e,t,1),t=je(),e!==null&&(Ir(e,1,t),Te(e,t))}function oe(e,t,r){if(e.tag===3)Ki(e,e,r);else for(;t!==null;){if(t.tag===3){Ki(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mt===null||!Mt.has(n))){e=$s(r,e),e=Jd(t,e,1),t=It(t,e,1),e=je(),t!==null&&(Ir(t,1,e),Te(t,e));break}}t=t.return}}function rf(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&r,pe===e&&(he&r)===r&&(ue===4||ue===3&&(he&130023424)===he&&500>ie()-Ao?rs(e,0):Po|=r),Te(e,t)}function gu(e,t){t===0&&(e.mode&1?(t=Qr,Qr<<=1,!(Qr&130023424)&&(Qr=4194304)):t=1);var r=je();e=vt(e,t),e!==null&&(Ir(e,t,r),Te(e,r))}function nf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gu(e,r)}function af(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),gu(e,r)}var yu;yu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Pe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pe=!1,Wp(e,t,r);Pe=!!(e.flags&131072)}else Pe=!1,se&&t.flags&1048576&&jd(t,An,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fn(e,t),e=t.pendingProps;var a=Os(t,be.current);Ts(t,r),a=No(null,t,n,e,a,r);var l=_o();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(n)?(l=!0,En(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,yo(t),a.updater=sa,t.stateNode=a,a._reactInternals=t,bl(t,n,e,r),t=Nl(null,t,n,!0,l,r)):(t.tag=0,se&&l&&uo(t),we(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fn(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=of(n),e=Ze(n,e),a){case 0:t=jl(null,t,n,e,r);break e;case 1:t=$i(null,t,n,e,r);break e;case 11:t=Ii(null,t,n,e,r);break e;case 14:t=Mi(null,t,n,Ze(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),jl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),$i(e,t,n,a,r);case 3:e:{if(tu(t),e===null)throw Error(L(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Ed(e,t),Ln(t,n,null,r);var o=t.memoizedState;if(n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=$s(Error(L(423)),t),t=zi(e,t,n,r,a);break e}else if(n!==a){a=$s(Error(L(424)),t),t=zi(e,t,n,r,a);break e}else for(Ie=Ft(t.stateNode.containerInfo.firstChild),Me=t,se=!0,Xe=null,r=Cd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fs(),n===a){t=bt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return Pd(t),e===null&&gl(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,ml(n,a)?o=null:l!==null&&ml(n,l)&&(t.flags|=32),eu(e,t),we(e,t,o,r),t.child;case 6:return e===null&&gl(t),null;case 13:return su(e,t,r);case 4:return vo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Is(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),Ii(e,t,n,a,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,X(Dn,n._currentValue),n._currentValue=o,l!==null)if(tt(l.value,o)){if(l.children===a.children&&!Ae.current){t=bt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var i=c.firstContext;i!==null;){if(i.context===n){if(l.tag===1){i=ft(-1,r&-r),i.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i}}l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),yl(l.return,r,t),c.lanes|=r;break}i=i.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(L(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),yl(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}we(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ts(t,r),a=Qe(a),n=n(a),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,a=Ze(n,t.pendingProps),a=Ze(n.type,a),Mi(e,t,n,a,r);case 15:return Xd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),fn(e,t),t.tag=1,De(n)?(e=!0,En(t)):e=!1,Ts(t,r),Kd(t,n,a),bl(t,n,a,r),Nl(null,t,n,!0,e,r);case 19:return ru(e,t,r);case 22:return Yd(e,t,r)}throw Error(L(156,t.tag))};function vu(e,t){return Wc(e,t)}function lf(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,r,n){return new lf(e,t,r,n)}function Ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function of(e){if(typeof e=="function")return Ro(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xl)return 11;if(e===Yl)return 14}return 2}function zt(e,t){var r=e.alternate;return r===null?(r=He(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gn(e,t,r,n,a,l){var o=2;if(n=e,typeof e=="function")Ro(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xs:return ns(r.children,a,l,t);case Jl:o=8,a|=8;break;case Va:return e=He(12,r,t,a|2),e.elementType=Va,e.lanes=l,e;case Ha:return e=He(13,r,t,a),e.elementType=Ha,e.lanes=l,e;case Wa:return e=He(19,r,t,a),e.elementType=Wa,e.lanes=l,e;case Pc:return aa(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sc:o=10;break e;case Ec:o=9;break e;case Xl:o=11;break e;case Yl:o=14;break e;case Ct:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=He(o,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function ns(e,t,r,n){return e=He(7,e,n,t),e.lanes=r,e}function aa(e,t,r,n){return e=He(22,e,n,t),e.elementType=Pc,e.lanes=r,e.stateNode={isHidden:!1},e}function $a(e,t,r){return e=He(6,e,null,t),e.lanes=r,e}function za(e,t,r){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cf(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Oo(e,t,r,n,a,l,o,c,i){return e=new cf(e,t,r,c,i),t===1?(t=1,l===!0&&(t|=8)):t=0,l=He(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yo(l),e}function df(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bu(e){if(!e)return Bt;e=e._reactInternals;e:{if(us(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(De(r))return bd(e,r,t)}return t}function wu(e,t,r,n,a,l,o,c,i){return e=Oo(r,n,!0,e,a,l,o,c,i),e.context=bu(null),r=e.current,n=je(),a=$t(r),l=ft(n,a),l.callback=t??null,It(r,l,a),e.current.lanes=a,Ir(e,a,n),Te(e,n),e}function la(e,t,r,n){var a=t.current,l=je(),o=$t(a);return r=bu(r),t.context===null?t.context=r:t.pendingContext=r,t=ft(l,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=It(a,t,o),e!==null&&(et(e,a,o,l),un(e,a,o)),o}function qn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zi(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fo(e,t){Zi(e,t),(e=e.alternate)&&Zi(e,t)}function uf(){return null}var ju=typeof reportError=="function"?reportError:function(e){console.error(e)};function Io(e){this._internalRoot=e}oa.prototype.render=Io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));la(e,t,null,null)};oa.prototype.unmount=Io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cs(function(){la(null,e,null,null)}),t[yt]=null}};function oa(e){this._internalRoot=e}oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Et.length&&t!==0&&t<Et[r].priority;r++);Et.splice(r,0,e),r===0&&td(e)}};function Mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ji(){}function mf(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var u=qn(o);l.call(u)}}var o=wu(t,n,e,0,null,!1,!1,"",Ji);return e._reactRootContainer=o,e[yt]=o.current,kr(e.nodeType===8?e.parentNode:e),cs(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var u=qn(i);c.call(u)}}var i=Oo(e,0,!1,null,null,!1,!1,"",Ji);return e._reactRootContainer=i,e[yt]=i.current,kr(e.nodeType===8?e.parentNode:e),cs(function(){la(t,i,r,n)}),i}function ca(e,t,r,n,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var c=a;a=function(){var i=qn(o);c.call(i)}}la(t,o,e,a)}else o=mf(r,t,e,a,n);return qn(o)}Jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ar(t.pendingLanes);r!==0&&(so(t,r|1),Te(t,ie()),!(Q&6)&&(zs=ie()+500,Gt()))}break;case 13:cs(function(){var n=vt(e,1);if(n!==null){var a=je();et(n,e,1,a)}}),Fo(e,1)}};ro=function(e){if(e.tag===13){var t=vt(e,134217728);if(t!==null){var r=je();et(t,e,134217728,r)}Fo(e,134217728)}};Xc=function(e){if(e.tag===13){var t=$t(e),r=vt(e,t);if(r!==null){var n=je();et(r,e,t,n)}Fo(e,t)}};Yc=function(){return J};ed=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};sl=function(e,t,r){switch(t){case"input":if(Ka(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Yn(n);if(!a)throw Error(L(90));Dc(n),Ka(n,a)}}}break;case"textarea":Lc(e,r);break;case"select":t=r.value,t!=null&&Es(e,!!r.multiple,t,!1)}};zc=Do;qc=cs;var pf={usingClientEntryPoint:!1,Events:[$r,bs,Yn,Mc,$c,Do]},sr={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ff={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vc(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||uf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nn.isDisabled&&nn.supportsFiber)try{Kn=nn.inject(ff),lt=nn}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pf;ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mo(t))throw Error(L(200));return df(e,t,null,r)};ze.createRoot=function(e,t){if(!Mo(e))throw Error(L(299));var r=!1,n="",a=ju;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Oo(e,1,!1,null,null,r,!1,n,a),e[yt]=t.current,kr(e.nodeType===8?e.parentNode:e),new Io(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Vc(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return cs(e)};ze.hydrate=function(e,t,r){if(!ia(t))throw Error(L(200));return ca(null,e,t,!0,r)};ze.hydrateRoot=function(e,t,r){if(!Mo(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",o=ju;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wu(t,null,e,1,r??null,a,!1,l,o),e[yt]=t.current,kr(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new oa(t)};ze.render=function(e,t,r){if(!ia(t))throw Error(L(200));return ca(null,e,t,!1,r)};ze.unmountComponentAtNode=function(e){if(!ia(e))throw Error(L(40));return e._reactRootContainer?(cs(function(){ca(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1};ze.unstable_batchedUpdates=Do;ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ia(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return ca(e,t,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function Nu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nu)}catch(e){console.error(e)}}Nu(),Nc.exports=ze;var hf=Nc.exports,Xi=hf;Ua.createRoot=Xi.createRoot,Ua.hydrateRoot=Xi.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rr.apply(this,arguments)}var Tt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tt||(Tt={}));const Yi="popstate";function xf(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:o,hash:c}=n.location;return Ol("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Un(a)}return yf(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $o(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gf(){return Math.random().toString(36).substr(2,8)}function ec(e,t){return{usr:e.state,key:e.key,idx:t}}function Ol(e,t,r,n){return r===void 0&&(r=null),Rr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hs(t):t,{state:r,key:t&&t.key||n||gf()})}function Un(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Hs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function yf(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,o=a.history,c=Tt.Pop,i=null,u=g();u==null&&(u=0,o.replaceState(Rr({},o.state,{idx:u}),""));function g(){return(o.state||{idx:null}).idx}function f(){c=Tt.Pop;let S=g(),h=S==null?null:S-u;u=S,i&&i({action:c,location:k.location,delta:h})}function v(S,h){c=Tt.Push;let d=Ol(k.location,S,h);r&&r(d,S),u=g()+1;let m=ec(d,u),y=k.createHref(d);try{o.pushState(m,"",y)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(y)}l&&i&&i({action:c,location:k.location,delta:1})}function x(S,h){c=Tt.Replace;let d=Ol(k.location,S,h);r&&r(d,S),u=g();let m=ec(d,u),y=k.createHref(d);o.replaceState(m,"",y),l&&i&&i({action:c,location:k.location,delta:0})}function j(S){let h=a.location.origin!=="null"?a.location.origin:a.location.href,d=typeof S=="string"?S:Un(S);return d=d.replace(/ $/,"%20"),ae(h,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,h)}let k={get action(){return c},get location(){return e(a,o)},listen(S){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(Yi,f),i=S,()=>{a.removeEventListener(Yi,f),i=null}},createHref(S){return t(a,S)},createURL:j,encodeLocation(S){let h=j(S);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:v,replace:x,go(S){return o.go(S)}};return k}var tc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tc||(tc={}));function vf(e,t,r){return r===void 0&&(r="/"),bf(e,t,r,!1)}function bf(e,t,r,n){let a=typeof t=="string"?Hs(t):t,l=qs(a.pathname||"/",r);if(l==null)return null;let o=_u(e);wf(o);let c=null;for(let i=0;c==null&&i<o.length;++i){let u=Tf(l);c=Af(o[i],u,n)}return c}function _u(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,o,c)=>{let i={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};i.relativePath.startsWith("/")&&(ae(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(n.length));let u=qt([n,i.relativePath]),g=r.concat(i);l.children&&l.children.length>0&&(ae(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_u(l.children,t,g,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Ef(u,l.index),routesMeta:g})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,o);else for(let i of ku(l.path))a(l,o,i)}),t}function ku(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let o=ku(n.join("/")),c=[];return c.push(...o.map(i=>i===""?l:[l,i].join("/"))),a&&c.push(...o),c.map(i=>e.startsWith("/")&&i===""?"/":i)}function wf(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Pf(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jf=/^:[\w-]+$/,Nf=3,_f=2,kf=1,Cf=10,Sf=-2,sc=e=>e==="*";function Ef(e,t){let r=e.split("/"),n=r.length;return r.some(sc)&&(n+=Sf),t&&(n+=_f),r.filter(a=>!sc(a)).reduce((a,l)=>a+(jf.test(l)?Nf:l===""?kf:Cf),n)}function Pf(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Af(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},l="/",o=[];for(let c=0;c<n.length;++c){let i=n[c],u=c===n.length-1,g=l==="/"?t:t.slice(l.length)||"/",f=Bn({path:i.relativePath,caseSensitive:i.caseSensitive,end:u},g),v=i.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Bn({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},g)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:qt([l,f.pathname]),pathnameBase:If(qt([l,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(l=qt([l,f.pathnameBase]))}return o}function Bn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Df(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((u,g,f)=>{let{paramName:v,isOptional:x}=g;if(v==="*"){let k=c[f]||"";o=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const j=c[f];return x&&!j?u[v]=void 0:u[v]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:o,pattern:e}}function Df(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$o(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,i)=>(n.push({paramName:c,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Tf(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $o(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Lf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rf=e=>Lf.test(e);function Of(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Hs(e):e,l;if(r)if(Rf(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),$o(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?l=rc(r.substring(1),"/"):l=rc(r,t)}else l=t;return{pathname:l,search:Mf(n),hash:$f(a)}}function rc(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function qa(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ff(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zo(e,t){let r=Ff(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qo(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Hs(e):(a=Rr({},e),ae(!a.pathname||!a.pathname.includes("?"),qa("?","pathname","search",a)),ae(!a.pathname||!a.pathname.includes("#"),qa("#","pathname","hash",a)),ae(!a.search||!a.search.includes("#"),qa("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,c;if(o==null)c=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),f-=1;a.pathname=v.join("/")}c=f>=0?t[f]:"/"}let i=Of(a,c),u=o&&o!=="/"&&o.endsWith("/"),g=(l||o===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(u||g)&&(i.pathname+="/"),i}const qt=e=>e.join("/").replace(/\/\/+/g,"/"),If=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mf=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$f=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cu=["post","put","patch","delete"];new Set(Cu);const qf=["get",...Cu];new Set(qf);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Or.apply(this,arguments)}const da=b.createContext(null),Su=b.createContext(null),Nt=b.createContext(null),ua=b.createContext(null),ct=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Eu=b.createContext(null);function Uf(e,t){let{relative:r}=t===void 0?{}:t;Ws()||ae(!1);let{basename:n,navigator:a}=b.useContext(Nt),{hash:l,pathname:o,search:c}=ma(e,{relative:r}),i=o;return n!=="/"&&(i=o==="/"?n:qt([n,o])),a.createHref({pathname:i,search:c,hash:l})}function Ws(){return b.useContext(ua)!=null}function Kt(){return Ws()||ae(!1),b.useContext(ua).location}function Pu(e){b.useContext(Nt).static||b.useLayoutEffect(e)}function ms(){let{isDataRoute:e}=b.useContext(ct);return e?nh():Bf()}function Bf(){Ws()||ae(!1);let e=b.useContext(da),{basename:t,future:r,navigator:n}=b.useContext(Nt),{matches:a}=b.useContext(ct),{pathname:l}=Kt(),o=JSON.stringify(zo(a,r.v7_relativeSplatPath)),c=b.useRef(!1);return Pu(()=>{c.current=!0}),b.useCallback(function(u,g){if(g===void 0&&(g={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let f=qo(u,JSON.parse(o),l,g.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qt([t,f.pathname])),(g.replace?n.replace:n.push)(f,g.state,g)},[t,n,o,l,e])}const Vf=b.createContext(null);function Hf(e){let t=b.useContext(ct).outlet;return t&&b.createElement(Vf.Provider,{value:e},t)}function Wf(){let{matches:e}=b.useContext(ct),t=e[e.length-1];return t?t.params:{}}function ma(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Nt),{matches:a}=b.useContext(ct),{pathname:l}=Kt(),o=JSON.stringify(zo(a,n.v7_relativeSplatPath));return b.useMemo(()=>qo(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function Qf(e,t){return Gf(e,t)}function Gf(e,t,r,n){Ws()||ae(!1);let{navigator:a}=b.useContext(Nt),{matches:l}=b.useContext(ct),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let u=Kt(),g;if(t){var f;let S=typeof t=="string"?Hs(t):t;i==="/"||(f=S.pathname)!=null&&f.startsWith(i)||ae(!1),g=S}else g=u;let v=g.pathname||"/",x=v;if(i!=="/"){let S=i.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=vf(e,{pathname:x}),k=Yf(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:qt([i,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?i:qt([i,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,r,n);return t&&k?b.createElement(ua.Provider,{value:{location:Or({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Tt.Pop}},k):k}function Kf(){let e=rh(),t=zf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,l)}const Zf=b.createElement(Kf,null);class Jf extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(ct.Provider,{value:this.props.routeContext},b.createElement(Eu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xf(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(da);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(ct.Provider,{value:t},n)}function Yf(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let g=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);g>=0||ae(!1),o=o.slice(0,Math.min(o.length,g+1))}let i=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let f=o[g];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=g),f.route.id){let{loaderData:v,errors:x}=r,j=f.route.loader&&v[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||j){i=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((g,f,v)=>{let x,j=!1,k=null,S=null;r&&(x=c&&f.route.id?c[f.route.id]:void 0,k=f.route.errorElement||Zf,i&&(u<0&&v===0?(ah("route-fallback",!1),j=!0,S=null):u===v&&(j=!0,S=f.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,v+1)),d=()=>{let m;return x?m=k:j?m=S:f.route.Component?m=b.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=g,b.createElement(Xf,{match:f,routeContext:{outlet:g,matches:h,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?b.createElement(Jf,{location:r.location,revalidation:r.revalidation,component:k,error:x,children:d(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):d()},null)}var Au=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Au||{}),Vn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vn||{});function eh(e){let t=b.useContext(da);return t||ae(!1),t}function th(e){let t=b.useContext(Su);return t||ae(!1),t}function sh(e){let t=b.useContext(ct);return t||ae(!1),t}function Du(e){let t=sh(),r=t.matches[t.matches.length-1];return r.route.id||ae(!1),r.route.id}function rh(){var e;let t=b.useContext(Eu),r=th(Vn.UseRouteError),n=Du(Vn.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function nh(){let{router:e}=eh(Au.UseNavigateStable),t=Du(Vn.UseNavigateStable),r=b.useRef(!1);return Pu(()=>{r.current=!0}),b.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Or({fromRouteId:t},l)))},[e,t])}const nc={};function ah(e,t,r){!t&&!nc[e]&&(nc[e]=!0)}function lh(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function oh(e){let{to:t,replace:r,state:n,relative:a}=e;Ws()||ae(!1);let{future:l,static:o}=b.useContext(Nt),{matches:c}=b.useContext(ct),{pathname:i}=Kt(),u=ms(),g=qo(t,zo(c,l.v7_relativeSplatPath),i,a==="path"),f=JSON.stringify(g);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ih(e){return Hf(e.context)}function Se(e){ae(!1)}function ch(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Tt.Pop,navigator:l,static:o=!1,future:c}=e;Ws()&&ae(!1);let i=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:i,navigator:l,static:o,future:Or({v7_relativeSplatPath:!1},c)}),[i,c,l,o]);typeof n=="string"&&(n=Hs(n));let{pathname:g="/",search:f="",hash:v="",state:x=null,key:j="default"}=n,k=b.useMemo(()=>{let S=qs(g,i);return S==null?null:{location:{pathname:S,search:f,hash:v,state:x,key:j},navigationType:a}},[i,g,f,v,x,j,a]);return k==null?null:b.createElement(Nt.Provider,{value:u},b.createElement(ua.Provider,{children:r,value:k}))}function dh(e){let{children:t,location:r}=e;return Qf(Fl(t),r)}new Promise(()=>{});function Fl(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let l=[...t,a];if(n.type===b.Fragment){r.push.apply(r,Fl(n.props.children,l));return}n.type!==Se&&ae(!1),!n.props.index||!n.props.children||ae(!1);let o={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fl(n.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hn.apply(this,arguments)}function Tu(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function uh(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mh(e,t){return e.button===0&&(!t||t==="_self")&&!uh(e)}const ph=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fh=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],hh="6";try{window.__reactRouterVersion=hh}catch{}const xh=b.createContext({isTransitioning:!1}),gh="startTransition",ac=rm[gh];function yh(e){let{basename:t,children:r,future:n,window:a}=e,l=b.useRef();l.current==null&&(l.current=xf({window:a,v5Compat:!0}));let o=l.current,[c,i]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},g=b.useCallback(f=>{u&&ac?ac(()=>i(f)):i(f)},[i,u]);return b.useLayoutEffect(()=>o.listen(g),[o,g]),b.useEffect(()=>lh(n),[n]),b.createElement(ch,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const vh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=b.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:o,state:c,target:i,to:u,preventScrollReset:g,viewTransition:f}=t,v=Tu(t,ph),{basename:x}=b.useContext(Nt),j,k=!1;if(typeof u=="string"&&bh.test(u)&&(j=u,vh))try{let m=new URL(window.location.href),y=u.startsWith("//")?new URL(m.protocol+u):new URL(u),_=qs(y.pathname,x);y.origin===m.origin&&_!=null?u=_+y.search+y.hash:k=!0}catch{}let S=Uf(u,{relative:a}),h=_h(u,{replace:o,state:c,target:i,preventScrollReset:g,relative:a,viewTransition:f});function d(m){n&&n(m),m.defaultPrevented||h(m)}return b.createElement("a",Hn({},v,{href:j||S,onClick:k||l?n:d,ref:r,target:i}))}),jh=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:l="",end:o=!1,style:c,to:i,viewTransition:u,children:g}=t,f=Tu(t,fh),v=ma(i,{relative:f.relative}),x=Kt(),j=b.useContext(Su),{navigator:k,basename:S}=b.useContext(Nt),h=j!=null&&kh(v)&&u===!0,d=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,m=x.pathname,y=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(m=m.toLowerCase(),y=y?y.toLowerCase():null,d=d.toLowerCase()),y&&S&&(y=qs(y,S)||y);const _=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let N=m===d||!o&&m.startsWith(d)&&m.charAt(_)==="/",C=y!=null&&(y===d||!o&&y.startsWith(d)&&y.charAt(d.length)==="/"),p={isActive:N,isPending:C,isTransitioning:h},w=N?n:void 0,E;typeof l=="function"?E=l(p):E=[l,N?"active":null,C?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(p):c;return b.createElement(wh,Hn({},f,{"aria-current":w,className:E,ref:r,style:R,to:i,viewTransition:u}),typeof g=="function"?g(p):g)});var Il;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Il||(Il={}));var lc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lc||(lc={}));function Nh(e){let t=b.useContext(da);return t||ae(!1),t}function _h(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:o,viewTransition:c}=t===void 0?{}:t,i=ms(),u=Kt(),g=ma(e,{relative:o});return b.useCallback(f=>{if(mh(f,r)){f.preventDefault();let v=n!==void 0?n:Un(u)===Un(g);i(e,{replace:v,state:a,preventScrollReset:l,relative:o,viewTransition:c})}},[u,i,g,n,a,r,e,l,o,c])}function kh(e,t){t===void 0&&(t={});let r=b.useContext(xh);r==null&&ae(!1);let{basename:n}=Nh(Il.useViewTransitionState),a=ma(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=qs(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=qs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bn(a.pathname,o)!=null||Bn(a.pathname,l)!=null}const Ch={BASE_URL:"https://erp.rslsolution.org/public/api"},Sh=Ch.BASE_URL;class Eh{constructor(t){this.baseURL=t,this.defaultHeaders={"Content-Type":"application/json"}}getAuthHeaders(){const t=localStorage.getItem("auth_token");return t?{Authorization:`Bearer ${t}`}:{}}async request(t,r={}){const n=`${this.baseURL}${t}`,a={...this.defaultHeaders,...this.getAuthHeaders(),...r.headers};try{const l=await fetch(n,{...r,headers:a});if(!l.ok){let c;const i=await l.text();try{c=JSON.parse(i)}catch(f){console.error("Failed to parse error response as JSON:",f),c={rawResponse:i}}console.error("API Error Response:",c),console.error("Status:",l.status),console.error("Status Text:",l.statusText);const u=l.headers.get("content-type");if(u&&u.includes("text/html"))throw new Error(`Server returned HTML error page instead of JSON. Status: ${l.status}. Raw response: ${i.substring(0,200)}...`);l.status===401&&localStorage.removeItem("auth_token");let g=`HTTP error! status: ${l.status}`;throw l.status>=500?c.error?g=`Server error: ${c.error}`:g="Internal server error. Please check server logs.":l.status===422&&c.errors?g=`Validation errors: ${Object.values(c.errors).flat().join(", ")}`:c.message&&(g=c.message),new Error(g)}const o=await l.json();return console.log("API Success Response:",o),o}catch(l){throw console.error("API Request Failed:",l),l instanceof Error&&l.message.includes("Failed to fetch")?t.includes("192.168.1.22")?new Error("Unable to connect to API server. Please ensure the backend server is running on http://192.168.1.22:8000"):new Error("Network error: Unable to reach the API server"):l}}mockResponse(t,r){return new Promise((n,a)=>{setTimeout(()=>{t==="/auth/login"&&r.method==="POST"?n({success:!0,message:"Login successful",token:"mock-jwt-token-12345",user:{id:1,name:"Super Admin",email:"superadmin@example.com",role:"superadmin"}}):n(t==="/auth/me"?{success:!0,data:{id:1,name:"Super Admin",email:"superadmin@example.com",role:"admin"}}:t==="/auth/logout"?{success:!0,message:"Logout successful"}:{success:!0,data:[]})},500)})}async get(t){return this.request(t,{method:"GET"})}async post(t,r){return console.log("API POST Request:",t,r),this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(t,r){return this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0})}async patch(t,r){return this.request(t,{method:"PATCH",body:r?JSON.stringify(r):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}const I=new Eh(Sh),oc={login:async(e,t)=>I.post("/auth/login",{email:e,password:t}),getCurrentUser:async()=>I.get("/auth/me"),logout:async()=>I.post("/auth/logout"),adminOnly:async()=>I.get("/auth/admin-only"),supervisorArea:async()=>I.get("/auth/supervisor-area")},Yt={getToken:()=>localStorage.getItem("auth_token"),setToken:e=>{localStorage.setItem("auth_token",e)},removeToken:()=>{localStorage.removeItem("auth_token")},isAuthenticated:()=>!!Yt.getToken()},Lu=b.createContext(void 0),pa=()=>{const e=b.useContext(Lu);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Ph=({children:e})=>{const[t,r]=b.useState(null),[n,a]=b.useState(!0);b.useEffect(()=>{const i=Yt.getToken(),u=localStorage.getItem("auth_user");if(i&&u){console.log("Found token and user data, validating...");try{const g=JSON.parse(u);if(i&&i.length>10)try{const f=i.split(".");if(f.length===3){const v=JSON.parse(atob(f[1])),x=Date.now()/1e3;v.exp&&v.exp>x?(console.log("JWT token is valid and not expired"),r(g)):v.exp&&v.exp<=x?(console.log("JWT token is expired, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)):(console.log("JWT token has no expiration, assuming valid"),r(g))}else console.log("Token is not JWT format, but appears valid"),r(g)}catch{console.log("Token is not decodable as JWT, but keeping it as valid"),r(g)}else console.log("Token is too short or empty, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}catch{console.log("Failed to parse stored user data, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}}else i&&!u?(console.log("Token exists but no user data, keeping token"),r(null)):(console.log("No token found, user not authenticated"),r(null));a(!1)},[]);const c={user:t,login:async(i,u)=>{a(!0);try{const g=await oc.login(i,u);if(console.log("Login response:",g),g.success&&g.token&&g.user){const{token:f,user:v}=g;return Yt.setToken(f),localStorage.setItem("auth_user",JSON.stringify(v)),r(v),a(!1),!0}else return console.error("Login failed - response structure:",g),a(!1),!1}catch(g){return console.error("Login error:",g),a(!1),!1}},logout:async()=>{try{await oc.logout()}catch(i){console.error("Logout error:",i)}finally{Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}},isAuthenticated:!!t,isLoading:n};return s.jsx(Lu.Provider,{value:c,children:e})},Ru=b.createContext(void 0),Ou=()=>{const e=b.useContext(Ru);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");return e},Ah=({children:e})=>{const[t,r]=b.useState([]),l={toasts:t,addToast:(o,c)=>{const i=Date.now().toString();r(u=>[...u,{id:i,message:o,type:c}])},removeToast:o=>{r(c=>c.filter(i=>i.id!==o))}};return s.jsx(Ru.Provider,{value:l,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:i,...u},g)=>b.createElement("svg",{ref:g,...Dh,width:a,height:a,stroke:n,strokeWidth:o?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Th(e)}`,c].join(" "),...u},[...t.map(([f,v])=>b.createElement(f,v)),...Array.isArray(i)?i:[i]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=V("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=V("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=V("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=V("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=V("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=V("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=V("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=V("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=V("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=V("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=V("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=V("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Jh=()=>{var y,_;const[e,t]=b.useState(""),[r,n]=b.useState(""),[a,l]=b.useState(!1),[o,c]=b.useState(""),[i,u]=b.useState(!1),[g,f]=b.useState({}),{login:v}=pa(),x=ms(),k=((_=(y=Kt().state)==null?void 0:y.from)==null?void 0:_.pathname)||"/dashboard",S=()=>{const N={};return e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?e.length>254&&(N.email="Email address is too long"):N.email="Please enter a valid email address":N.email="Email is required",r.trim()?r.length<6?N.password="Password must be at least 6 characters long":r.length>128?N.password="Password is too long":/(?=.*[a-z])/.test(r)?/(?=.*\d)/.test(r)||(N.password="Password must contain at least one number"):N.password="Password must contain at least one lowercase letter":N.password="Password is required",f(N),Object.keys(N).length===0},h=()=>{l(!a)},d=(N,C)=>{N==="email"?t(C):n(C),g[N]&&f(p=>({...p,[N]:void 0})),o&&c("")},m=async N=>{if(N.preventDefault(),!!S()){c(""),u(!0);try{await v(e,r)?x(k,{replace:!0}):c("Invalid email or password")}catch{c("An error occurred during login. Please try again.")}finally{u(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),s.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-4000"})]}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-white rounded-full opacity-60"}),s.jsx("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-white rounded-full opacity-40"}),s.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-3 h-3 bg-white rounded-full opacity-30"}),s.jsx("div",{className:"absolute top-1/2 right-1/4 w-2 h-2 bg-white rounded-full opacity-50"}),s.jsx("div",{className:"absolute bottom-1/3 right-1/2 w-1 h-1 bg-white rounded-full opacity-60"})]}),s.jsxs("div",{className:"relative min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md mb-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 border border-white/20",children:s.jsx(Qn,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Welcome Back"}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Sign in to your Super Admin account"})]})}),s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 transform hover:scale-105 transition-all duration-300",children:[s.jsxs("form",{className:"space-y-6",onSubmit:m,children:[s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ql,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:N=>d("email",N.target.value),className:`appearance-none block w-full pl-10 pr-3 py-3 bg-white/5 border rounded-xl placeholder-blue-200 text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:bg-white/10 transition-all duration-200 sm:text-sm backdrop-blur-sm ${g.email?"border-red-400 focus:ring-red-400/50 focus:border-red-400":"border-white/20 focus:ring-white/50 focus:border-white/50"}`,placeholder:"Enter your email"})]}),g.email&&s.jsxs("div",{className:"mt-2 text-red-300 text-xs flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-xs",children:"!"})}),g.email]})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zl,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),s.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:N=>d("password",N.target.value),className:`appearance-none block w-full pl-10 pr-12 py-3 bg-white/5 border rounded-xl placeholder-blue-200 text-white focus:outline-none focus:ring-2 focus:bg-white/10 transition-all duration-200 sm:text-sm backdrop-blur-sm ${g.password?"border-red-400 focus:ring-red-400/50 focus:border-red-400":"border-white/20 focus:ring-white/50 focus:border-white/50"}`,placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:h,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-blue-300 hover:text-white focus:outline-none focus:text-white transition-all duration-200 p-1 rounded-lg hover:bg-white/10","aria-label":a?"Hide password":"Show password",children:a?s.jsx(zh,{className:"h-5 w-5"}):s.jsx(qr,{className:"h-5 w-5"})})]}),g.password&&s.jsxs("div",{className:"mt-2 text-red-300 text-xs flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-xs",children:"!"})}),g.password]})]}),o&&s.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-3 backdrop-blur-sm",children:s.jsxs("div",{className:"text-red-100 text-sm text-center flex items-center justify-center",children:[s.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-xs",children:"!"})}),o]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-blue-900 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-900 mr-2"}),"Signing in..."]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qn,{className:"w-5 h-5 mr-2"}),"Login as Super Admin"]})})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-white/20"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-3 bg-blue-900/50 text-blue-200 rounded-full border border-white/20 backdrop-blur-sm",children:"Demo Credentials"})})]}),s.jsx("div",{className:"mt-4 p-4 bg-white/5 rounded-xl border border-white/10 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center text-blue-100 text-sm space-y-1",children:[s.jsxs("p",{className:"flex items-center justify-center",children:[s.jsx(ql,{className:"w-4 h-4 mr-2"}),"superadmin@example.com"]}),s.jsxs("p",{className:"flex items-center justify-center",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"password"]})]})})]})]})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-blue-200 text-sm",children:" 2024 CRM Super Admin Panel. Secure access only."})})]})]})},K={getDashboard:()=>I.get("/superadmin/dashboard"),getCompanies:()=>I.get("/superadmin/companies"),getCompany:e=>I.get(`/superadmin/companies/${e}`),createCompany:e=>I.post("/superadmin/companies",e),updateCompany:(e,t)=>I.put(`/superadmin/companies/${e}`,t),deleteCompany:e=>I.delete(`/superadmin/companies/${e}`),getCompanyUsers:()=>I.get("/superadmin/company-users"),getCompanyUser:e=>I.get(`/superadmin/company-users/${e}`),createCompanyUser:e=>I.post("/superadmin/company-users",e),updateCompanyUser:(e,t)=>I.put(`/superadmin/company-users/${e}`,t),deleteCompanyUser:e=>I.delete(`/superadmin/company-users/${e}`),getUsersByRole:e=>I.get(`/superadmin/company-users/by-role/${e}`),getCustomers:()=>I.get("/superadmin/customers"),getCustomer:e=>I.get(`/superadmin/customers/${e}`),createCustomer:e=>I.post("/superadmin/customers",e),updateCustomer:(e,t)=>I.put(`/superadmin/customers/${e}`,t),deleteCustomer:e=>I.delete(`/superadmin/customers/${e}`),searchCustomers:e=>I.get(`/superadmin/customers/search?q=${e}`),getParts:()=>I.get("/superadmin/parts"),getPart:e=>I.get(`/superadmin/parts/${e}`),createPart:e=>I.post("/superadmin/parts",e),updatePart:(e,t)=>I.put(`/superadmin/parts/${e}`,t),deletePart:e=>I.delete(`/superadmin/parts/${e}`),searchParts:e=>I.get(`/superadmin/parts/search?description=${e}`),getOrders:()=>I.get("/superadmin/orders"),getOrder:e=>I.get(`/superadmin/orders/${e}`),createOrder:e=>I.post("/superadmin/orders",e),updateOrder:(e,t)=>I.put(`/superadmin/orders/${e}`,t),deleteOrder:e=>I.delete(`/superadmin/orders/${e}`),searchOrders:e=>I.get(`/superadmin/orders/search?po_no=${e}`),getOrdersByCustomer:e=>I.get(`/superadmin/orders/by-customer/${e}`),getOrdersByPart:e=>I.get(`/superadmin/orders/by-part/${e}`),getDeliveryChallans:(e=1)=>I.get(`/superadmin/delivery-challans?page=${e}`),getDeliveryChallan:e=>I.get(`/superadmin/delivery-challans/${e}`),createDeliveryChallan:e=>I.post("/superadmin/delivery-challans",e),updateDeliveryChallan:(e,t)=>I.put(`/superadmin/delivery-challans/${e}`,t),deleteDeliveryChallan:e=>I.delete(`/superadmin/delivery-challans/${e}`),getDeliveryChallansByPart:e=>I.get(`/superadmin/delivery-challans/by-part?part_id=${e}`),login:e=>I.post("/auth/login",e),getMe:()=>I.get("/auth/me"),logout:()=>I.post("/auth/logout")},dc=()=>{const[e,t]=b.useState({totalCompanies:0,totalCompanyUsers:0,totalCustomers:0,totalParts:0,totalOrders:0,totalDeliveryChallans:0,totalRevenue:0,monthlyRevenue:0,revenueGrowth:0,avgOrderValue:0,conversionRate:0,systemHealth:0,activeUsers:0,roleSummary:{superadmin:0,admin:0,supervisor:0,operator:0}}),[r,n]=b.useState([]),[a,l]=b.useState({labels:[],values:[]}),[o,c]=b.useState(!0),i=ms(),u=()=>{i("/companies")},g=()=>{i("/reports")},f=()=>{i("/orders")};b.useEffect(()=>{(async()=>{try{const j=await K.getDashboard();if(j.success&&j.data){const{summary:h,role_summary:d}=j.data,m={totalCompanies:h.total_companies||0,totalCompanyUsers:h.total_company_users||0,totalCustomers:h.total_customers||0,totalParts:h.total_parts||0,totalOrders:h.total_orders||0,totalDeliveryChallans:h.total_delivery_challans||0,totalRevenue:h.total_orders*5e3,monthlyRevenue:Math.floor((h.total_orders||0)*500),revenueGrowth:12.5,avgOrderValue:5e3,conversionRate:68.4,systemHealth:98.7,activeUsers:h.total_company_users||0,roleSummary:{superadmin:(d==null?void 0:d.superadmin)||0,admin:(d==null?void 0:d.admin)||0,supervisor:(d==null?void 0:d.supervisor)||0,operator:(d==null?void 0:d.operator)||0}};t(m)}else t({totalCompanies:18,totalCompanyUsers:32,totalCustomers:6,totalParts:6,totalOrders:9,totalDeliveryChallans:3,totalRevenue:45e3,monthlyRevenue:4500,revenueGrowth:12.5,avgOrderValue:5e3,conversionRate:68.4,systemHealth:98.7,activeUsers:32,roleSummary:{superadmin:1,admin:8,supervisor:11,operator:13}});const k=[{month:"Jan",revenue:35e3,orders:95,growth:8.2},{month:"Feb",revenue:42e3,orders:110,growth:20},{month:"Mar",revenue:38e3,orders:105,growth:-9.5},{month:"Apr",revenue:51e3,orders:135,growth:34.2},{month:"May",revenue:47e3,orders:125,growth:-7.8},{month:"Jun",revenue:72e3,orders:180,growth:53.2},{month:"Jul",revenue:68e3,orders:175,growth:-5.6},{month:"Aug",revenue:75e3,orders:190,growth:10.3},{month:"Sep",revenue:71e3,orders:185,growth:-5.3},{month:"Oct",revenue:78e3,orders:195,growth:9.9},{month:"Nov",revenue:82e3,orders:205,growth:5.1},{month:"Dec",revenue:89e3,orders:220,growth:8.5}],S={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],values:[25,32,28,45,38,52,48,65,58,72,68,85],colors:["#1e40af","#3b82f6","#60a5fa","#93c5fd","#bfdbfe","#dbeafe","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#1e40af","#1e3a8a"]};n(k),l(S)}catch(j){console.error("Error fetching dashboard stats:",j)}finally{c(!1)}})()},[]);const v=[{title:"Total Revenue",value:`${e.totalRevenue.toLocaleString()}`,icon:$h,color:"text-green-600",bgColor:"bg-gradient-to-r from-green-500 to-green-600",trend:e.revenueGrowth,trendLabel:"vs last month"},{title:"Total Companies",value:e.totalCompanies,icon:$l,color:"text-blue-600",bgColor:"bg-gradient-to-r from-blue-500 to-blue-600",trend:8.3,trendLabel:"new this month"},{title:"Total Customers",value:e.totalCustomers,icon:xt,color:"text-purple-600",bgColor:"bg-gradient-to-r from-purple-500 to-purple-600",trend:15.2,trendLabel:"vs last week"},{title:"System Health",value:`${e.systemHealth}%`,icon:Lh,color:"text-emerald-600",bgColor:"bg-gradient-to-r from-emerald-500 to-emerald-600",trend:.5,trendLabel:"uptime score"},{title:"Total Parts",value:e.totalParts,icon:ht,color:"text-orange-600",bgColor:"bg-gradient-to-r from-orange-500 to-orange-600",trend:5.2,trendLabel:"vs last month"},{title:"Total Orders",value:e.totalOrders,icon:xr,color:"text-indigo-600",bgColor:"bg-gradient-to-r from-indigo-500 to-indigo-600",trend:12.8,trendLabel:"this month"}];return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6 animate-fade-in-scale",children:[s.jsxs("div",{className:"animate-slide-in-up",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Welcome to the CRM Super Admin Panel. Here's an overview of your system."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 animate-slide-in-up",style:{animationDelay:"200ms"},children:v.map((x,j)=>{const k=x.icon,S=x.trend&&x.trend>0?Ul:cc,h=x.trend&&x.trend>0?"text-green-600":"text-red-600";return s.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-100",style:{animationDelay:`${j*100}ms`},children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-xl ${x.bgColor} shadow-lg`,children:s.jsx(k,{className:"h-7 w-7 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:x.title}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900 mt-1",children:x.value})]})]}),x.trend&&s.jsxs("div",{className:`flex items-center ${h}`,children:[s.jsx(S,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm font-semibold",children:[Math.abs(x.trend),"%"]})]})]}),x.trendLabel&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:x.trendLabel})]})},x.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-slide-in-up",style:{animationDelay:"400ms"},children:[s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Monthly revenue over the last 12 months"})]}),s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Ml,{className:"h-6 w-6 text-green-600"})})]}),s.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:r.map((x,j)=>{const k=Math.max(...r.map(h=>h.revenue)),S=x.revenue/k*100;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 text-xs font-medium text-gray-600",children:x.month}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${S}%`,animationDelay:`${j*100}ms`}})})})]}),s.jsxs("div",{className:"text-right ml-3",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",x.revenue.toLocaleString()]}),s.jsxs("div",{className:`text-xs flex items-center ${x.growth>0?"text-green-600":"text-red-600"}`,children:[x.growth>0?s.jsx(Ul,{className:"h-3 w-3 mr-1"}):s.jsx(cc,{className:"h-3 w-3 mr-1"}),Math.abs(x.growth),"%"]})]})]},x.month)})})]}),s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Company Growth"}),s.jsx("p",{className:"text-sm text-gray-500",children:"New customer registrations over the year"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.totalCustomers}),s.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"total customers"})]})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ml,{className:"h-6 w-6 text-blue-600"})})]}),s.jsxs("div",{className:"relative h-80 overflow-x-auto overflow-y-hidden scrollbar-hide",children:[s.jsx("div",{className:"absolute inset-0 flex items-end justify-between min-w-max px-4 py-2",children:a.values.map((x,j)=>{const k=Math.max(...a.values),S=Math.min(...a.values),h=Math.max(k-S,1),y=(25+(x-S)/h*65)/100*280;return s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 mx-3",children:[s.jsxs("div",{className:"relative mb-3",style:{height:"280px"},children:[s.jsx("div",{className:"w-8 bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-lg transition-all duration-700 ease-out hover:from-blue-700 hover:to-blue-500 hover:scale-110 shadow-md hover:shadow-lg cursor-pointer absolute bottom-0",style:{height:`${y}px`,animationDelay:`${j*50}ms`},title:`${a.labels[j]}: ${x} companies`}),s.jsx("div",{className:"absolute text-xs font-bold text-gray-800 opacity-0 hover:opacity-100 transition-opacity duration-200 bg-white px-1 rounded shadow-sm",style:{bottom:`${y+8}px`},children:x})]}),s.jsx("div",{className:"text-xs text-gray-600 font-semibold text-center leading-tight mb-1",children:a.labels[j]}),s.jsx("div",{className:"text-xs text-gray-900 font-bold text-center leading-tight",children:x})]},j)})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gray-300"})]})]})]}),s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100 animate-slide-in-up",style:{animationDelay:"600ms"},children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Zh,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Quick Actions"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("button",{onClick:u,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($l,{className:"h-6 w-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900",children:"Add New Company"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Register a new company account"})]})]})}),s.jsx("button",{onClick:g,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(xt,{className:"h-6 w-6 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-green-900",children:"View Reports"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Generate system analytics"})]})]})}),s.jsx("button",{onClick:f,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(xr,{className:"h-6 w-6 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-900",children:"Process Orders"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Review pending orders"})]})]})})]})]}),s.jsx("div",{className:"bg-white shadow-lg rounded-xl border border-gray-100 animate-slide-in-up",style:{animationDelay:"800ms"},children:s.jsxs("div",{className:"px-6 py-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Wn,{className:"h-5 w-5 text-blue-600 mr-2"}),"Recent Activity"]}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-green-50 border border-green-100 hover:bg-green-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Vt,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New company registered"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:'"TechCorp Solutions" joined the platform with admin access'}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"2 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-green-600 font-medium",children:"Success"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-blue-50 border border-blue-100 hover:bg-blue-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(xr,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Order completed"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Order #ORD-12345 processed successfully for GlobalTech Inc."}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"4 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-blue-600 font-medium",children:"2,450.00"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-orange-50 border border-orange-100 hover:bg-orange-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(ht,{className:"w-5 h-5 text-orange-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Delivery challan generated"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"DC-001 created and dispatched for InnovateLabs order"}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"6 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-orange-600 font-medium",children:"In Transit"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-purple-50 border border-purple-100 hover:bg-purple-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(xt,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"User permissions updated"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Admin privileges granted to new team member at DataFlow Systems"}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"8 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-purple-600 font-medium",children:"Security"})]})]})]})]})]})})]})},Xh=({isOpen:e,onClose:t,onSubmit:r})=>{const[n,a]=b.useState({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),[l,o]=b.useState(!1),[c,i]=b.useState({}),u=x=>{const{name:j,value:k,type:S}=x.target;a(h=>({...h,[j]:S==="checkbox"?x.target.checked:k})),c[j]&&i(h=>({...h,[j]:void 0}))},g=()=>{const x={};return n.company_name.trim()?n.company_name.trim().length<2?x.company_name="Company name must be at least 2 characters":n.company_name.trim().length>200?x.company_name="Company name must be less than 200 characters":/^[a-zA-Z0-9\s&.,'-]+$/.test(n.company_name.trim())||(x.company_name="Company name contains invalid characters"):x.company_name="Company name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.email.trim().length>255&&(x.email="Email must be less than 255 characters"):x.email="Invalid email format":x.email="Email is required",n.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(n.phone.replace(/\s/g,""))?n.phone.replace(/\D/g,"").length<10?x.phone="Phone number must be at least 10 digits":n.phone.replace(/\D/g,"").length>15&&(x.phone="Phone number must be less than 15 digits"):x.phone="Invalid phone number format":x.phone="Phone number is required",n.address.trim()?n.address.trim().length<10?x.address="Address must be at least 10 characters":n.address.trim().length>500&&(x.address="Address must be less than 500 characters"):x.address="Address is required",n.gst_no.trim()?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$/.test(n.gst_no.replace(/\s/g,"").toUpperCase())?n.gst_no.replace(/\s/g,"").length!==15&&(x.gst_no="GST number must be exactly 15 characters"):x.gst_no="Invalid GST number format (e.g., 27ABCDE1234F1Z5)":x.gst_no="GST number is required",i(x),Object.keys(x).length===0},f=async x=>{if(x.preventDefault(),!!g()){o(!0);try{await r(n),a({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),i({}),t()}catch(j){console.error("Error submitting form:",j)}finally{o(!1)}}},v=()=>{a({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),i({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Company"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("form",{id:"company-form",onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company_name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",id:"company_name",name:"company_name",value:n.company_name,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.company_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter company name"}),c.company_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.company_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.email?"border-red-300":"border-gray-300"}`,placeholder:"company@example.com"}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:n.address,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.phone?"border-red-300":"border-gray-300"}`,placeholder:"+1-555-0123"}),c.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:n.gst_no,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"GST1234567890"}),c.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.gst_no})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:n.is_active,onChange:u,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",form:"company-form",disabled:l,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:l?"Adding...":"Add Company"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:v,children:"Cancel"})]})]})]})}):null},$u=({isOpen:e,onClose:t,onSubmit:r,company:n})=>{const[a,l]=b.useState({comp_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),[o,c]=b.useState(!1),[i,u]=b.useState({});b.useEffect(()=>{n&&l({comp_name:n.comp_name,email:n.email,address:n.address,phone:n.phone,gst_no:n.gst_no,is_active:n.is_active})},[n]);const g=j=>{const{name:k,value:S,type:h}=j.target;l(d=>({...d,[k]:h==="checkbox"?j.target.checked:S})),i[k]&&u(d=>({...d,[k]:void 0}))},f=()=>{const j={};return a.comp_name.trim()?a.comp_name.trim().length<2?j.comp_name="Company name must be at least 2 characters":a.comp_name.trim().length>200?j.comp_name="Company name must be less than 200 characters":/^[a-zA-Z0-9\s&.,'-]+$/.test(a.comp_name.trim())||(j.comp_name="Company name contains invalid characters"):j.comp_name="Company name is required",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.email.trim().length>255&&(j.email="Email must be less than 255 characters"):j.email="Invalid email format":j.email="Email is required",a.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phone.replace(/\s/g,""))?a.phone.replace(/\D/g,"").length<10?j.phone="Phone number must be at least 10 digits":a.phone.replace(/\D/g,"").length>15&&(j.phone="Phone number must be less than 15 digits"):j.phone="Invalid phone number format":j.phone="Phone number is required",a.address.trim()?a.address.trim().length<10?j.address="Address must be at least 10 characters":a.address.trim().length>500&&(j.address="Address must be less than 500 characters"):j.address="Address is required",a.gst_no.trim()?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$/.test(a.gst_no.replace(/\s/g,"").toUpperCase())?a.gst_no.replace(/\s/g,"").length!==15&&(j.gst_no="GST number must be exactly 15 characters"):j.gst_no="Invalid GST number format (e.g., 27ABCDE1234F1Z5)":j.gst_no="GST number is required",u(j),Object.keys(j).length===0},v=async j=>{if(j.preventDefault(),!!f()){c(!0);try{await r(a),t()}catch(k){console.error("Error submitting form:",k)}finally{c(!1)}}},x=()=>{u({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Company"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("form",{id:"edit-company-form",onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",id:"comp_name",name:"comp_name",value:a.comp_name,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.comp_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter company name"}),i.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.email?"border-red-300":"border-gray-300"}`,placeholder:"company@example.com"}),i.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:a.address,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.phone?"border-red-300":"border-gray-300"}`,placeholder:"+1-555-0123"}),i.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:a.gst_no,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"GST1234567890"}),i.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.gst_no})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:g,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",form:"edit-company-form",disabled:o,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:o?"Updating...":"Update Company"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:x,children:"Cancel"})]})]})]})})},Yh=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState("all"),[i,u]=b.useState(!0),[g,f]=b.useState(!1),[v,x]=b.useState(!1),[j,k]=b.useState(null),{addToast:S}=Ou(),h=ms();b.useEffect(()=>{(async()=>{try{const w=await K.getCompanies();let E=[];w.success&&(Array.isArray(w.data)?E=w.data:w.data&&Array.isArray(w.data.data)&&(E=w.data.data));const A=E.map(T=>({id:T.id,comp_name:T.comp_name||T.company_name||"",email:T.email||"",address:T.address||"",phone:T.phno||T.phone||"",gst_no:T.gst||T.gst_no||"",code:T.code||T.company_code||"",phno:T.phno||T.phone||"",is_active:T.status==="active"||T.is_active||!1,created_at:T.created_at||new Date().toISOString(),updated_at:T.updated_at||new Date().toISOString()})).sort((T,F)=>new Date(F.created_at).getTime()-new Date(T.created_at).getTime());t(A),n(A)}catch(w){console.error("Error fetching companies:",w),t([]),n([])}finally{u(!1)}})()},[]),b.useEffect(()=>{let p=e;a&&(p=p.filter(w=>w.comp_name.toLowerCase().includes(a.toLowerCase())||w.email.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(p=p.filter(w=>o==="active"?w.is_active:!w.is_active)),n(p)},[e,a,o]);const d=p=>{k(p),x(!0)},m=async p=>{try{const w=!p.is_active,E=`Are you sure you want to ${w?"activate":"deactivate"} "${p.comp_name}"?`;window.confirm(E)&&((await K.updateCompany(p.id,{...p,is_active:w})).success?(t(A=>A.map(T=>T.id===p.id?{...T,is_active:w}:T)),S(`Company ${w?"activated":"deactivated"} successfully`,"success")):S("Failed to update company status","error"))}catch(w){console.error("Error toggling company status:",w),S("Error updating company status","error")}},y=async p=>{const w=e.find(E=>E.id.toString()===p);if(w){const E=`Are you sure you want to delete "${w.comp_name}"? This action cannot be undone.`;if(confirm(E))try{if((await K.deleteCompany(parseInt(p))).success){const A=await K.getCompanies();if(A.success){let T=[];Array.isArray(A.data)?T=A.data:A.data&&Array.isArray(A.data.data)&&(T=A.data.data);const te=T.map(D=>({id:D.id,comp_name:D.comp_name||D.company_name||"",email:D.email||"",address:D.address||"",phone:D.phno||D.phone||"",gst_no:D.gst||D.gst_no||"",code:D.code||D.company_code||"",phno:D.phno||D.phone||"",is_active:D.status==="active"||D.is_active||!1,created_at:D.created_at||new Date().toISOString(),updated_at:D.updated_at||new Date().toISOString()})).sort((D,H)=>new Date(H.created_at).getTime()-new Date(D.created_at).getTime());t(te),n(te)}}}catch(R){console.error("Error deleting company:",R),alert("Failed to delete company")}}},_=()=>{f(!0)},N=async p=>{try{if((await K.createCompany({comp_name:p.company_name,email:p.email,address:p.address,phno:p.phone,gst:p.gst_no,status:p.is_active?"active":"inactive"})).success){const E=await K.getCompanies();if(E.success){let R=[];Array.isArray(E.data)?R=E.data:E.data&&Array.isArray(E.data.data)&&(R=E.data.data);const T=R.map(F=>({id:F.id,comp_name:F.comp_name||F.company_name||"",email:F.email||"",address:F.address||"",phone:F.phno||F.phone||"",gst_no:F.gst||F.gst_no||"",code:F.code||F.company_code||"",is_active:F.status==="active"||F.is_active||!1,created_at:F.created_at||new Date().toISOString(),updated_at:F.updated_at||new Date().toISOString()})).sort((F,te)=>new Date(te.created_at).getTime()-new Date(F.created_at).getTime());t(T),n(T)}f(!1)}}catch(w){console.error("Error creating company:",w),alert(w instanceof Error?w.message:"Failed to create company")}},C=async p=>{if(j)try{if((await K.updateCompany(j.id,{comp_name:p.company_name,email:p.email,address:p.address,phno:p.phone,gst:p.gst_no,status:p.is_active?"active":"inactive"})).success){x(!1),k(null);const E=await K.getCompanies();if(E.success){let R=[];Array.isArray(E.data)?R=E.data:E.data&&Array.isArray(E.data.data)&&(R=E.data.data);const T=R.map(F=>({id:F.id,comp_name:F.comp_name||F.company_name||"",email:F.email||"",address:F.address||"",phone:F.phno||F.phone||"",gst_no:F.gst||F.gst_no||"",code:F.code||F.company_code||"",is_active:F.status==="active"||F.is_active||!1,created_at:F.created_at||new Date().toISOString(),updated_at:F.updated_at||new Date().toISOString()})).sort((F,te)=>new Date(te.created_at).getTime()-new Date(F.created_at).getTime());t(T),n(T)}}}catch(w){console.error("Error updating company:",w),alert(w instanceof Error?w.message:"Failed to update company")}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Companies"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all companies in the system"})]}),s.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search companies...",value:a,onChange:p=>l(p.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:p=>c(p.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.comp_name})})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.code||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[p.is_active?s.jsx("span",{className:"w-4 h-4 mr-1",children:""}):s.jsx("span",{className:"w-4 h-4 mr-1",children:""}),p.is_active?"Active":"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.address||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>m(p),className:`p-1 rounded transition-colors ${p.is_active?"text-orange-600 hover:text-orange-900 hover:bg-orange-50":"text-green-600 hover:text-green-900 hover:bg-green-50"}`,title:p.is_active?"Deactivate Company":"Activate Company",children:p.is_active?s.jsx(Vh,{className:"h-4 w-4"}):s.jsx(Hh,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>h(`/companies/${p.id}`),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:s.jsx(qr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(p),className:"text-yellow-600 hover:text-yellow-900 p-1",title:"Edit",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>y(p.id.toString()),className:"p-1 text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(Ht,{className:"h-4 w-4"})})]})})]},p.id))})]})})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No companies found matching your criteria."})})]}),g&&s.jsx(Xh,{isOpen:g,onClose:()=>f(!1),onSubmit:N}),v&&s.jsx($u,{isOpen:v,onClose:()=>{x(!1),k(null)},onSubmit:C,company:j})]})},wt={getAllCustomers:async()=>I.get("/customers"),getCustomerById:async e=>I.get(`/customers/${e}`),createCustomer:async e=>I.post("/customers",e),updateCustomer:async(e,t)=>I.put(`/customers/${e}`,t),toggleCustomerStatus:async e=>I.patch(`/customers/${e}/toggle-status`),deleteCustomer:async e=>I.delete(`/customers/${e}`),searchCustomers:async e=>I.get(`/customers?search=${encodeURIComponent(e)}`)},Gs={getAllParts:async()=>I.get("/parts"),createPart:async e=>I.post("/parts",e),updatePart:async(e,t)=>I.put(`/parts/${e}`,t),deletePart:async e=>I.delete(`/parts/${e}`),searchParts:async e=>I.get(`/parts/search?description=${encodeURIComponent(e)}`)},it={getAllCompanies:async()=>I.get("/companies"),getCompanyById:async e=>I.get(`/companies/${e}`),createCompany:async e=>I.post("/companies",e),updateCompany:async(e,t)=>I.put(`/companies/${e}`,t),toggleCompanyStatus:async e=>I.patch(`/companies/${e}/toggle-status`),deleteCompany:async e=>I.delete(`/companies/${e}`)},Bo={getAllOrders:async()=>{const e=Date.now();return I.get(`/orders?t=${e}`)},getOrderById:async e=>I.get(`/orders/${e}`),createOrder:async e=>I.post("/orders",e),updateOrder:async(e,t)=>I.put(`/orders/${e}`,t),deleteOrder:async e=>I.delete(`/orders/${e}`),searchOrdersByCompany:async e=>I.get(`/orders/search?company=${encodeURIComponent(e)}`)},e0={getAllAdmins:async()=>I.get("/company-users"),getAdminById:async e=>I.get(`/company-users/${e}`),createAdmin:async e=>I.post("/company-users",e),updateAdmin:async(e,t)=>I.put(`/company-users/${e}`,t),toggleAdminStatus:async e=>I.patch(`/company-users/${e}/toggle-status`),deleteAdmin:async e=>I.delete(`/company-users/${e}`),resetPassword:async(e,t)=>I.post(`/company-users/${e}/reset-password`,{password:t})},t0=()=>{const{id:e}=Wf(),t=ms(),[r,n]=b.useState(null),[a,l]=b.useState(!0),[o,c]=b.useState(!1),[i,u]=b.useState("overview"),[g,f]=b.useState([]),[v,x]=b.useState([]),[j,k]=b.useState([]),[S,h]=b.useState([]),[d,m]=b.useState([]),[y,_]=b.useState([]),[N,C]=b.useState(!1);b.useEffect(()=>{e&&p(e)},[e]);const p=async P=>{try{const q=await it.getCompanyById(parseInt(P));q.success?(n(q.data),await w(q.data)):n(null)}catch(q){console.error("Error fetching company:",q),n(null)}finally{l(!1)}},w=async P=>{var q,G,Le,M;try{C(!0);const[B,Z,Re,U,Ce]=await Promise.all([wt.getAllCustomers(),Bo.getAllOrders(),K.getDeliveryChallans(),Gs.getAllParts(),e0.getAllAdmins()]);if(B.success){const st=(Array.isArray(B.data)?B.data:((q=B.data)==null?void 0:q.data)||[]).filter(Oe=>Oe.comp_name===P.comp_name||Oe.comp_name===P.comp_name);f(st)}if(Z.success){const st=(Array.isArray(Z.data)?Z.data:((G=Z.data)==null?void 0:G.data)||[]).filter(Oe=>{var Ue;return((Ue=Oe.customer)==null?void 0:Ue.comp_name)===P.comp_name||Oe.comp_name===P.comp_name});x(st)}if(Re.success){const st=(Array.isArray(Re.data)?Re.data:((Le=Re.data)==null?void 0:Le.data)||[]).filter(Oe=>Oe.comp_name===P.comp_name||Oe.to===P.comp_name||Oe.comp_name===P.comp_name);k(st)}if(U.success&&U.data){const st=(Array.isArray(U.data)?U.data:[]).filter(Oe=>{var Ue;return((Ue=Oe.customer)==null?void 0:Ue.name)===P.comp_name});h(st)}if(Ce.success){const _t=Array.isArray(Ce.data)?Ce.data:((M=Ce.data)==null?void 0:M.data)||[],st=_t.filter(Ue=>Ue.company===P.comp_name&&(Ue.role==="supervisor"||Ue.role==="manager")),Oe=_t.filter(Ue=>Ue.company===P.comp_name&&Ue.role==="operator");m(st),_(Oe)}}catch(B){console.error("Error fetching company data:",B)}finally{C(!1)}},E=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[s.jsx("div",{className:"bg-blue-900 px-6 py-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.comp_name)||""}),s.jsx("div",{className:"flex items-center mt-2",children:r!=null&&r.is_active?s.jsxs("span",{className:"flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Vt,{className:"w-4 h-4 mr-1"}),"Active"]}):s.jsxs("span",{className:"flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(fa,{className:"w-4 h-4 mr-1"}),"Inactive"]})})]})})}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(ql,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.email)||""})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Iu,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.phone)||""})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Bh,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Address"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.address)||"No address provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(ht,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"GST Number"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.gst_no)||""})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Customers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Delivery Challans"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Staff"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.length+y.length})]})]})]}),R=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Customers (",g.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:P.address}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.created_at).toLocaleDateString()})]},P.id))})]}),g.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No customers found for this company"})]})]}),A=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Orders (",v.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(P=>{var q,G;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.po_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((q=P.customer)==null?void 0:q.name)||`Customer ${P.customer_id}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((G=P.part)==null?void 0:G.part_description)||`Part ${P.part_id}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.po_qty}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",P.price]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.po_received?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P.po_received?"Received":"Pending"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.po_date?new Date(P.po_date).toLocaleDateString():"N/A"})]},P.id)})})]}),v.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders found for this company"})]})]}),T=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Delivery Challans (",j.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.challanNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.company}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.orderId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.createdDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.status==="delivered"?"bg-green-100 text-green-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.status||"pending"})})]},P.id))})]}),j.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No delivery challans found for this company"})]})]}),F=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Parts (",S.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drawing No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rev No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Wt"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thickness"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.drawing_no}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:P.part_description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.rev_no||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.net_wt||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.thickness||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.raw_material||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.lead_time||"N/A"})]},P.id))})]}),S.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No parts found for this company"})]})]}),te=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Supervisors (",d.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.is_active?"Active":"Inactive"})})]},P.email))})]}),d.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No supervisors found for this company"})]})]}),D=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Operators (",y.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.is_active?"Active":"Inactive"})})]},P.email))})]}),y.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No operators found for this company"})]})]}),H=()=>{c(!0)},O=async P=>{if(r)try{(await it.updateCompany(r.id,{comp_name:P.comp_name,email:P.email,address:P.address,phno:P.phone,gst:P.gst_no,status:P.is_active?"active":"inactive"})).success&&(c(!1),await p(r.id.toString()))}catch(q){console.error("Error updating company:",q),alert("Failed to update company")}},z=async()=>{if(!r)return;const P=r.is_active?`Are you sure you want to deactivate "${r.comp_name}"?`:`Are you sure you want to activate "${r.comp_name}"?`;if(confirm(P))try{(await it.toggleCompanyStatus(r.id)).success&&await p(r.id.toString())}catch(q){console.error("Error updating company status:",q),alert("Failed to update company status")}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading company details..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{onClick:()=>t("/companies"),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[s.jsx(Oh,{className:"h-5 w-5 mr-2"}),"Back to Companies"]}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Company Details"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:H,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx("button",{onClick:z,className:`flex items-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium ${r.is_active?"border-red-300 text-red-700 bg-white hover:bg-red-50":"border-green-300 text-green-700 bg-white hover:bg-green-50"}`,children:r.is_active?s.jsxs(s.Fragment,{children:[s.jsx(Fh,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Activate"]})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:ht},{id:"customers",label:"Customers",icon:xt},{id:"orders",label:"Orders",icon:Ss},{id:"challans",label:"Delivery Challans",icon:ht},{id:"parts",label:"Parts",icon:Mu},{id:"supervisors",label:"Supervisors",icon:xt},{id:"operators",label:"Operators",icon:xt}].map(P=>s.jsxs("button",{onClick:()=>u(P.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(P.icon,{className:"h-4 w-4 mr-2"}),P.label]},P.id))})}),s.jsxs("div",{children:[i==="overview"&&E(),i==="customers"&&R(),i==="orders"&&A(),i==="challans"&&T(),i==="parts"&&F(),i==="supervisors"&&te(),i==="operators"&&D()]})]})}),o&&s.jsx($u,{isOpen:o,onClose:()=>c(!1),onSubmit:O,company:r})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Company not found"}),s.jsx("button",{onClick:()=>t("/companies"),className:"px-4 py-2 bg-blue-900 text-white rounded-md hover:bg-blue-800",children:"Back to Companies"})]})})},s0=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=b.useState({name:"",email:"",phone:"",role:"admin",comp_code:"",password:"",password_confirmation:"",is_active:!0}),[l,o]=b.useState(!1),[c,i]=b.useState({}),[u,g]=b.useState([]),[f,v]=b.useState(null),[x,j]=b.useState(!1),k=_=>{const{name:N,value:C,type:p}=_.target;a(w=>({...w,[N]:p==="checkbox"?_.target.checked:C})),c[N]&&i(w=>({...w,[N]:""}))},S=async _=>{const N=_.target.value,C=u.find(p=>p.id.toString()===N);C?(v(C),a(p=>({...p,comp_code:C.code}))):(v(null),a(p=>({...p,comp_code:""})))};b.useEffect(()=>{e&&h()},[e]);const h=async()=>{j(!0);try{console.log("Fetching companies from API...");const _=await K.getCompanies();if(console.log("Companies API response:",_),_.success&&Array.isArray(_.data)){const N=_.data;console.log("Companies data extracted:",N),g(N)}else console.error("Invalid response structure:",_),g([])}catch(_){console.error("Error fetching companies:",_),g([])}finally{j(!1)}},d=()=>{const _={};return n.name.trim()?n.name.trim().length<2?_.name="Name must be at least 2 characters":n.name.trim().length>100?_.name="Name must be less than 100 characters":/^[a-zA-Z\s]+$/.test(n.name.trim())||(_.name="Name can only contain letters and spaces"):_.name="Name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.email.trim().length>255&&(_.email="Email must be less than 255 characters"):_.email="Invalid email format":_.email="Email is required",n.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(n.phone.replace(/\s/g,""))?n.phone.replace(/\D/g,"").length<10?_.phone="Phone number must be at least 10 digits":n.phone.replace(/\D/g,"").length>15&&(_.phone="Phone number must be less than 15 digits"):_.phone="Invalid phone number format":_.phone="Phone is required",n.role?["admin","supervisor","operator"].includes(n.role)||(_.role="Invalid role selected"):_.role="Role is required",n.password.trim()?n.password.length<8?_.password="Password must be at least 8 characters":n.password.length>128?_.password="Password must be less than 128 characters":/(?=.*[a-z])/.test(n.password)?/(?=.*[A-Z])/.test(n.password)?/(?=.*\d)/.test(n.password)?/(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(n.password)||(_.password="Password must contain at least one special character"):_.password="Password must contain at least one number":_.password="Password must contain at least one uppercase letter":_.password="Password must contain at least one lowercase letter":_.password="Password is required",n.password_confirmation.trim()?n.password!==n.password_confirmation&&(_.password_confirmation="Passwords do not match"):_.password_confirmation="Password confirmation is required",f&&!f.comp_name&&(_.comp_code="Invalid company selected"),i(_),Object.keys(_).length===0},m=async _=>{if(_.preventDefault(),!!d()){o(!0);try{const N={name:n.name,email:n.email,phone:n.phone,role:n.role,comp_name:(f==null?void 0:f.comp_name)||"",comp_code:n.comp_code,password:n.password,password_confirmation:n.password_confirmation,is_active:n.is_active};(await K.createCompanyUser(N)).success&&(r(),y())}catch(N){console.error("Error creating admin:",N),alert("Failed to create admin")}finally{o(!1)}}},y=()=>{l||(a({name:"",email:"",phone:"",role:"admin",comp_code:"",password:"",password_confirmation:"",is_active:!0}),v(null),i({}),t())};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:y}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto scrollbar-hide",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Admin"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create a new administrator account"})]}),s.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",disabled:l,children:s.jsx(ke,{className:"h-6 w-6"})})]})}),s.jsxs("form",{onSubmit:m,className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.name?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Enter full name"}),c.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.email?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"admin@example.com"}),c.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.phone?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"+1234567890"}),c.phone&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.phone]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),s.jsxs("select",{value:(f==null?void 0:f.id)||"",onChange:S,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.comp_code?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l||x,children:[s.jsx("option",{value:"",children:"Select Company"}),u.map(_=>s.jsx("option",{value:_.id,children:_.comp_name},_.id))]}),f&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Company Code:"})," ",f.code]})}),c.comp_code&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.comp_code]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),s.jsxs("select",{name:"role",value:n.role,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.role?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,children:[s.jsx("option",{value:"",children:"Select Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"supervisor",children:"Supervisor"}),s.jsx("option",{value:"operator",children:"Operator"})]}),c.role&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.role]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),s.jsx("input",{type:"password",name:"password",value:n.password,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.password?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Min. 6 characters"}),c.password&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.password]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),s.jsx("input",{type:"password",name:"password_confirmation",value:n.password_confirmation,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.password_confirmation?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Re-enter password"}),c.password_confirmation&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.password_confirmation]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:k,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:l}),s.jsxs("label",{className:"ml-3 block text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Active Account"}),s.jsx("span",{className:"text-gray-500 ml-1",children:"- User can login immediately"})]})]})}),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"* Required fields"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:y,className:"px-5 py-2.5 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 disabled:opacity-50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 disabled:opacity-50 transition-colors flex items-center",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Admin"})]})]})]})]})]})}):null},r0=({isOpen:e,onClose:t,onSuccess:r,admin:n})=>{const[a,l]=b.useState({name:n.name,email:n.email,phone:n.phone,role:n.role,is_active:n.is_active,comp_code:""}),[o,c]=b.useState([]),[i,u]=b.useState(null),[g,f]=b.useState(""),[v,x]=b.useState(!1),[j,k]=b.useState({}),S=C=>{const{name:p,value:w,type:E}=C.target;l(R=>({...R,[p]:E==="checkbox"?C.target.checked:w})),j[p]&&k(R=>({...R,[p]:""}))},h=async C=>{const p=C.target.value,w=o.find(E=>E.id.toString()===p);w?(u(w),l(E=>({...E,comp_code:w.code}))):(u(null),l(E=>({...E,comp_code:""})))},d=async()=>{try{const C=await K.getCompanies();C.success&&Array.isArray(C.data)&&c(C.data)}catch(C){console.error("Error fetching companies:",C)}};Ql.useEffect(()=>{e&&d()},[e]);const m=C=>{f(C.target.value),j.newPassword&&k(p=>({...p,newPassword:""}))},y=()=>{var p,w,E;const C={};return(p=a.name)!=null&&p.trim()?a.name.trim().length<2?C.name="Name must be at least 2 characters":a.name.trim().length>100?C.name="Name must be less than 100 characters":/^[a-zA-Z\s]+$/.test(a.name.trim())||(C.name="Name can only contain letters and spaces"):C.name="Name is required",(w=a.email)!=null&&w.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.email.trim().length>255&&(C.email="Email must be less than 255 characters"):C.email="Invalid email format":C.email="Email is required",(E=a.phone)!=null&&E.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phone.replace(/\s/g,""))?a.phone.replace(/\D/g,"").length<10?C.phone="Phone number must be at least 10 digits":a.phone.replace(/\D/g,"").length>15&&(C.phone="Phone number must be less than 15 digits"):C.phone="Invalid phone number format":C.phone="Phone is required",a.role?["admin","supervisor","operator"].includes(a.role)||(C.role="Invalid role selected"):C.role="Role is required",g&&(g.length<8?C.newPassword="Password must be at least 8 characters":g.length>128?C.newPassword="Password must be less than 128 characters":/(?=.*[a-z])/.test(g)?/(?=.*[A-Z])/.test(g)?/(?=.*\d)/.test(g)?/(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(g)||(C.newPassword="Password must contain at least one special character"):C.newPassword="Password must contain at least one number":C.newPassword="Password must contain at least one uppercase letter":C.newPassword="Password must contain at least one lowercase letter"),i&&!i.comp_name&&(C.comp_code="Invalid company selected"),k(C),Object.keys(C).length===0},_=async C=>{if(C.preventDefault(),!!y()){x(!0);try{const p={name:a.name,email:a.email,phone:a.phone,role:a.role,is_active:a.is_active,comp_name:(i==null?void 0:i.comp_name)||"",comp_code:a.comp_code};(await K.updateCompanyUser(n.id,p)).success&&(g&&await K.updateCompanyUser(n.id,{password:g}),r())}catch(p){console.error("Error updating admin:",p),alert("Failed to update admin")}finally{x(!1)}}},N=()=>{v||(l({name:n.name,email:n.email,phone:n.phone,role:n.role,is_active:n.is_active,comp_code:""}),f(""),k({}),t())};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Admin"}),s.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600",disabled:v,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:a.name,onChange:S,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.name?"border-red-500":"border-gray-300"}`,disabled:v}),j.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:S,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.email?"border-red-500":"border-gray-300"}`,disabled:v}),j.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:S,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.phone?"border-red-500":"border-gray-300"}`,disabled:v}),j.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),s.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:h,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.comp_code?"border-red-500":"border-gray-300"}`,disabled:v,children:[s.jsx("option",{value:"",children:"Select Company"}),o.map(C=>s.jsx("option",{value:C.id,children:C.comp_name},C.id))]}),i&&s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Company Code: ",s.jsx("span",{className:"font-medium",children:i.code})]}),j.comp_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.comp_code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role *"}),s.jsxs("select",{name:"role",value:a.role,onChange:S,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.role?"border-red-500":"border-gray-300"}`,disabled:v,children:[s.jsx("option",{value:"",children:"Select Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"super_admin",children:"Super Admin"}),s.jsx("option",{value:"manager",children:"Manager"})]}),j.role&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.role})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_active",id:"is_active",checked:a.is_active,onChange:S,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:v}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Reset Password"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (leave empty to keep current)"}),s.jsx("input",{type:"password",name:"newPassword",value:g,onChange:m,placeholder:"Enter new password",className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.newPassword?"border-red-500":"border-gray-300"}`,disabled:v}),j.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.newPassword})]})})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Updating...":"Update Admin"}),s.jsx("button",{type:"button",onClick:N,disabled:v,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})})}):null},n0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState("all"),[i,u]=b.useState("all"),[g,f]=b.useState(!0),[v,x]=b.useState(!1),[j,k]=b.useState(!1),[S,h]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{try{const p=await K.getCompanyUsers();console.log("Company Admins API Response:",p);let w=[];p.success&&Array.isArray(p.data)&&(w=p.data),w.sort((E,R)=>new Date(R.created_at).getTime()-new Date(E.created_at).getTime()),t(w),n(w)}catch(p){console.error("Error fetching admins:",p),t([]),n([])}finally{f(!1)}};b.useEffect(()=>{let p=e;a&&(p=p.filter(w=>w.name&&w.name.toLowerCase().includes(a.toLowerCase())||w.email&&w.email.toLowerCase().includes(a.toLowerCase())||w.phone&&w.phone.toLowerCase().includes(a.toLowerCase())||w.company&&w.company.comp_name&&w.company.comp_name.toLowerCase().includes(a.toLowerCase())||w.role&&w.role.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(p=p.filter(w=>o==="active"?w.is_active:!w.is_active)),i!=="all"&&(p=p.filter(w=>w.company&&w.company.comp_name===i)),n(p)},[e,a,o,i]);const m=async p=>{const w=e.find(R=>R.id===p),E=w==null?void 0:w.is_active;try{(await K.updateCompanyUser(p,{is_active:!E})).success&&await d()}catch(R){console.error("Error toggling admin status:",R),alert("Failed to update admin status")}},y=p=>{h(p),k(!0)},_=async p=>{if(window.confirm("Are you sure you want to delete this admin?"))try{(await K.deleteCompanyUser(p)).success&&await d()}catch(w){console.error("Error deleting admin:",w),alert("Failed to delete admin")}},N=async()=>{x(!1),await d()},C=async()=>{k(!1),h(null),await d()};return g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Company Admins"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all company administrators in the system"})]}),s.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Admin"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search admins...",value:a,onChange:p=>l(p.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:p=>u(p.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"}),Array.from(new Set(e.filter(p=>p.company).map(p=>p.company.comp_name))).sort().map(p=>s.jsx("option",{value:p,children:p},p))]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:p=>c(p.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-900 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:p.name.split(" ").map(w=>w[0]).join("")})})}),s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.company?p.company.comp_name:"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.role==="admin"?"bg-blue-100 text-blue-800":p.role==="supervisor"?"bg-purple-100 text-purple-800":p.role==="operator"?"bg-gray-100 text-gray-800":p.role==="superadmin"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:p.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[p.is_active?s.jsx(Vt,{className:"w-4 h-4 mr-1"}):s.jsx(fa,{className:"w-4 h-4 mr-1"}),p.is_active?"Active":"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>y(p),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Admin",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>_(p.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Admin",children:s.jsx(Ht,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>m(p.id),className:`p-1 ${p.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:p.is_active?"Deactivate Admin":"Activate Admin",children:s.jsx(Gh,{className:"h-4 w-4"})})]})})]},p.id))})]})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No company admins found matching your criteria."})})]}),v&&s.jsx(s0,{isOpen:v,onClose:()=>x(!1),onSuccess:N}),j&&S&&s.jsx(r0,{isOpen:j,onClose:()=>k(!1),onSuccess:C,admin:S})]})})},a0=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=b.useState({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:""}),[l,o]=b.useState([]),[c,i]=b.useState(!1),[u,g]=b.useState({});b.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const h=await it.getAllCompanies();h.success&&Array.isArray(h.data)?o(h.data):o([])}catch(h){console.error("Error fetching companies:",h),o([])}},v=h=>{const{name:d,value:m}=h.target;a(y=>({...y,[d]:m})),u[d]&&g(y=>({...y,[d]:void 0}))},x=h=>{const d=l.find(m=>m.comp_name===h.target.value);d&&a(m=>({...m,comp_name:d.comp_name,comp_code:d.code})),u.comp_name&&g(m=>({...m,comp_name:void 0}))},j=()=>{const h={};return n.name.trim()||(h.name="Customer name is required"),n.address.trim()||(h.address="Address is required"),n.contact_no.trim()||(h.contact_no="Contact number is required"),n.gst_no.trim()||(h.gst_no="GST number is required"),n.comp_name.trim()||(h.comp_name="Company selection is required"),g(h),Object.keys(h).length===0},k=async h=>{if(h.preventDefault(),!!j()){i(!0);try{(await wt.createCustomer(n)).success&&(r(),S())}catch(d){console.error("Error creating customer:",d)}finally{i(!1)}}},S=()=>{a({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:""}),g({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:S,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:k,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Customer"}),s.jsx("button",{type:"button",onClick:S,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:v,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter customer name"}),u.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:v,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.address?"border-red-300":"border-gray-300"}`,placeholder:"Enter complete address"}),u.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.address})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact_no",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),s.jsx("input",{type:"text",id:"contact_no",name:"contact_no",value:n.contact_no,onChange:v,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.contact_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter contact number"}),u.contact_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.contact_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:n.gst_no,onChange:v,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter GST number"}),u.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.gst_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.comp_name?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a company"}),l.length>0?l.map(h=>s.jsx("option",{value:h.comp_name,children:h.comp_name},h.id)):s.jsx("option",{value:"",disabled:!0,children:"No companies available"})]}),u.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_code",className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",id:"comp_code",name:"comp_code",value:n.comp_code,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md shadow-sm bg-gray-50 text-gray-600 sm:text-sm",placeholder:"Auto-populated from company selection"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Company code is auto-populated when you select a company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:c,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating...":"Create Customer"}),s.jsx("button",{type:"button",onClick:S,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})]})}):null},l0=({isOpen:e,onClose:t,onSuccess:r,customer:n})=>{const[a,l]=b.useState({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:"",is_active:!0}),[o,c]=b.useState([]),[i,u]=b.useState(!1),[g,f]=b.useState({});b.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const m=await it.getAllCompanies();m.success&&Array.isArray(m.data)?c(m.data):c([])}catch(m){console.error("Error fetching companies:",m),c([])}};b.useEffect(()=>{n&&e&&(l({name:n.name,address:n.address,contact_no:n.contact_no,gst_no:n.gst_no,comp_code:n.comp_code,comp_name:n.comp_name,is_active:n.is_active}),f({}))},[n,e]);const x=m=>{const{name:y,value:_}=m.target;l(N=>({...N,[y]:_})),g[y]&&f(N=>({...N,[y]:void 0}))},j=m=>{const y=o.find(_=>_.comp_name===m.target.value);y&&l(_=>({..._,comp_name:y.comp_name,comp_code:y.code})),g.comp_name&&f(_=>({..._,comp_name:void 0}))},k=m=>{const{name:y,checked:_}=m.target;l(N=>({...N,[y]:_}))},S=()=>{var y,_,N,C,p;const m={};return(y=a.name)!=null&&y.trim()||(m.name="Customer name is required"),(_=a.address)!=null&&_.trim()||(m.address="Address is required"),(N=a.contact_no)!=null&&N.trim()||(m.contact_no="Contact number is required"),(C=a.gst_no)!=null&&C.trim()||(m.gst_no="GST number is required"),(p=a.comp_name)!=null&&p.trim()||(m.comp_name="Company selection is required"),f(m),Object.keys(m).length===0},h=async m=>{if(m.preventDefault(),!(!S()||!n)){u(!0);try{(await wt.updateCustomer(n.id,a)).success&&(r(),d())}catch(y){console.error("Error updating customer:",y),alert("Failed to update customer")}finally{u(!1)}}},d=()=>{l({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:"",is_active:!0}),f({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:d,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Customer"}),s.jsx("button",{type:"button",onClick:d,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:i,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter customer name",disabled:i}),g.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",value:a.address,onChange:x,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.address?"border-red-300":"border-gray-300"}`,placeholder:"Enter complete address",disabled:i}),g.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.address})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact_no",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),s.jsx("input",{type:"text",id:"contact_no",name:"contact_no",value:a.contact_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.contact_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter contact number",disabled:i}),g.contact_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.contact_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:a.gst_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter GST number",disabled:i}),g.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.gst_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:a.comp_name,onChange:j,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.comp_name?"border-red-300":"border-gray-300"}`,disabled:i,children:[s.jsx("option",{value:"",children:"Select a company"}),o.map(m=>s.jsx("option",{value:m.comp_name,children:m.comp_name},m.id))]}),g.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_code",className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",id:"comp_code",name:"comp_code",value:a.comp_code,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md shadow-sm bg-gray-50 text-gray-600 sm:text-sm",placeholder:"Auto-populated from company selection",disabled:i}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Company code is auto-populated when you select a company"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:k,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:i}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Customer"}),s.jsx("button",{type:"button",onClick:d,disabled:i,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},o0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState(!0),[i,u]=b.useState(null),[g,f]=b.useState(!1),[v,x]=b.useState(!1);b.useEffect(()=>{j()},[]),b.useEffect(()=>{let y=e;a&&(y=y.filter(_=>_.name.toLowerCase().includes(a.toLowerCase())||_.address.toLowerCase().includes(a.toLowerCase())||_.contact_no.toLowerCase().includes(a.toLowerCase())||_.gst_no.toLowerCase().includes(a.toLowerCase()))),n(y)},[e,a]);const j=async()=>{c(!0);try{const y=await K.getCustomers();if(console.log("Customers API Response:",y),y.success)if(Array.isArray(y.data)){const _=y.data.sort((N,C)=>new Date(C.created_at).getTime()-new Date(N.created_at).getTime());t(_),n(_)}else if(y.data&&Array.isArray(y.data.data)){const _=y.data.data.sort((N,C)=>new Date(C.created_at).getTime()-new Date(N.created_at).getTime());t(_),n(_)}else t([]),n([]);else t([]),n([])}catch(y){console.error("Error fetching customers:",y),t([]),n([])}finally{c(!1)}},k=()=>{j(),f(!1)},S=y=>{u(y),x(!0)},h=()=>{x(!1),u(null)},d=()=>{j()},m=async(y,_)=>{if(window.confirm(`Are you sure you want to delete customer "${_}"? This action cannot be undone.`))try{(await K.deleteCustomer(y)).success&&await j()}catch(N){console.error("Error deleting customer:",N),alert("Failed to delete customer")}};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all customers in the system"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Customer"]})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search customers by name, address, contact, or GST...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-900 focus:border-transparent",value:a,onChange:y=>l(y.target.value)})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GST Number"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parts Count"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Uo,{className:"h-8 w-8 text-blue-900"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),s.jsx("div",{className:"text-sm text-gray-500",children:y.address})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Iu,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.contact_no})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ht,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.gst_no})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:y.parts_count||0})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>S(y),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Customer",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>m(y.id,y.name),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Customer",children:s.jsx(Ht,{className:"h-4 w-4"})})]})})]},y.id))})]})})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No customers found matching your criteria."})})]}),g&&s.jsx(a0,{isOpen:g,onClose:()=>f(!1),onSuccess:k}),v&&s.jsx(l0,{isOpen:v,onClose:h,onSuccess:d,customer:i})]})},i0=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=b.useState({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),[l,o]=b.useState([]),[c,i]=b.useState([]),[u,g]=b.useState(!1),[f,v]=b.useState(!1),[x,j]=b.useState({});b.useEffect(()=>{e&&(S(),k())},[e]);const k=async()=>{try{const N=await it.getAllCompanies();N.success&&Array.isArray(N.data)?i(N.data):i([])}catch(N){console.error("Error fetching companies:",N)}},S=async()=>{v(!0);try{console.log("Fetching customers for parts modal...");const N=await wt.getAllCustomers();console.log("Customers API response:",N),N.success?Array.isArray(N.data)?(console.log("Setting customers from direct array:",N.data),console.log("First customer object:",N.data[0]),o(N.data)):N.data&&Array.isArray(N.data.data)?(console.log("Setting customers from paginated data:",N.data.data),console.log("First customer object:",N.data.data[0]),o(N.data.data)):(console.log("No customers data found in response"),o([])):(console.log("Customers API response not successful"),o([]))}catch(N){console.error("Error fetching customers:",N),o([])}finally{v(!1)}},h=N=>{const{name:C,value:p,type:w}=N.target;if(w==="checkbox"){const E=N.target.checked;a(R=>({...R,[C]:E}))}else if(w==="number"){const E=p===""?void 0:Number(p);a(R=>({...R,[C]:E}))}else if(C==="customer_id"){const E=p===""?0:Number(p);a(R=>({...R,[C]:E}))}else a(E=>({...E,[C]:p}));x[C]&&j(E=>({...E,[C]:void 0}))},d=N=>{a(C=>({...C,comp_name:N.target.value})),x.comp_name&&j(C=>({...C,comp_name:void 0}))},m=()=>{const N={};return n.customer_id||(N.customer_id="Customer is required"),n.comp_name.trim()||(N.comp_name="Company selection is required"),n.part_description.trim()||(N.part_description="Part description is required"),n.drawing_no.trim()||(N.drawing_no="Drawing number is required"),j(N),Object.keys(N).length===0},y=async N=>{if(N.preventDefault(),!!m()){g(!0);try{(await Gs.createPart(n)).success&&(r(),_())}catch(C){console.error("Error creating part:",C)}finally{g(!1)}}},_=()=>{a({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),j({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:_,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Part"}),s.jsx("button",{type:"button",onClick:_,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:n.customer_id||"",onChange:h,disabled:f,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.customer_id?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a customer"}),l.map(N=>(console.log("Rendering customer option:",N.id,N.name),s.jsx("option",{value:N.id,children:N.name},N.id)))]}),x.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.comp_name?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a company"}),c.map(N=>s.jsx("option",{value:N.comp_name,children:N.comp_name},N.id))]}),x.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:n.part_description,onChange:h,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description"}),x.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_no",className:"block text-sm font-medium text-gray-700",children:"Drawing Number *"}),s.jsx("input",{type:"text",id:"drawing_no",name:"drawing_no",value:n.drawing_no,onChange:h,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.drawing_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter drawing number"}),x.drawing_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.drawing_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rev_no",className:"block text-sm font-medium text-gray-700",children:"Revision Number"}),s.jsx("input",{type:"text",id:"rev_no",name:"rev_no",value:n.rev_no,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter revision number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"net_wt",className:"block text-sm font-medium text-gray-700",children:"Net Weight"}),s.jsx("input",{type:"number",id:"net_wt",name:"net_wt",value:n.net_wt||"",onChange:h,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter net weight"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"thickness",className:"block text-sm font-medium text-gray-700",children:"Thickness"}),s.jsx("input",{type:"number",id:"thickness",name:"thickness",value:n.thickness||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter thickness",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raw_material",className:"block text-sm font-medium text-gray-700",children:"Raw Material"}),s.jsx("input",{type:"text",id:"raw_material",name:"raw_material",value:n.raw_material,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter raw material"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead_time",className:"block text-sm font-medium text-gray-700",children:"Lead Time (days)"}),s.jsx("input",{type:"number",id:"lead_time",name:"lead_time",value:n.lead_time||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter lead time in days"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"tool_information",className:"block text-sm font-medium text-gray-700",children:"Tool Information"}),s.jsx("input",{type:"text",id:"tool_information",name:"tool_information",value:n.tool_information,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter tool information"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"drawing_location",className:"block text-sm font-medium text-gray-700",children:"Drawing Location"}),s.jsx("input",{type:"text",id:"drawing_location",name:"drawing_location",value:n.drawing_location,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter drawing location"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"operation_sequence",className:"block text-sm font-medium text-gray-700",children:"Operation Sequence"}),s.jsx("textarea",{id:"operation_sequence",name:"operation_sequence",value:n.operation_sequence,onChange:h,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter operation sequence"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:n.po_no,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:n.po_date,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:n.po_qty||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:n.po_drg_rev,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date as per PO"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:n.reqd_date_as_per_po,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:n.acknowledgement_remarks,onChange:h,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:n.po_received,onChange:h,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-900",children:"PO Received"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:u||f,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Part"}),s.jsx("button",{type:"button",onClick:_,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})]})}):null},c0=({isOpen:e,onClose:t,onSuccess:r,part:n})=>{const[a,l]=b.useState({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),[o,c]=b.useState([]),[i,u]=b.useState(!1),[g,f]=b.useState({});b.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const d=await it.getAllCompanies();d.success&&Array.isArray(d.data)?c(d.data):c([])}catch(d){console.error("Error fetching companies:",d)}};b.useEffect(()=>{n&&e&&(l({customer_id:n.customer_id,part_description:n.part_description,drawing_no:n.drawing_no,rev_no:n.rev_no||"",net_wt:n.net_wt?parseFloat(n.net_wt.toString()):void 0,thickness:n.thickness?parseFloat(n.thickness.toString()):void 0,tool_information:n.tool_information||"",raw_material:n.raw_material||"",drawing_location:n.drawing_location||"",operation_sequence:n.operation_sequence||"",lead_time:n.lead_time?parseInt(n.lead_time.toString()):void 0,po_no:n.po_no||"",po_date:n.po_date?n.po_date.split("T")[0]:"",po_received:n.po_received||!1,po_qty:n.po_qty?parseInt(n.po_qty.toString()):void 0,po_drg_rev:n.po_drg_rev||"",acknowledgement_remarks:n.acknowledgement_remarks||"",reqd_date_as_per_po:n.reqd_date_as_per_po?n.reqd_date_as_per_po.split("T")[0]:"",comp_name:n.comp_name||""}),f({}))},[n,e]);const x=d=>{const{name:m,value:y,type:_}=d.target;if(_==="checkbox"){const N=d.target.checked;l(C=>({...C,[m]:N}))}else if(_==="number"){const N=y===""?void 0:Number(y);l(C=>({...C,[m]:N}))}else if(m==="customer_id"){const N=y===""?0:Number(y);l(C=>({...C,[m]:N}))}else l(N=>({...N,[m]:y}));g[m]&&f(N=>({...N,[m]:void 0}))},j=d=>{l(m=>({...m,comp_name:d.target.value})),g.comp_name&&f(m=>({...m,comp_name:void 0}))},k=()=>{var m,y,_;const d={};return(!a.customer_id||a.customer_id===0)&&(d.customer_id="Customer is required"),(m=a.comp_name)!=null&&m.trim()||(d.comp_name="Company selection is required"),(y=a.part_description)!=null&&y.trim()||(d.part_description="Part description is required"),(_=a.drawing_no)!=null&&_.trim()||(d.drawing_no="Drawing number is required"),f(d),Object.keys(d).length===0},S=async d=>{if(d.preventDefault(),!(!k()||!n)){u(!0);try{(await Gs.updatePart(n.id,a)).success&&(r(),h())}catch(m){console.error("Error updating part:",m),alert("Failed to update part")}finally{u(!1)}}},h=()=>{l({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),f({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:h,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("form",{onSubmit:S,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Part"}),s.jsx("button",{type:"button",onClick:h,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:i,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsx("select",{id:"customer_id",name:"customer_id",value:a.customer_id,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.customer_id?"border-red-300":"border-gray-300"}`,disabled:i,children:s.jsx("option",{value:0,children:"Select a customer"})}),g.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:a.comp_name,onChange:j,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.comp_name?"border-red-300":"border-gray-300"}`,disabled:i,children:[s.jsx("option",{value:"",children:"Select a company"}),o.map(d=>s.jsx("option",{value:d.comp_name,children:d.comp_name},d.id))]}),g.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("textarea",{id:"part_description",name:"part_description",value:a.part_description,onChange:x,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:i}),g.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_no",className:"block text-sm font-medium text-gray-700",children:"Drawing Number *"}),s.jsx("input",{type:"text",id:"drawing_no",name:"drawing_no",value:a.drawing_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.drawing_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter drawing number",disabled:i}),g.drawing_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.drawing_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rev_no",className:"block text-sm font-medium text-gray-700",children:"Revision Number"}),s.jsx("input",{type:"text",id:"rev_no",name:"rev_no",value:a.rev_no,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter revision number",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"net_wt",className:"block text-sm font-medium text-gray-700",children:"Net Weight"}),s.jsx("input",{type:"number",id:"net_wt",name:"net_wt",value:a.net_wt||"",onChange:x,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter net weight",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"thickness",className:"block text-sm font-medium text-gray-700",children:"Thickness"}),s.jsx("input",{type:"number",id:"thickness",name:"thickness",value:a.thickness||"",onChange:x,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter thickness",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tool_information",className:"block text-sm font-medium text-gray-700",children:"Tool Information"}),s.jsx("textarea",{id:"tool_information",name:"tool_information",value:a.tool_information,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter tool information",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raw_material",className:"block text-sm font-medium text-gray-700",children:"Raw Material"}),s.jsx("textarea",{id:"raw_material",name:"raw_material",value:a.raw_material,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter raw material",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_location",className:"block text-sm font-medium text-gray-700",children:"Drawing Location"}),s.jsx("textarea",{id:"drawing_location",name:"drawing_location",value:a.drawing_location,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter drawing location",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"operation_sequence",className:"block text-sm font-medium text-gray-700",children:"Operation Sequence"}),s.jsx("textarea",{id:"operation_sequence",name:"operation_sequence",value:a.operation_sequence,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter operation sequence",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead_time",className:"block text-sm font-medium text-gray-700",children:"Lead Time (days)"}),s.jsx("input",{type:"number",id:"lead_time",name:"lead_time",value:a.lead_time||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter lead time in days",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:a.po_no,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:a.po_date,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:a.po_qty||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:a.po_drg_rev,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:a.acknowledgement_remarks,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date as per PO"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:a.reqd_date_as_per_po,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:i})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Part"}),s.jsx("button",{type:"button",onClick:h,disabled:i,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},d0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState([]),[o,c]=b.useState(""),[i,u]=b.useState("all"),[g,f]=b.useState(!0),[v,x]=b.useState(null),[j,k]=b.useState(!1),[S,h]=b.useState(!1),[d,m]=b.useState(!1);b.useEffect(()=>{y()},[]),b.useEffect(()=>{let A=e;o&&(A=A.filter(T=>{var F;return T.part_description.toLowerCase().includes(o.toLowerCase())||T.drawing_no.toLowerCase().includes(o.toLowerCase())||((F=T.raw_material)==null?void 0:F.toLowerCase().includes(o.toLowerCase()))||T.customer.name.toLowerCase().includes(o.toLowerCase())})),i!=="all"&&(A=A.filter(T=>T.customer_id===parseInt(i))),n(A)},[e,o,i]);const y=async()=>{f(!0);try{const[A,T]=await Promise.all([K.getParts().catch(()=>({success:!1,data:[]})),K.getCustomers().catch(()=>({success:!1,data:[]}))]);if(A.success){let F=[];Array.isArray(A.data)?F=A.data:A.data&&typeof A.data=="object"&&"data"in A.data&&Array.isArray(A.data.data)&&(F=A.data.data),t(F),n(F)}else t([]),n([]);if(T.success){let F=[];Array.isArray(T.data)?F=T.data:T.data&&typeof T.data=="object"&&"data"in T.data&&Array.isArray(T.data.data)&&(F=T.data.data),l(F)}else l([])}catch(A){console.error("Error fetching data:",A),t([]),n([]),l([])}finally{f(!1)}},_=A=>{x(A),k(!0)},N=()=>{k(!1),x(null)},C=()=>{y()},p=A=>{x(A),m(!0)},w=()=>{m(!1),x(null)},E=()=>{y()},R=async(A,T)=>{if(window.confirm(`Are you sure you want to delete part "${T}"? This action cannot be undone.`))try{(await K.deletePart(A)).success&&await y()}catch(F){console.error("Error deleting part:",F),alert("Failed to delete part")}};return g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parts"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all parts and their specifications"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Part"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search parts by description, drawing, material, or customer...",value:o,onChange:A=>c(A.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:A=>u(A.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Customers"}),a.map(A=>s.jsx("option",{value:A.id.toString(),children:A.name},A.id))]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>s.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-full p-3",children:s.jsx(Ss,{className:"h-6 w-6 text-green-900"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:A.part_description}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",A.id]})]})]}),s.jsx("div",{className:"flex space-x-1",children:s.jsx("button",{onClick:()=>_(A),className:"p-1 text-gray-400 hover:text-blue-900 transition-colors",title:"View Details",children:s.jsx(qr,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Uo,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-600",children:A.customer.name})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ss,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Drawing: ",A.drawing_no]})]}),A.rev_no&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ss,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Rev: ",A.rev_no]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wn,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.created_at).toLocaleDateString()})]}),A.lead_time&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wn,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[A.lead_time," days"]})]})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>p(A),className:"p-1 text-blue-600 hover:text-blue-700 transition-colors",title:"Edit Part",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R(A.id,A.part_description),className:"p-1 text-red-600 hover:text-red-700 transition-colors",title:"Delete Part",children:s.jsx(Ht,{className:"h-4 w-4"})})]})})]})]})},A.id))}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ss,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No parts found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||i!=="all"?"Try adjusting your search terms":"Get started by adding a new part"})]}),j&&v&&s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:N,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl leading-6 font-medium text-gray-900",children:"Part Details"}),s.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ht,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part Description"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:v.part_description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.drawing_no})]}),v.rev_no&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Revision Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.rev_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.customer.name})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(v.created_at).toLocaleDateString()})]})]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Technical Specifications"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[v.net_wt&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Kh,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Net Weight"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.net_wt})]})]}),v.thickness&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Thickness"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.thickness})]}),v.raw_material&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Raw Material"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.raw_material})]}),v.tool_information&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Tool Information"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.tool_information})]}),v.drawing_location&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing Location"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.drawing_location})]}),v.operation_sequence&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Operation Sequence"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.operation_sequence})]}),v.lead_time&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Lead Time"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[v.lead_time," days"]})]})]})]})}),(v.po_no||v.po_date||v.po_qty||v.po_received)&&s.jsx("div",{className:"space-y-4 lg:col-span-2",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Purchase Order Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.po_no&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.po_no})]}),v.po_date&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(v.po_date).toLocaleDateString()})]}),v.po_qty&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.po_qty})]}),v.po_drg_rev&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Drawing Revision"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.po_drg_rev})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Received"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.po_received?"Yes":"No"})]}),v.reqd_date_as_per_po&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Required Date as per PO"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(v.reqd_date_as_per_po).toLocaleDateString()})]})]}),v.acknowledgement_remarks&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Acknowledgement Remarks"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.acknowledgement_remarks})]})]})]})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:N,children:"Close"})})]})]})}),s.jsx(i0,{isOpen:S,onClose:()=>h(!1),onSuccess:C}),d&&s.jsx(c0,{isOpen:d,onClose:w,onSuccess:E,part:v})]})},u0=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=b.useState({customer_id:0,part_id:0,po_no:"",po_date:"",po_received:!1,po_qty:0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",dispatch_details_inv_date:"",dispatch_details_inv_no:"",dispatch_details_inv_qlt:0,balance_qty:0,balance_as_per_hitachi:0,price:"",fg_stock:0,wip_stock:0,comp_name:""}),[l,o]=b.useState([]),[c,i]=b.useState([]),[u,g]=b.useState([]),[f,v]=b.useState(!1),[x,j]=b.useState({});b.useEffect(()=>{e&&k()},[e]);const k=async()=>{try{const[m,y,_]=await Promise.all([wt.getAllCustomers(),Gs.getAllParts(),it.getAllCompanies()]);m.success&&(Array.isArray(m.data)?o(m.data):m.data&&Array.isArray(m.data.data)&&o(m.data.data)),y.success&&Array.isArray(y.data)&&i(y.data),_.success&&(Array.isArray(_.data)?g(_.data):_.data&&Array.isArray(_.data.data)&&g(_.data.data))}catch(m){console.error("Error fetching data:",m)}},S=m=>{const{name:y,value:_,type:N}=m.target;if(N==="checkbox"){const C=m.target.checked;a(p=>({...p,[y]:C}))}else if(N==="number"){const C=_===""?void 0:Number(_);a(p=>({...p,[y]:C}))}else a(C=>({...C,[y]:_}))},h=()=>{var y,_;const m={};return n.customer_id||(m.customer_id="Customer is required"),n.part_id||(m.part_id="Part is required"),(y=n.po_no)!=null&&y.trim()||(m.po_no="PO number is required"),(!n.po_qty||n.po_qty<=0)&&(m.po_qty="PO quantity must be greater than 0"),(!n.price||parseFloat(n.price)<=0)&&(m.price="Price must be greater than 0"),(_=n.comp_name)!=null&&_.trim()||(m.comp_name="Company name is required"),j(m),Object.keys(m).length===0},d=async m=>{if(m.preventDefault(),!!h()){v(!0);try{const y=await Bo.createOrder(n);y.success?(r(),t(),a({customer_id:0,part_id:0,po_no:"",po_date:"",po_received:!1,po_qty:0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",dispatch_details_inv_date:"",dispatch_details_inv_no:"",dispatch_details_inv_qlt:0,balance_qty:0,balance_as_per_hitachi:0,price:"",fg_stock:0,wip_stock:0,comp_name:""})):alert("Failed to create order: "+(y.message||"Unknown error"))}catch(y){console.error("Error creating order:",y),alert("Failed to create order. Please try again.")}finally{v(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:d,className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Order"}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:t,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:n.customer_id||"",onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a customer"}),l.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]}),x.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:n.part_id||"",onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a part"}),c.map(m=>s.jsx("option",{value:m.id,children:m.part_description},m.id))]}),x.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:m=>a(y=>({...y,comp_name:m.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),u.map(m=>s.jsx("option",{value:m.comp_name,children:m.comp_name},m.id))]}),x.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number *"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:n.po_no,onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"}),x.po_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.po_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",value:n.po_qty||"",onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",min:"1"}),x.po_qty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.po_qty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),s.jsx("input",{type:"number",id:"price",name:"price",value:n.price,onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter unit price",step:"0.01",min:"0"}),x.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.price})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"balance_qty",className:"block text-sm font-medium text-gray-700",children:"Balance Quantity"}),s.jsx("input",{type:"number",id:"balance_qty",name:"balance_qty",value:n.balance_qty||"",onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter balance quantity",min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:n.po_drg_rev,onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:n.reqd_date_as_per_po,onChange:S,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:n.acknowledgement_remarks,onChange:S,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:n.po_received,onChange:S,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-700",children:"PO Received"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:f,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:f?"Creating...":"Create Order"})]})]})})]})}):null},m0=({isOpen:e,onClose:t,onSuccess:r,order:n})=>{const[a,l]=b.useState({}),[o,c]=b.useState([]),[i,u]=b.useState([]),[g,f]=b.useState([]),[v,x]=b.useState(!1),[j,k]=b.useState({});b.useEffect(()=>{e&&S()},[e]),b.useEffect(()=>{var y,_,N,C,p,w,E,R,A,T,F,te;if(n){const D={customer_id:(y=n.originalOrder)==null?void 0:y.customer_id,part_id:(_=n.originalOrder)==null?void 0:_.part_id,po_no:((N=n.originalOrder)==null?void 0:N.po_no)||"",po_date:(C=n.originalOrder)!=null&&C.po_date?n.originalOrder.po_date.split("T")[0]:"",po_received:((p=n.originalOrder)==null?void 0:p.po_received)||!1,po_qty:(w=n.originalOrder)==null?void 0:w.po_qty,po_drg_rev:((E=n.originalOrder)==null?void 0:E.po_drg_rev)||"",acknowledgement_remarks:((R=n.originalOrder)==null?void 0:R.acknowledgement_remarks)||"",reqd_date_as_per_po:(A=n.originalOrder)!=null&&A.reqd_date_as_per_po?n.originalOrder.reqd_date_as_per_po.split("T")[0]:"",price:((T=n.originalOrder)==null?void 0:T.price)||"",balance_qty:(F=n.originalOrder)==null?void 0:F.balance_qty,comp_name:((te=n.originalOrder)==null?void 0:te.comp_name)||""};console.log("Setting initial form data:",D),l(D)}},[n,e]),b.useEffect(()=>{console.log("Form data changed:",a)},[a]);const S=async()=>{try{const[y,_,N]=await Promise.all([wt.getAllCustomers(),Gs.getAllParts(),it.getAllCompanies()]);y.success&&(Array.isArray(y.data)?c(y.data):y.data&&Array.isArray(y.data.data)&&c(y.data.data)),_.success&&Array.isArray(_.data)&&u(_.data),N.success&&(Array.isArray(N.data)?f(N.data):N.data&&Array.isArray(N.data.data)&&f(N.data.data))}catch(y){console.error("Error fetching data:",y)}},h=y=>{console.log("=== INPUT CHANGE DETECTED ===");const{name:_,value:N,type:C}=y.target;if(console.log("Input changed:",{name:_,value:N,type:C}),C==="checkbox"){const p=y.target.checked;console.log("Checkbox changed:",{name:_,checked:p}),l(w=>{console.log("Previous form data:",w);const E={...w,[_]:p};return console.log("New form data:",E),E})}else if(C==="number"){const p=N===""?void 0:Number(N);console.log("Number changed:",{name:_,numValue:p}),l(w=>{console.log("Previous form data:",w);const E={...w,[_]:p};return console.log("New form data:",E),E})}else console.log("Text changed:",{name:_,value:N}),l(p=>{console.log("Previous form data:",p);const w={...p,[_]:N};return console.log("New form data:",w),w})},d=()=>{var _,N;const y={};return a.customer_id||(y.customer_id="Customer is required"),a.part_id||(y.part_id="Part is required"),(_=a.po_no)!=null&&_.trim()||(y.po_no="PO number is required"),(!a.po_qty||a.po_qty<=0)&&(y.po_qty="PO quantity must be greater than 0"),(!a.price||parseFloat(a.price)<=0)&&(y.price="Price must be greater than 0"),(N=a.comp_name)!=null&&N.trim()||(y.comp_name="Company name is required"),k(y),Object.keys(y).length===0},m=async y=>{if(y.preventDefault(),!!d()){await new Promise(_=>setTimeout(_,0)),x(!0);try{const _={...a};console.log("Submitting edit with current data:",_);const N=await Bo.updateOrder(n.id,_);console.log("Edit response:",N),N.success?(console.log("Edit successful, calling onSuccess"),alert("Order updated successfully"),r(),t()):alert("Failed to update order: "+(N.message||"Unknown error"))}catch(_){console.error("Error updating order:",_),alert("Failed to update order. Please try again.")}finally{x(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:m,className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Edit Order - ",n.orderNumber]}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:t,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:a.customer_id||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a customer"}),o.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]}),j.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:a.part_id||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a part"}),i.map(y=>s.jsx("option",{value:y.id,children:y.part_description},y.id))]}),j.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.part_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number *"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:a.po_no,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"}),j.po_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.po_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:a.po_date,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity *"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:a.po_qty||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",min:"1"}),j.po_qty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.po_qty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),s.jsx("input",{type:"number",id:"price",name:"price",value:a.price,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter unit price",step:"0.01",min:"0"}),j.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.price})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_name",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"comp_name",name:"comp_name",value:a.comp_name||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),g.map(y=>s.jsx("option",{value:y.comp_name,children:y.comp_name},y.id))]}),j.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"balance_qty",className:"block text-sm font-medium text-gray-700",children:"Balance Quantity"}),s.jsx("input",{type:"number",id:"balance_qty",name:"balance_qty",value:a.balance_qty||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter balance quantity",min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:a.po_drg_rev,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:a.reqd_date_as_per_po,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:a.acknowledgement_remarks,onChange:h,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:a.po_received,onChange:h,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-700",children:"PO Received"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:v?"Updating...":"Update Order"})]})]})})]})}):null},p0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState("all"),[i,u]=b.useState("all"),[g,f]=b.useState(""),[v,x]=b.useState([]),[j,k]=b.useState(!0),[S,h]=b.useState(null),[d,m]=b.useState(!1),[y,_]=b.useState(!1),[N,C]=b.useState(!1),p=async()=>{k(!0);try{const D=await K.getOrders();if(console.log("Orders API Response:",D),D.success){let H=[];if(Array.isArray(D.data)?H=D.data:D.data&&Array.isArray(D.data.data)&&(H=D.data.data),console.log("Orders Data after fetch:",H),console.log("Orders Data length:",H.length),H.length>0){const O=H.map(P=>{var q,G,Le,M;return console.log("Processing order:",P),{id:P.id.toString(),orderNumber:P.po_no,company:((q=P.customer)==null?void 0:q.name)||"Unknown Customer",status:P.po_received?"completed":"pending",total:parseFloat(P.price)*P.po_qty,createdDate:((G=P.created_at)==null?void 0:G.split("T")[0])||"",poQty:P.po_qty,balanceQty:P.balance_qty,price:P.price,fgStock:P.fg_stock,wipStock:P.wip_stock,partDescription:((Le=P.part)==null?void 0:Le.part_description)||"Unknown Part",drawingNo:((M=P.part)==null?void 0:M.drawing_no)||"",reqdDate:P.reqd_date_as_per_po?P.reqd_date_as_per_po.split("T")[0]:"",dispatchDate:P.dispatch_details_inv_date?P.dispatch_details_inv_date.split("T")[0]:"",invNo:P.dispatch_details_inv_no||"",originalOrder:P}});console.log("Mapped Orders:",O),t(O),n(O);const z=Array.from(new Set(H.filter(P=>{var q;return(q=P.customer)==null?void 0:q.name}).map(P=>P.customer.name)));x(z)}else console.log("No orders found, setting empty arrays"),t([]),n([]),x([])}else console.log("Invalid response structure:",D),t([]),n([]),x([])}catch(D){console.error("Error fetching orders:",D),t([]),n([]),x([])}finally{k(!1)}};b.useEffect(()=>{p()},[]),b.useEffect(()=>{let D=e;a&&(D=D.filter(H=>H.orderNumber.toLowerCase().includes(a.toLowerCase())||H.company.toLowerCase().includes(a.toLowerCase())||H.status.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(D=D.filter(H=>H.company===o)),i!=="all"&&(D=D.filter(H=>H.status===i)),g&&(D=D.filter(H=>H.createdDate===g)),n(D)},[e,a,o,i,g]);const w=D=>{const H=e.find(O=>O.id===D);H&&(h(H),m(!0))},E=()=>{_(!0)},R=D=>{h(D),C(!0)},A=async(D,H)=>{if(window.confirm(`Are you sure you want to delete order "${H}"? This action cannot be undone.`))try{const O=await K.deleteOrder(parseInt(D));O.success?(alert("Order deleted successfully"),await p()):alert("Failed to delete order: "+(O.message||"Unknown error"))}catch(O){console.error("Error deleting order:",O),alert("Failed to delete order. Please try again.")}},T=()=>{m(!1),_(!1),C(!1),h(null)},F=()=>{p(),_(!1)},te=()=>{console.log("handleEditSuccess called"),console.log("Immediately calling fetchOrders"),p(),C(!1),h(null)};return j?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Orders"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View all orders across all companies in the system"})]}),s.jsxs("button",{onClick:E,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Order"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search orders...",value:a,onChange:D=>l(D.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:D=>c(D.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"},"all"),v.map(D=>s.jsx("option",{value:D,children:D},D))]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:D=>u(D.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"},"all"),s.jsx("option",{value:"pending",children:"Pending"},"pending"),s.jsx("option",{value:"processing",children:"Processing"},"processing"),s.jsx("option",{value:"completed",children:"Completed"},"completed"),s.jsx("option",{value:"cancelled",children:"Cancelled"},"cancelled")]})}),s.jsx("div",{children:s.jsx("input",{type:"date",value:g,onChange:D=>f(D.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drawing No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Qty"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance Qty"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"FG Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WIP Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dispatch Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.orderNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.company}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:D.partDescription}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.drawingNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.poQty}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.balanceQty}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",parseFloat(D.price).toFixed(2)]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",D.total.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.fgStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.wipStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.reqdDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.dispatchDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.invNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.status==="completed"?"bg-green-100 text-green-800":D.status==="processing"?"bg-yellow-100 text-yellow-800":D.status==="pending"?"bg-blue-200 text-blue-900":"bg-red-100 text-red-800"}`,children:D.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>R(D),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Order",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(D.id,D.orderNumber),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Order",children:s.jsx(Ht,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>w(D.id),className:"text-blue-900 hover:text-blue-800 p-1",title:"View Order",children:s.jsx(qr,{className:"h-4 w-4"})})]})})]},D.id))})]})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No orders found matching your criteria."})})]}),d&&S&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:T,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Order Details"}),s.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.orderNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.company})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part Description"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:S.partDescription})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing No"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.drawingNo})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.poQty})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Balance Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.balanceQty})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Unit Price"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",parseFloat(S.price).toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",S.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.status==="completed"?"bg-green-100 text-green-800":S.status==="processing"?"bg-yellow-100 text-yellow-800":S.status==="pending"?"bg-blue-200 text-blue-900":"bg-red-100 text-red-800"}`,children:S.status})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"FG Stock"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.fgStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"WIP Stock"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.wipStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(S.createdDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Required Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.reqdDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Dispatch Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:S.dispatchDate}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["",Math.floor(S.total*.9).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tax (10%)"}),s.jsxs("span",{children:["",Math.floor(S.total*.1).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",S.total.toLocaleString()]})]})]})]})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:T,children:"Close"})})]})]})}),y&&s.jsx(u0,{isOpen:y,onClose:()=>_(!1),onSuccess:F}),N&&S&&s.jsx(m0,{isOpen:N,onClose:()=>{C(!1),h(null)},onSuccess:te,order:S})]})},f0=({isOpen:e,onClose:t,onSuccess:r})=>{var C;const[n,a]=b.useState({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),[l,o]=b.useState([]),[c,i]=b.useState([]),[u,g]=b.useState([]),[f,v]=b.useState(!1),[x,j]=b.useState({});b.useEffect(()=>{if(e){const p=new Date,w=p.getFullYear(),E=String(p.getMonth()+1).padStart(2,"0"),R=String(p.getDate()).padStart(2,"0"),A=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),T=`DC-${w}${E}${R}-${A}`;a(F=>({...F,challan_no:T,challan_date:p.toISOString().split("T")[0],from:"Eskay Engichem Pvt Ltd"})),j({}),k(),S(),h()}},[e]);const k=async()=>{try{const p=await it.getAllCompanies();if(p.success){let w=[];Array.isArray(p.data)?w=p.data:p.data.data&&Array.isArray(p.data.data)&&(w=p.data.data),o(w),console.log("Companies loaded for dropdown:",w.length,w)}}catch(p){console.error("Error fetching companies:",p)}},S=async()=>{try{const p=await K.getParts();if(p.success){let w=[];Array.isArray(p.data)?w=p.data:p.data.data&&Array.isArray(p.data.data)&&(w=p.data.data),i(w),console.log("Parts loaded for dropdown:",w.length,w)}}catch(p){console.error("Error fetching parts:",p)}},h=async()=>{try{const p=await wt.getAllCustomers();if(p.success){let w=[];Array.isArray(p.data)?w=p.data:p.data.data&&Array.isArray(p.data.data)&&(w=p.data.data),g(w),console.log("Customers loaded for dropdown:",w.length,w)}}catch(p){console.error("Error fetching customers:",p)}},d=p=>{if(!p)return"";const w=new Date(p);return isNaN(w.getTime())?"":w.toISOString().split("T")[0]},m=p=>{const{name:w,value:E,type:R}=p.target;let A=E;if(w==="quantity"&&R==="number"?A=E===""?0:Number(E):w==="customer_id"&&(A=E===""?null:Number(E)),w==="to"){const T=l.find(F=>F.company_name===E||F.comp_name===E||F.name===E);a(F=>({...F,[w]:A,comp_name:(T==null?void 0:T.company_name)||(T==null?void 0:T.comp_name)||(T==null?void 0:T.name)||E}))}else a(T=>({...T,[w]:A}));x[w]&&j(T=>({...T,[w]:""}))},y=()=>{const p={};return n.challan_no.trim()||(p.challan_no="Challan number is required"),n.to.trim()||(p.to="Company/Recipient is required"),n.comp_name.trim()||(p.comp_name="Company name is required"),n.from.trim()||(p.from="From location is required"),n.part_id||(p.part_id="Part selection is required"),n.customer_id||(p.customer_id="Customer selection is required"),n.part_no.trim()||(p.part_no="Part number is required"),n.part_description.trim()||(p.part_description="Part description is required"),(!n.quantity||typeof n.quantity!="number"||n.quantity<=0)&&(p.quantity="Quantity must be greater than 0"),n.unit_rate.trim()||(p.unit_rate="Unit rate is required"),n.total.trim()||(p.total="Total is required"),j(p),Object.keys(p).length===0},_=async p=>{if(p.preventDefault(),!y())return;const w={...n,part_id:n.part_id&&n.part_id>0?n.part_id:null,customer_id:n.customer_id&&n.customer_id>0?n.customer_id:null};v(!0);try{console.log("Submitting delivery challan data:",w);const E=await K.createDeliveryChallan(w);console.log("Create delivery challan response:",E),r(),t()}catch(E){console.error("Error creating delivery challan:",E)}finally{v(!1)}},N=()=>{a({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),j({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:N,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create New Delivery Challan"}),s.jsx("button",{type:"button",onClick:N,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:f,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_no",className:"block text-sm font-medium text-gray-700",children:"Challan Number *"}),s.jsx("input",{type:"text",id:"challan_no",name:"challan_no",value:n.challan_no,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.challan_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter challan number",disabled:f}),x.challan_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.challan_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700",children:"Company/Recipient *"}),s.jsxs("select",{id:"to",name:"to",value:n.to,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.to?"border-red-300":"border-gray-300"}`,disabled:f,children:[s.jsx("option",{value:"",children:"Select company"}),l.map(p=>s.jsx("option",{value:p.company_name||p.comp_name||p.name,children:p.company_name||p.comp_name||p.name},p.id))]}),x.to&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.to})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:n.part_id||"",onChange:p=>{const w=p.target.value?Number(p.target.value):null,E=c.find(R=>R.id===w);a(R=>({...R,part_id:w,part_no:(E==null?void 0:E.part_no)||"",part_description:(E==null?void 0:E.part_description)||"",hsn_code:(E==null?void 0:E.hsn_code)||""}))},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_id?"border-red-300":"border-gray-300"}`,disabled:f,children:[s.jsx("option",{value:"",children:"Select part"}),c.map(p=>s.jsxs("option",{value:p.id,children:[p.part_no," - ",p.part_description]},p.id))]}),x.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_no",className:"block text-sm font-medium text-gray-700",children:"Part Number *"}),s.jsx("input",{type:"text",id:"part_no",name:"part_no",value:n.part_no,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter part number",disabled:f}),x.part_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_no})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700",children:"From *"}),s.jsx("input",{type:"text",id:"from",name:"from",value:n.from,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.from?"border-red-300":"border-gray-300"}`,placeholder:"Enter from location",disabled:f}),x.from&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.from})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:n.part_description,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:f}),x.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:((C=n.customer_id)==null?void 0:C.toString())||"",onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.customer_id?"border-red-300":"border-gray-300"}`,disabled:f,children:[s.jsx("option",{value:"",children:"Select customer"}),u.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]}),x.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hsn_code",className:"block text-sm font-medium text-gray-700",children:"HSN Code"}),s.jsx("input",{type:"text",id:"hsn_code",name:"hsn_code",value:n.hsn_code,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter HSN code",disabled:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",value:n.quantity,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Enter quantity",min:"1",disabled:f}),x.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit_rate",className:"block text-sm font-medium text-gray-700",children:"Unit Rate *"}),s.jsx("input",{type:"text",id:"unit_rate",name:"unit_rate",value:n.unit_rate,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.unit_rate?"border-red-300":"border-gray-300"}`,placeholder:"Enter unit rate",disabled:f}),x.unit_rate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.unit_rate})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700",children:"Total Amount *"}),s.jsx("input",{type:"text",id:"total",name:"total",value:n.total,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.total?"border-red-300":"border-gray-300"}`,placeholder:"Enter total amount",disabled:f}),x.total&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.total})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_date",className:"block text-sm font-medium text-gray-700",children:"Challan Date"}),s.jsx("input",{type:"date",id:"challan_date",name:"challan_date",value:d(n.challan_date),onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:f})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signature",className:"block text-sm font-medium text-gray-700",children:"Authorized Signature"}),s.jsx("input",{type:"text",id:"signature",name:"signature",value:n.signature||"",onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter authorized signature",disabled:f})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",value:n.notes||"",onChange:m,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter any additional notes",disabled:f})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Delivery Instructions"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Ensure all items are properly packed"}),s.jsx("li",{children:" Verify order quantities before dispatch"}),s.jsx("li",{children:" Get signature from recipient upon delivery"}),s.jsx("li",{children:' Update status to "delivered" after completion'})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:f,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating...":"Create Challan"}),s.jsx("button",{type:"button",onClick:N,disabled:f,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})}):null},h0=({isOpen:e,onClose:t,onSuccess:r,challan:n})=>{var p;const a=w=>{if(!w)return"";const E=new Date(w);return isNaN(E.getTime())?"":E.toISOString().split("T")[0]},[l,o]=b.useState({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null,status:"pending"}),[c,i]=b.useState([]),[u,g]=b.useState([]),[f,v]=b.useState([]),[x,j]=b.useState(!1),[k,S]=b.useState({});b.useEffect(()=>{var w,E;n&&e&&(console.log("Prefilling form with challan data:",n),o({challan_no:n.challan_no||n.challanNumber||"",comp_name:n.comp_name||n.company||n.company||"",customer_id:n.customer_id||((w=n.customer)==null?void 0:w.id)||null,challan_date:n.challan_date||n.createdDate||"",to:n.to||n.comp_name||n.company||"",from:n.from||"",part_id:n.part_id||((E=n.part)==null?void 0:E.id)||null,part_no:n.part_no||n.orderId||"",part_description:n.partDescription||"",hsn_code:n.hsn_code||n.hsnCode||"",quantity:n.quantity||1,unit_rate:n.unit_rate||n.unitRate||"0.00",total:n.total||"0.00",notes:n.notes||null,signature:n.signature||null,status:n.status||"pending"}),S({}),h(),d(),m())},[n,e]);const h=async()=>{try{const w=await wt.getAllCustomers();if(w.success){let E=[];Array.isArray(w.data)?E=w.data:w.data.data&&Array.isArray(w.data.data)&&(E=w.data.data),i(E),console.log("Companies loaded for dropdown:",E.length,E)}}catch(w){console.error("Error fetching companies:",w)}},d=async()=>{try{const w=await Gs.getAllParts();if(w.success&&w.data){const E=Array.isArray(w.data)?w.data:[];g(E),console.log("Parts loaded for dropdown:",E.length,E)}}catch(w){console.error("Error fetching parts:",w)}},m=async()=>{try{const w=await wt.getAllCustomers();if(w.success){let E=[];Array.isArray(w.data)?E=w.data:w.data.data&&Array.isArray(w.data.data)&&(E=w.data.data),v(E),console.log("Customers loaded for dropdown:",E.length,E)}}catch(w){console.error("Error fetching customers:",w)}},y=w=>{const{name:E,value:R}=w.target;o(A=>({...A,[E]:R})),k[E]&&S(A=>({...A,[E]:void 0}))},_=()=>{var E,R,A,T,F,te,D,H,O,z,P,q,G;const w={};return(E=l.challan_no)!=null&&E.trim()||(w.challan_no="Challan number is required"),(R=l.comp_name)!=null&&R.trim()||(w.comp_name="Company is required"),l.customer_id||(w.customer_id="Customer is required"),(A=l.challan_date)!=null&&A.trim()||(w.challan_date="Delivery date is required"),(T=l.to)!=null&&T.trim()||(w.to="To field is required"),(F=l.from)!=null&&F.trim()||(w.from="From field is required"),l.part_id||(w.part_id="Part is required"),(te=l.part_no)!=null&&te.trim()||(w.part_no="Part number is required"),(D=l.part_description)!=null&&D.trim()||(w.part_description="Part description is required"),(H=l.hsn_code)!=null&&H.trim()||(w.hsn_code="HSN code is required"),(!l.quantity||l.quantity<=0)&&(w.quantity="Quantity must be greater than 0"),(O=l.unit_rate)!=null&&O.trim()||(w.unit_rate="Unit rate is required"),(z=l.total)!=null&&z.trim()||(w.total="Total is required"),(P=l.challan_date)!=null&&P.trim()||(w.challan_date="Challan date is required"),(q=l.signature)!=null&&q.trim()||(w.signature="Signature is required"),(G=l.notes)!=null&&G.trim()||(w.notes="Notes are required"),l.status||(w.status="Status is required"),S(w),Object.keys(w).length===0},N=async w=>{if(w.preventDefault(),console.log("Form data being submitted:",l),console.log("Challan ID:",n==null?void 0:n.id,"Type:",typeof(n==null?void 0:n.id)),!_()||!n)return;const E={...l,part_id:l.part_id&&l.part_id>0?l.part_id:null,customer_id:l.customer_id&&l.customer_id>0?l.customer_id:null};console.log("Processed submit data:",E),j(!0);try{const R=parseInt((n==null?void 0:n.id)||"0");console.log("Parsed challan ID:",R);const A=await K.updateDeliveryChallan(R,E);console.log("Raw API Response:",A),console.log("Response type:",typeof A),console.log("Response success:",A==null?void 0:A.success),console.log("Response data:",A==null?void 0:A.data),console.log("Response message:",A==null?void 0:A.message);const T=!!(A!=null&&A.success),F=(A==null?void 0:A.message)||"Update completed";console.log("Is success:",T),console.log("Final message:",F),T?(console.log("Update successful, calling onSuccess and closing modal"),r(),C()):(console.error("API Error Response:",A),alert(`Failed to update delivery challan: ${F}`))}catch(R){console.error("Error updating delivery challan:",R),alert("Failed to update delivery challan: "+R.message)}finally{j(!1)}},C=()=>{o({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),S({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:C,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Delivery Challan"}),s.jsx("button",{type:"button",onClick:C,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:x,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_no",className:"block text-sm font-medium text-gray-700",children:"Challan Number *"}),s.jsx("input",{type:"text",id:"challan_no",name:"challan_no",value:l.challan_no,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.challan_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter challan number",disabled:x}),k.challan_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.challan_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700",children:"Company/Recipient *"}),s.jsxs("select",{id:"to",name:"to",value:l.to,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.to?"border-red-300":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:"Select company"}),c.map(w=>s.jsx("option",{value:w.company_name||w.comp_name||w.name,children:w.company_name||w.comp_name||w.name},w.id))]}),k.to&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.to})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:l.part_id||"",onChange:w=>{const E=w.target.value?Number(w.target.value):null,R=u.find(A=>A.id===E);o(A=>({...A,part_id:E,part_no:(R==null?void 0:R.part_no)||"",part_description:(R==null?void 0:R.part_description)||"",hsn_code:(R==null?void 0:R.hsn_code)||""}))},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.part_id?"border-red-300":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:"Select part"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.part_no," - ",w.part_description]},w.id))]}),k.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_no",className:"block text-sm font-medium text-gray-700",children:"Part Number *"}),s.jsx("input",{type:"text",id:"part_no",name:"part_no",value:l.part_no,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.part_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter part number",disabled:x}),k.part_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.part_no})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700",children:"From *"}),s.jsx("input",{type:"text",id:"from",name:"from",value:l.from,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.from?"border-red-300":"border-gray-300"}`,placeholder:"Enter from location",disabled:x}),k.from&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.from})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:l.part_description,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:x}),k.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:((p=l.customer_id)==null?void 0:p.toString())||"",onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.customer_id?"border-red-300":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:"Select customer"}),f.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]}),k.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hsn_code",className:"block text-sm font-medium text-gray-700",children:"HSN Code *"}),s.jsx("input",{type:"text",id:"hsn_code",name:"hsn_code",value:l.hsn_code,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter HSN code",disabled:x})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",value:l.quantity,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Enter quantity",min:"1",disabled:x}),k.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit_rate",className:"block text-sm font-medium text-gray-700",children:"Unit Rate *"}),s.jsx("input",{type:"text",id:"unit_rate",name:"unit_rate",value:l.unit_rate,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.unit_rate?"border-red-300":"border-gray-300"}`,placeholder:"Enter unit rate",disabled:x}),k.unit_rate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.unit_rate})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700",children:"Total Amount *"}),s.jsx("input",{type:"text",id:"total",name:"total",value:l.total,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.total?"border-red-300":"border-gray-300"}`,placeholder:"Enter total amount",disabled:x}),k.total&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.total})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status *"}),s.jsxs("select",{id:"status",name:"status",value:l.status,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.status?"border-red-300":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:"Select status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),k.status&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.status})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_date",className:"block text-sm font-medium text-gray-700",children:"Challan Date"}),s.jsx("input",{type:"date",id:"challan_date",name:"challan_date",value:a(l.challan_date),onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:x})]})})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:x,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Updating...":"Update Challan"}),s.jsx("button",{type:"button",onClick:C,disabled:x,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},uc={checkApiConnection:async()=>{try{return(await fetch(`${{}.VITE_API_BASE_URL||"http://192.168.1.22:8000/api"}/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)})).ok}catch(e){return console.warn("API server not reachable:",e),!1}},testEndpoint:async e=>{try{return{success:!0,data:await I.get(e)}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}},getApiInfo:()=>({baseUrl:{}.VITE_API_BASE_URL||"http://192.168.1.22:8000/api",useMockApi:{}.VITE_USE_MOCK_API==="true",isProduction:!0})},x0=()=>{const[e,t]=b.useState("checking"),[r,n]=b.useState(null);b.useEffect(()=>{(async()=>{t("checking");const i=uc.getApiInfo();if(n(i),i.useMockApi){t("disconnected");return}const u=await uc.checkApiConnection();t(u?"connected":"disconnected")})()},[]);const a=()=>{switch(e){case"checking":return s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-900"});case"connected":return s.jsx(Vt,{className:"h-4 w-4 text-green-600"});case"disconnected":return s.jsx(fa,{className:"h-4 w-4 text-red-600"})}},l=()=>{switch(e){case"checking":return"Checking API...";case"connected":return"API Connected";case"disconnected":return r!=null&&r.useMockApi?"Using Mock API":"API Disconnected"}},o=()=>{switch(e){case"checking":return"bg-blue-100 text-blue-800";case"connected":return"bg-green-100 text-green-800";case"disconnected":return r!=null&&r.useMockApi?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}};return s.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${o()}`,children:[a(),s.jsx("span",{className:"ml-2",children:l()})]})},g0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState("all"),[i,u]=b.useState("all"),[g,f]=b.useState([]),[v,x]=b.useState(!0),[j,k]=b.useState(null),[S,h]=b.useState(!1),[d,m]=b.useState(!1),[y,_]=b.useState(!1),[N,C]=b.useState(1),[p,w]=b.useState(1),[E,R]=b.useState(0),[A]=b.useState(10),T=async(M=1)=>{x(!0);try{const B=await K.getDeliveryChallans(M);if(console.log("Delivery Challans API Response:",B),B.success&&B.data){let Z=[];if(Array.isArray(B.data)?Z=B.data.map(U=>{var Ce;return{id:U.id.toString(),challanNumber:U.challan_no,company:U.comp_name||U.to||"",orderId:U.part_no,status:U.status||"pending",createdDate:U.created_at,deliveryDate:U.challan_date,driverName:U.signature||"",driverContactNumber:"",notes:U.notes||"",customerName:((Ce=U.customer)==null?void 0:Ce.name)||"",partDescription:U.part_description||"",quantity:U.quantity||0,unitRate:U.unit_rate||"0.00",total:U.total||"0.00"}}):B.data.data&&Array.isArray(B.data.data)&&(Z=B.data.data.map(U=>{var Ce;return{id:U.id.toString(),challanNumber:U.challan_no,company:U.comp_name||U.to||"",orderId:U.part_no,status:U.status||"pending",createdDate:U.created_at,deliveryDate:U.challan_date,driverName:U.signature||"",driverContactNumber:"",notes:U.notes||"",customerName:((Ce=U.customer)==null?void 0:Ce.name)||"",partDescription:U.part_description||"",quantity:U.quantity||0,unitRate:U.unit_rate||"0.00",total:U.total||"0.00"}})),t(Z),Z.sort((U,Ce)=>{const _t=new Date(U.createdDate);return new Date(Ce.createdDate).getTime()-_t.getTime()}),n(Z),B.pagination)C(B.pagination.current_page),w(B.pagination.last_page),R(B.pagination.total);else{const U=Z.length,Ce=Math.ceil(U/A);C(M),w(Ce),R(U)}const Re=Array.from(new Set(Z.filter(U=>U&&U.company).map(U=>U.company)));f(Re)}else t([]),n([]),f([]),C(1),w(1),R(0)}catch(B){console.error("Error fetching delivery challans:",B),t([]),n([]),f([]),C(1),w(1),R(0)}finally{x(!1)}};b.useEffect(()=>{T()},[]);const F=()=>{if(E>0&&p>1)return r;const M=(N-1)*A,B=M+A;return r.slice(M,B)},te=M=>{M>=1&&M<=p&&(C(M),T(M))};b.useEffect(()=>{let M=e;a&&(M=M.filter(B=>B.challanNumber.toLowerCase().includes(a.toLowerCase())||B.orderId.toLowerCase().includes(a.toLowerCase())||B.company.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(M=M.filter(B=>B.company===o)),i!=="all"&&(M=M.filter(B=>B.status===i)),M.sort((B,Z)=>{const Re=new Date(B.createdDate);return new Date(Z.createdDate).getTime()-Re.getTime()}),n(M),C(1)},[e,a,o,i]);const D=M=>{const B=e.find(Z=>Z.id===M);B&&(k(B),h(!0))},H=()=>{h(!1),k(null)},O=()=>{T()},z=M=>{k(M),_(!0)},P=()=>{_(!1),k(null)},q=()=>{T()},G=async(M,B)=>{if(window.confirm(`Are you sure you want to delete delivery challan "${B}"? This action cannot be undone.`))try{const Z=await K.deleteDeliveryChallan(parseInt(M));Z.success?(alert("Delivery challan deleted successfully"),T()):alert("Failed to delete delivery challan: "+(Z.message||"Unknown error"))}catch(Z){console.error("Error deleting delivery challan:",Z),alert("Failed to delete delivery challan. Please try again.")}},Le=M=>{switch(M){case"delivered":return s.jsx(Vt,{className:"w-4 h-4 text-green-600"});case"in_transit":return s.jsx(Wh,{className:"w-4 h-4 text-blue-900"});case"pending":return s.jsx(Mh,{className:"w-4 h-4 text-yellow-600"});case"cancelled":return s.jsx(Fu,{className:"w-4 h-4 text-red-600"});default:return null}};return v?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Delivery Challans"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View all delivery challans across all companies in the system"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(x0,{}),s.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Delivery Challan"]})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search challans...",value:a,onChange:M=>l(M.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:M=>c(M.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"}),g.map(M=>s.jsx("option",{value:M,children:M},M))]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:M=>u(M.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F().filter(M=>M).map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.challanNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.company}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.orderId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.status==="delivered"?"bg-green-100 text-green-800":M.status==="in_transit"?"bg-blue-200 text-blue-900":M.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Le(M.status),s.jsx("span",{className:"ml-1",children:M.status?M.status.replace("_"," "):"Unknown"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.createdDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.deliveryDate?new Date(M.deliveryDate).toLocaleDateString():"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>D(M.id),className:"text-blue-900 hover:text-blue-800 p-1 mr-1",title:"View Challan",children:s.jsx(qr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>z(M),className:"text-blue-600 hover:text-blue-700 p-1 mr-1",title:"Edit Challan",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>G(M.id,M.challanNumber),className:"text-red-600 hover:text-red-700 p-1",title:"Delete Challan",children:s.jsx(Ht,{className:"h-4 w-4"})})]})]},M.id))})]})}),p>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>te(N-1),disabled:N===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>te(N+1),disabled:N===p,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(N-1)*A+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(N*A,r.length)})," ","of ",s.jsx("span",{className:"font-medium",children:r.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>te(N-1),disabled:N===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:p},(M,B)=>B+1).map(M=>s.jsx("button",{onClick:()=>te(M),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${N===M?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:M},M)),s.jsxs("button",{onClick:()=>te(N+1),disabled:N===p,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]}),F().length===0&&r.length>0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No delivery challans found on this page."})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No delivery challans found matching your criteria."})})]}),S&&j&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:H,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delivery Challan Details"}),s.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Challan Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:j.challanNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Order ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:j.orderId})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Company"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:j.company})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.status==="delivered"?"bg-green-100 text-green-800":j.status==="in_transit"?"bg-blue-200 text-blue-900":j.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Le(j.status),s.jsx("span",{className:"ml-1",children:j.status.replace("_"," ")})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(j.createdDate).toLocaleDateString()})]})]}),j.deliveryDate&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Delivery Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(j.deliveryDate).toLocaleDateString()})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Additional Information"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Tracking:"})," Available in system"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Documents:"})," Invoice attached"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priority:"})," Normal"]})]})]})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:H,children:"Close"})})]})]})}),s.jsx(f0,{isOpen:d,onClose:()=>m(!1),onSuccess:O}),y&&s.jsx(h0,{isOpen:y,onClose:P,onSuccess:q,challan:j})]})},y0=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),[a,l]=b.useState("30d");if(b.useEffect(()=>{(async()=>{try{await new Promise(u=>setTimeout(u,1e3)),t({totalRevenue:285e3,totalOrders:1250,totalCompanies:45,totalChallans:320,monthlyRevenue:[{month:"Jan",amount:45e3},{month:"Feb",amount:52e3},{month:"Mar",amount:48e3},{month:"Apr",amount:61e3},{month:"May",amount:55e3},{month:"Jun",amount:69e3}],companyPerformance:[{company:"TechCorp Solutions",orders:45,revenue:65e3},{company:"GlobalTech Inc.",orders:38,revenue:52e3},{company:"DataFlow Systems",orders:32,revenue:48e3},{company:"InnovateLabs",orders:28,revenue:42e3},{company:"CloudSync Ltd.",orders:25,revenue:38e3}]})}catch(i){console.error("Error fetching report data:",i)}finally{n(!1)}})()},[a]),r)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})});if(!e)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Unable to load report data."})});const o=Math.max(...e.monthlyRevenue.map(c=>c.amount));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"System analytics and performance metrics"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:a,onChange:c=>l(c.target.value),className:"block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"}),s.jsx("option",{value:"1y",children:"Last year"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-green-100 rounded-md",children:s.jsx(Ul,{className:"h-6 w-6 text-green-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),s.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["",e.totalRevenue.toLocaleString()]})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-blue-200 rounded-md",children:s.jsx(xr,{className:"h-6 w-6 text-blue-900"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalOrders.toLocaleString()})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-purple-100 rounded-md",children:s.jsx(xt,{className:"h-6 w-6 text-purple-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Companies"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalCompanies})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-orange-100 rounded-md",children:s.jsx(ht,{className:"h-6 w-6 text-orange-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Delivery Challans"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalChallans})]})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Revenue"}),s.jsx("div",{className:"space-y-3",children:e.monthlyRevenue.map(c=>{const i=c.amount/o*100;return s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 text-sm font-medium text-gray-500",children:c.month}),s.jsx("div",{className:"flex-1 mx-4",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:s.jsx("div",{className:"bg-blue-900 h-4 rounded-full transition-all duration-300",style:{width:`${i}%`}})})}),s.jsxs("div",{className:"w-20 text-sm font-medium text-gray-900 text-right",children:["",c.amount.toLocaleString()]})]},c.month)})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Companies"}),s.jsx("div",{className:"space-y-4",children:e.companyPerformance.map((c,i)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["#",i+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.company}),s.jsxs("p",{className:"text-xs text-gray-500",children:[c.orders," orders"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",c.revenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500",children:"revenue"})]})]},c.company))})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(e.totalOrders/e.totalCompanies*10)/10}),s.jsx("div",{className:"text-sm text-gray-500",children:"Avg Orders per Company"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["",Math.round(e.totalRevenue/e.totalOrders)]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Avg Order Value"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(e.totalChallans/e.totalOrders*100),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Delivery Rate"})]})]})]})]})},v0=()=>{const[e,t]=b.useState("roles"),[r,n]=b.useState(!1),a=[{id:"1",name:"Super Admin",description:"Full system access",permissions:["all"],userCount:1},{id:"2",name:"Company Admin",description:"Manage company operations",permissions:["manage_company","view_reports","manage_users"],userCount:45},{id:"3",name:"Viewer",description:"Read-only access",permissions:["view"],userCount:23}],l=[{id:"1",user:"Super Admin",action:"Login",resource:"System",timestamp:"2024-01-28T10:30:00Z",ipAddress:"192.168.1.100",status:"success"},{id:"2",user:"john@techcorp.com",action:"Create Company",resource:"Companies",timestamp:"2024-01-27T14:15:00Z",ipAddress:"10.0.0.50",status:"success"},{id:"3",user:"admin@globaltech.com",action:"Failed Login",resource:"Authentication",timestamp:"2024-01-26T09:45:00Z",ipAddress:"203.0.113.1",status:"failed"}],o=[{id:"manage_company",label:"Manage Company",description:"Create, edit, and delete companies"},{id:"manage_users",label:"Manage Users",description:"Add, edit, and remove users"},{id:"view_reports",label:"View Reports",description:"Access system reports and analytics"},{id:"manage_orders",label:"Manage Orders",description:"Process and manage orders"},{id:"manage_challans",label:"Manage Delivery Challans",description:"Handle delivery documentation"},{id:"system_settings",label:"System Settings",description:"Modify system configuration"}],c=[{id:"roles",label:"Roles",icon:xt},{id:"permissions",label:"Permissions",icon:Qn},{id:"audit-logs",label:"Audit Logs",icon:ht},{id:"security",label:"Security",icon:zl}],i=()=>{n(!0)},u=f=>{console.log("Edit role:",f)},g=f=>{console.log("Delete role:",f)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage system roles, permissions, and security settings"})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:c.map(f=>{const v=f.icon;return s.jsxs("button",{onClick:()=>t(f.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${e===f.id?"border-blue-900 text-blue-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(v,{className:"h-4 w-4 mr-2"}),f.label]},f.id)})})}),s.jsxs("div",{className:"p-6",children:[e==="roles"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"User Roles"}),s.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800",children:[s.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Add Role"]})]}),s.jsx("div",{className:"space-y-4",children:a.map(f=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[f.userCount," users assigned"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[f.permissions.length," permissions"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>u(f.id),className:"p-2 text-gray-400 hover:text-blue-900",title:"Edit Role",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(f.id),className:"p-2 text-gray-400 hover:text-red-600",title:"Delete Role",disabled:f.name==="Super Admin",children:s.jsx(Ht,{className:"h-4 w-4"})})]})]})},f.id))})]}),e==="permissions"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"System Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(f=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Qn,{className:"h-5 w-5 text-blue-900"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f.label}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description})]})]})},f.id))})]}),e==="audit-logs"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Audit Logs"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(f=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.user}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.action}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.resource}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.timestamp).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.ipAddress}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[f.status==="success"?s.jsx(Vt,{className:"w-4 h-4 mr-1"}):s.jsx(fa,{className:"w-4 h-4 mr-1"}),f.status]})})]},f.id))})]})})]}),e==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Rh,{className:"h-5 w-5 text-yellow-400"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Password Policy"}),s.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:"Enforce strong passwords with minimum 8 characters, uppercase, lowercase, and numbers."})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Security Options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Require 2FA for all admin accounts"})]}),s.jsx("button",{className:"bg-blue-900 text-white px-3 py-1 rounded text-sm",children:"Enable"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Session Timeout"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Auto-logout after 30 minutes of inactivity"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"30 minutes"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Login Attempts"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Maximum failed login attempts before lockout"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"5 attempts"})]})]})]})]})]})]})]})]})},b0=()=>{const{logout:e}=pa(),t=ms(),r=async()=>{await e(),t("/login")},n=[{path:"/dashboard",label:"Dashboard",icon:qh},{path:"/companies",label:"Companies",icon:$l},{path:"/admins",label:"Company Admins",icon:xt},{path:"/customers",label:"Customers",icon:Uo},{path:"/parts",label:"Parts",icon:Ss},{path:"/orders",label:"Orders",icon:xr},{path:"/delivery-challans",label:"Delivery Challans",icon:ht},{path:"/reports",label:"Reports",icon:Ml},{path:"/settings",label:"Settings",icon:Mu}];return s.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-gradient-to-r from-blue-900 to-blue-800",children:s.jsx("h1",{className:"text-lg font-semibold text-white",children:"Super Admin"})}),s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:n.map(a=>{const l=a.icon;return s.jsxs(jh,{to:a.path,className:({isActive:o})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 ${o?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx(l,{className:"mr-3 h-5 w-5"}),a.label]},a.path)})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:r,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150",children:[s.jsx(Uh,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})})},w0=()=>{var t;const{user:e}=pa();return s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-[100] w-full lg:ml-64 lg:w-[calc(100%-16rem)]",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"CRM Super Admin Panel"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search...",className:"block w-48 lg:w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("button",{className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx(Ih,{className:"h-6 w-6"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:(t=e==null?void 0:e.name)==null?void 0:t.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"Super Admin"})]})]})]})]})})})},j0=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(b0,{}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx(w0,{}),s.jsx("main",{className:"py-8 pt-20 max-w-full overflow-hidden",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 max-w-full",children:s.jsx("div",{className:"max-w-full overflow-hidden",children:s.jsx(ih,{})})})})]})]}),N0=({children:e})=>{const{isAuthenticated:t,isLoading:r}=pa(),n=Kt();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(oh,{to:"/login",state:{from:n},replace:!0})},_0=({message:e,type:t,onClose:r})=>{const[n,a]=b.useState(!0);b.useEffect(()=>{const i=setTimeout(()=>{a(!1),setTimeout(r,300)},3e3);return()=>clearTimeout(i)},[r]);const l=()=>{switch(t){case"success":return s.jsx(Vt,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(Fu,{className:"w-5 h-5 text-red-500"});case"info":return s.jsx(ic,{className:"w-5 h-5 text-blue-500"});default:return s.jsx(ic,{className:"w-5 h-5 text-blue-500"})}},o=()=>{switch(t){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-blue-50 border-blue-200"}},c=()=>{switch(t){case"success":return"text-green-800";case"error":return"text-red-800";case"info":return"text-blue-800";default:return"text-blue-800"}};return s.jsx("div",{className:`
        fixed bottom-4 right-4 z-50 max-w-sm w-full
        transform transition-all duration-300 ease-in-out
        ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:s.jsxs("div",{className:`
        flex items-center p-4 rounded-lg border shadow-lg
        ${o()}
      `,children:[s.jsx("div",{className:"flex-shrink-0 mr-3",children:l()}),s.jsx("div",{className:`flex-1 text-sm font-medium ${c()}`,children:e}),s.jsx("button",{onClick:()=>{a(!1),setTimeout(r,300)},className:`flex-shrink-0 ml-4 p-1 rounded-full hover:bg-gray-100 ${c()}`,children:s.jsx(ke,{className:"w-4 h-4"})})]})})},k0=()=>{const{toasts:e,removeToast:t}=Ou();return s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(r=>s.jsx(_0,{message:r.message,type:r.type,onClose:()=>t(r.id)},r.id))})};function C0(){return s.jsx(Ah,{children:s.jsxs(Ph,{children:[s.jsx(yh,{children:s.jsxs(dh,{children:[s.jsx(Se,{path:"/login",element:s.jsx(Jh,{})}),s.jsxs(Se,{path:"/",element:s.jsx(N0,{children:s.jsx(j0,{})}),children:[s.jsx(Se,{index:!0,element:s.jsx(dc,{})}),s.jsx(Se,{path:"dashboard",element:s.jsx(dc,{})}),s.jsx(Se,{path:"companies",element:s.jsx(Yh,{})}),s.jsx(Se,{path:"companies/:id",element:s.jsx(t0,{})}),s.jsx(Se,{path:"admins",element:s.jsx(n0,{})}),s.jsx(Se,{path:"customers",element:s.jsx(o0,{})}),s.jsx(Se,{path:"parts",element:s.jsx(d0,{})}),s.jsx(Se,{path:"orders",element:s.jsx(p0,{})}),s.jsx(Se,{path:"delivery-challans",element:s.jsx(g0,{})}),s.jsx(Se,{path:"reports",element:s.jsx(y0,{})}),s.jsx(Se,{path:"settings",element:s.jsx(v0,{})})]})]})}),s.jsx(k0,{})]})})}Ua.createRoot(document.getElementById("root")).render(s.jsx(Ql.StrictMode,{children:s.jsx(C0,{})}));
