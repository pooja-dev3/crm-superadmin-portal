function qu(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pc={exports:{}},Kn={},fc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir=Symbol.for("react.element"),Bu=Symbol.for("react.portal"),Vu=Symbol.for("react.fragment"),Hu=Symbol.for("react.strict_mode"),Wu=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Gu=Symbol.for("react.context"),Ku=Symbol.for("react.forward_ref"),Zu=Symbol.for("react.suspense"),Ju=Symbol.for("react.memo"),Xu=Symbol.for("react.lazy"),Ho=Symbol.iterator;function Yu(e){return e===null||typeof e!="object"?null:(e=Ho&&e[Ho]||e["@@iterator"],typeof e=="function"?e:null)}var hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xc=Object.assign,gc={};function Bs(e,t,r){this.props=e,this.context=t,this.refs=gc,this.updater=r||hc}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yc(){}yc.prototype=Bs.prototype;function Vl(e,t,r){this.props=e,this.context=t,this.refs=gc,this.updater=r||hc}var Hl=Vl.prototype=new yc;Hl.constructor=Vl;xc(Hl,Bs.prototype);Hl.isPureReactComponent=!0;var Wo=Array.isArray,vc=Object.prototype.hasOwnProperty,Wl={current:null},bc={key:!0,ref:!0,__self:!0,__source:!0};function wc(e,t,r){var n,a={},l=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)vc.call(t,n)&&!bc.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var i=Array(c),u=0;u<c;u++)i[u]=arguments[u+2];a.children=i}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:Ir,type:e,key:l,ref:o,props:a,_owner:Wl.current}}function em(e,t){return{$$typeof:Ir,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ql(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ir}function tm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qo=/\/+/g;function xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tm(""+e.key):t.toString(36)}function ln(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ir:case Bu:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+xa(o,0):n,Wo(a)?(r="",e!=null&&(r=e.replace(Qo,"$&/")+"/"),ln(a,t,r,"",function(u){return u})):a!=null&&(Ql(a)&&(a=em(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Qo,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Wo(e))for(var c=0;c<e.length;c++){l=e[c];var i=n+xa(l,c);o+=ln(l,t,r,i,a)}else if(i=Yu(e),typeof i=="function")for(e=i.call(e),c=0;!(l=e.next()).done;)l=l.value,i=n+xa(l,c++),o+=ln(l,t,r,i,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Br(e,t,r){if(e==null)return e;var n=[],a=0;return ln(e,n,"","",function(l){return t.call(r,l,a++)}),n}function sm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},on={transition:null},rm={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:on,ReactCurrentOwner:Wl};function jc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Br,forEach:function(e,t,r){Br(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Br(e,function(){t++}),t},toArray:function(e){return Br(e,function(t){return t})||[]},only:function(e){if(!Ql(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Bs;W.Fragment=Vu;W.Profiler=Wu;W.PureComponent=Vl;W.StrictMode=Hu;W.Suspense=Zu;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm;W.act=jc;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xc({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Wl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)vc.call(t,i)&&!bc.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){c=Array(i);for(var u=0;u<i;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Ir,type:e.type,key:a,ref:l,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:Gu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qu,_context:e},e.Consumer=e};W.createElement=wc;W.createFactory=function(e){var t=wc.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Ku,render:e}};W.isValidElement=Ql;W.lazy=function(e){return{$$typeof:Xu,_payload:{_status:-1,_result:e},_init:sm}};W.memo=function(e,t){return{$$typeof:Ju,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=on.transition;on.transition={};try{e()}finally{on.transition=t}};W.unstable_act=jc;W.useCallback=function(e,t){return Ne.current.useCallback(e,t)};W.useContext=function(e){return Ne.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ne.current.useEffect(e,t)};W.useId=function(){return Ne.current.useId()};W.useImperativeHandle=function(e,t,r){return Ne.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ne.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ne.current.useReducer(e,t,r)};W.useRef=function(e){return Ne.current.useRef(e)};W.useState=function(e){return Ne.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ne.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ne.current.useTransition()};W.version="18.3.1";fc.exports=W;var b=fc.exports;const Gl=Uu(b),nm=qu({__proto__:null,default:Gl},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=b,lm=Symbol.for("react.element"),om=Symbol.for("react.fragment"),im=Object.prototype.hasOwnProperty,cm=am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dm={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,r){var n,a={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)im.call(t,n)&&!dm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:lm,type:e,key:l,ref:o,props:a,_owner:cm.current}}Kn.Fragment=om;Kn.jsx=Nc;Kn.jsxs=Nc;pc.exports=Kn;var s=pc.exports,Ba={},_c={exports:{}},ze={},kc={exports:{}},Cc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,z){var P=F.length;F.push(z);e:for(;0<P;){var q=P-1>>>1,G=F[q];if(0<a(G,z))F[q]=z,F[P]=G,P=q;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var z=F[0],P=F.pop();if(P!==z){F[0]=P;e:for(var q=0,G=F.length,Le=G>>>1;q<Le;){var M=2*(q+1)-1,V=F[M],K=M+1,Re=F[K];if(0>a(V,P))K<G&&0>a(Re,V)?(F[q]=Re,F[K]=P,q=K):(F[q]=V,F[M]=P,q=M);else if(K<G&&0>a(Re,P))F[q]=Re,F[K]=P,q=K;else break e}}return z}function a(F,z){var P=F.sortIndex-z.sortIndex;return P!==0?P:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var i=[],u=[],g=1,f=null,v=3,x=!1,j=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(F){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=F)n(u),z.sortIndex=z.expirationTime,t(i,z);else break;z=r(u)}}function y(F){if(k=!1,m(F),!j)if(r(i)!==null)j=!0,T(_);else{var z=r(u);z!==null&&H(y,z.startTime-F)}}function _(F,z){j=!1,k&&(k=!1,h(p),p=-1),x=!0;var P=v;try{for(m(z),f=r(i);f!==null&&(!(f.expirationTime>z)||F&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,v=f.priorityLevel;var G=q(f.expirationTime<=z);z=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(i)&&n(i),m(z)}else n(i);f=r(i)}if(f!==null)var Le=!0;else{var M=r(u);M!==null&&H(y,M.startTime-z),Le=!1}return Le}finally{f=null,v=P,x=!1}}var N=!1,C=null,p=-1,w=5,S=-1;function O(){return!(e.unstable_now()-S<w)}function D(){if(C!==null){var F=e.unstable_now();S=F;var z=!0;try{z=C(!0,F)}finally{z?L():(N=!1,C=null)}}else N=!1}var L;if(typeof d=="function")L=function(){d(D)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,X=A.port2;A.port1.onmessage=D,L=function(){X.postMessage(null)}}else L=function(){E(D,0)};function T(F){C=F,N||(N=!0,L())}function H(F,z){p=E(function(){F(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){j||x||(j=!0,T(_))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var P=v;v=z;try{return F()}finally{v=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var P=v;v=F;try{return z()}finally{v=P}},e.unstable_scheduleCallback=function(F,z,P){var q=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?q+P:q):P=q,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,F={id:g++,callback:z,priorityLevel:F,startTime:P,expirationTime:G,sortIndex:-1},P>q?(F.sortIndex=P,t(u,F),r(i)===null&&F===r(u)&&(k?(h(p),p=-1):k=!0,H(y,P-q))):(F.sortIndex=G,t(i,F),j||x||(j=!0,T(_))),F},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(F){var z=v;return function(){var P=v;v=z;try{return F.apply(this,arguments)}finally{v=P}}}})(Cc);kc.exports=Cc;var um=kc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=b,$e=um;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sc=new Set,yr={};function ds(e,t){Os(e,t),Os(e+"Capture",t)}function Os(e,t){for(yr[e]=t,e=0;e<t.length;e++)Sc.add(t[e])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=Object.prototype.hasOwnProperty,pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Go={},Ko={};function fm(e){return Va.call(Ko,e)?!0:Va.call(Go,e)?!1:pm.test(e)?Ko[e]=!0:(Go[e]=!0,!1)}function hm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xm(e,t,r,n){if(t===null||typeof t>"u"||hm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,r,n,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kl=/[\-:]([a-z])/g;function Zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kl,Zl);xe[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kl,Zl);xe[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kl,Zl);xe[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jl(e,t,r,n){var a=xe.hasOwnProperty(t)?xe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xm(t,r,a,n)&&(r=null),n||a===null?fm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jt=mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vr=Symbol.for("react.element"),xs=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),Xl=Symbol.for("react.strict_mode"),Ha=Symbol.for("react.profiler"),Ec=Symbol.for("react.provider"),Pc=Symbol.for("react.context"),Yl=Symbol.for("react.forward_ref"),Wa=Symbol.for("react.suspense"),Qa=Symbol.for("react.suspense_list"),eo=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ac=Symbol.for("react.offscreen"),Zo=Symbol.iterator;function Zs(e){return e===null||typeof e!="object"?null:(e=Zo&&e[Zo]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,ga;function nr(e){if(ga===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var ya=!1;function va(e,t){if(!e||ya)return"";ya=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=n.stack.split(`
`),o=a.length-1,c=l.length-1;1<=o&&0<=c&&a[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==l[c]){var i=`
`+a[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=o&&0<=c);break}}}finally{ya=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nr(e):""}function gm(e){switch(e.tag){case 5:return nr(e.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 2:case 15:return e=va(e.type,!1),e;case 11:return e=va(e.type.render,!1),e;case 1:return e=va(e.type,!0),e;default:return""}}function Ga(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case xs:return"Portal";case Ha:return"Profiler";case Xl:return"StrictMode";case Wa:return"Suspense";case Qa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pc:return(e.displayName||"Context")+".Consumer";case Ec:return(e._context.displayName||"Context")+".Provider";case Yl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eo:return t=e.displayName||null,t!==null?t:Ga(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return Ga(e(t))}catch{}}return null}function ym(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ga(t);case 8:return t===Xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vm(e){var t=Dc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hr(e){e._valueTracker||(e._valueTracker=vm(e))}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Dc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ka(e,t){var r=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lc(e,t){t=t.checked,t!=null&&Jl(e,"checked",t,!1)}function Za(e,t){Lc(e,t);var r=qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ja(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ja(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ja(e,t,r){(t!=="number"||vn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ar=Array.isArray;function Ps(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yo(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(ar(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qt(r)}}function Rc(e,t){var r=qt(t.value),n=qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ei(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wr,Fc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bm=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(e){bm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ir[t]=ir[e]})});function Ic(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ir.hasOwnProperty(e)&&ir[e]?(""+t).trim():t+"px"}function Mc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Ic(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var wm=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(e,t){if(t){if(wm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function tl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function to(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,As=null,Ds=null;function ti(e){if(e=zr(e)){if(typeof rl!="function")throw Error(R(280));var t=e.stateNode;t&&(t=ea(t),rl(e.stateNode,e.type,t))}}function $c(e){As?Ds?Ds.push(e):Ds=[e]:As=e}function zc(){if(As){var e=As,t=Ds;if(Ds=As=null,ti(e),t)for(e=0;e<t.length;e++)ti(t[e])}}function qc(e,t){return e(t)}function Uc(){}var ba=!1;function Bc(e,t,r){if(ba)return e(t,r);ba=!0;try{return qc(e,t,r)}finally{ba=!1,(As!==null||Ds!==null)&&(Uc(),zc())}}function br(e,t){var r=e.stateNode;if(r===null)return null;var n=ea(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var nl=!1;if(gt)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{nl=!1}function jm(e,t,r,n,a,l,o,c,i){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(g){this.onError(g)}}var cr=!1,bn=null,wn=!1,al=null,Nm={onError:function(e){cr=!0,bn=e}};function _m(e,t,r,n,a,l,o,c,i){cr=!1,bn=null,jm.apply(Nm,arguments)}function km(e,t,r,n,a,l,o,c,i){if(_m.apply(this,arguments),cr){if(cr){var u=bn;cr=!1,bn=null}else throw Error(R(198));wn||(wn=!0,al=u)}}function us(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function si(e){if(us(e)!==e)throw Error(R(188))}function Cm(e){var t=e.alternate;if(!t){if(t=us(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return si(a),e;if(l===n)return si(a),t;l=l.sibling}throw Error(R(188))}if(r.return!==n.return)r=a,n=l;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=l;break}if(c===n){o=!0,n=a,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,n=a;break}if(c===n){o=!0,n=l,r=a;break}c=c.sibling}if(!o)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function Hc(e){return e=Cm(e),e!==null?Wc(e):null}function Wc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wc(e);if(t!==null)return t;e=e.sibling}return null}var Qc=$e.unstable_scheduleCallback,ri=$e.unstable_cancelCallback,Sm=$e.unstable_shouldYield,Em=$e.unstable_requestPaint,ie=$e.unstable_now,Pm=$e.unstable_getCurrentPriorityLevel,so=$e.unstable_ImmediatePriority,Gc=$e.unstable_UserBlockingPriority,jn=$e.unstable_NormalPriority,Am=$e.unstable_LowPriority,Kc=$e.unstable_IdlePriority,Zn=null,at=null;function Dm(e){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Zn,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Rm,Tm=Math.log,Lm=Math.LN2;function Rm(e){return e>>>=0,e===0?32:31-(Tm(e)/Lm|0)|0}var Qr=64,Gr=4194304;function lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nn(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?n=lr(c):(l&=o,l!==0&&(n=lr(l)))}else o=r&~a,o!==0?n=lr(o):l!==0&&(n=lr(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ye(t),a=1<<r,n|=e[r],t&=~a;return n}function Om(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ye(l),c=1<<o,i=a[o];i===-1?(!(c&r)||c&n)&&(a[o]=Om(c,t)):i<=t&&(e.expiredLanes|=c),l&=~c}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zc(){var e=Qr;return Qr<<=1,!(Qr&4194240)&&(Qr=64),e}function wa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=r}function Im(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ye(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function ro(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ye(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var J=0;function Jc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xc,no,Yc,ed,td,ol=!1,Kr=[],Tt=null,Lt=null,Rt=null,wr=new Map,jr=new Map,St=[],Mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ni(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":wr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function Xs(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=zr(t),t!==null&&no(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function $m(e,t,r,n,a){switch(t){case"focusin":return Tt=Xs(Tt,e,t,r,n,a),!0;case"dragenter":return Lt=Xs(Lt,e,t,r,n,a),!0;case"mouseover":return Rt=Xs(Rt,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return wr.set(l,Xs(wr.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,jr.set(l,Xs(jr.get(l)||null,e,t,r,n,a)),!0}return!1}function sd(e){var t=es(e.target);if(t!==null){var r=us(t);if(r!==null){if(t=r.tag,t===13){if(t=Vc(r),t!==null){e.blockedOn=t,td(e.priority,function(){Yc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sl=n,r.target.dispatchEvent(n),sl=null}else return t=zr(r),t!==null&&no(t),e.blockedOn=r,!1;t.shift()}return!0}function ai(e,t,r){cn(e)&&r.delete(t)}function zm(){ol=!1,Tt!==null&&cn(Tt)&&(Tt=null),Lt!==null&&cn(Lt)&&(Lt=null),Rt!==null&&cn(Rt)&&(Rt=null),wr.forEach(ai),jr.forEach(ai)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,zm)))}function Nr(e){function t(a){return Ys(a,e)}if(0<Kr.length){Ys(Kr[0],e);for(var r=1;r<Kr.length;r++){var n=Kr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Tt!==null&&Ys(Tt,e),Lt!==null&&Ys(Lt,e),Rt!==null&&Ys(Rt,e),wr.forEach(t),jr.forEach(t),r=0;r<St.length;r++)n=St[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<St.length&&(r=St[0],r.blockedOn===null);)sd(r),r.blockedOn===null&&St.shift()}var Ts=jt.ReactCurrentBatchConfig,_n=!0;function qm(e,t,r,n){var a=J,l=Ts.transition;Ts.transition=null;try{J=1,ao(e,t,r,n)}finally{J=a,Ts.transition=l}}function Um(e,t,r,n){var a=J,l=Ts.transition;Ts.transition=null;try{J=4,ao(e,t,r,n)}finally{J=a,Ts.transition=l}}function ao(e,t,r,n){if(_n){var a=il(e,t,r,n);if(a===null)Da(e,t,n,kn,r),ni(e,n);else if($m(a,e,t,r,n))n.stopPropagation();else if(ni(e,n),t&4&&-1<Mm.indexOf(e)){for(;a!==null;){var l=zr(a);if(l!==null&&Xc(l),l=il(e,t,r,n),l===null&&Da(e,t,n,kn,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Da(e,t,n,null,r)}}var kn=null;function il(e,t,r,n){if(kn=null,e=to(n),e=es(e),e!==null)if(t=us(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kn=e,null}function rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pm()){case so:return 1;case Gc:return 4;case jn:case Am:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var Pt=null,lo=null,dn=null;function nd(){if(dn)return dn;var e,t=lo,r=t.length,n,a="value"in Pt?Pt.value:Pt.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[l-n];n++);return dn=a.slice(e,1<n?1-n:void 0)}function un(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function li(){return!1}function qe(e){function t(r,n,a,l,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Zr:li,this.isPropagationStopped=li,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=qe(Vs),$r=le({},Vs,{view:0,detail:0}),Bm=qe($r),ja,Na,er,Jn=le({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(ja=e.screenX-er.screenX,Na=e.screenY-er.screenY):Na=ja=0,er=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),oi=qe(Jn),Vm=le({},Jn,{dataTransfer:0}),Hm=qe(Vm),Wm=le({},$r,{relatedTarget:0}),_a=qe(Wm),Qm=le({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Gm=qe(Qm),Km=le({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zm=qe(Km),Jm=le({},Vs,{data:0}),ii=qe(Jm),Xm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ep[e])?!!t[e]:!1}function io(){return tp}var sp=le({},$r,{key:function(e){if(e.key){var t=Xm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=un(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?un(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?un(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rp=qe(sp),np=le({},Jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ci=qe(np),ap=le({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),lp=qe(ap),op=le({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ip=qe(op),cp=le({},Jn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dp=qe(cp),up=[9,13,27,32],co=gt&&"CompositionEvent"in window,dr=null;gt&&"documentMode"in document&&(dr=document.documentMode);var mp=gt&&"TextEvent"in window&&!dr,ad=gt&&(!co||dr&&8<dr&&11>=dr),di=String.fromCharCode(32),ui=!1;function ld(e,t){switch(e){case"keyup":return up.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function pp(e,t){switch(e){case"compositionend":return od(t);case"keypress":return t.which!==32?null:(ui=!0,di);case"textInput":return e=t.data,e===di&&ui?null:e;default:return null}}function fp(e,t){if(ys)return e==="compositionend"||!co&&ld(e,t)?(e=nd(),dn=lo=Pt=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ad&&t.locale!=="ko"?null:t.data;default:return null}}var hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hp[e.type]:t==="textarea"}function id(e,t,r,n){$c(n),t=Cn(t,"onChange"),0<t.length&&(r=new oo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ur=null,_r=null;function xp(e){vd(e,0)}function Xn(e){var t=ws(e);if(Tc(t))return e}function gp(e,t){if(e==="change")return t}var cd=!1;if(gt){var ka;if(gt){var Ca="oninput"in document;if(!Ca){var pi=document.createElement("div");pi.setAttribute("oninput","return;"),Ca=typeof pi.oninput=="function"}ka=Ca}else ka=!1;cd=ka&&(!document.documentMode||9<document.documentMode)}function fi(){ur&&(ur.detachEvent("onpropertychange",dd),_r=ur=null)}function dd(e){if(e.propertyName==="value"&&Xn(_r)){var t=[];id(t,_r,e,to(e)),Bc(xp,t)}}function yp(e,t,r){e==="focusin"?(fi(),ur=t,_r=r,ur.attachEvent("onpropertychange",dd)):e==="focusout"&&fi()}function vp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xn(_r)}function bp(e,t){if(e==="click")return Xn(t)}function wp(e,t){if(e==="input"||e==="change")return Xn(t)}function jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:jp;function kr(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Va.call(t,a)||!tt(e[a],t[a]))return!1}return!0}function hi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xi(e,t){var r=hi(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hi(r)}}function ud(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ud(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function md(){for(var e=window,t=vn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vn(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Np(e){var t=md(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ud(r.ownerDocument.documentElement,r)){if(n!==null&&uo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=xi(r,l);var o=xi(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _p=gt&&"documentMode"in document&&11>=document.documentMode,vs=null,cl=null,mr=null,dl=!1;function gi(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dl||vs==null||vs!==vn(n)||(n=vs,"selectionStart"in n&&uo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mr&&kr(mr,n)||(mr=n,n=Cn(cl,"onSelect"),0<n.length&&(t=new oo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vs)))}function Jr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bs={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionend:Jr("Transition","TransitionEnd")},Sa={},pd={};gt&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Yn(e){if(Sa[e])return Sa[e];if(!bs[e])return e;var t=bs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pd)return Sa[e]=t[r];return e}var fd=Yn("animationend"),hd=Yn("animationiteration"),xd=Yn("animationstart"),gd=Yn("transitionend"),yd=new Map,yi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(e,t){yd.set(e,t),ds(t,[e])}for(var Ea=0;Ea<yi.length;Ea++){var Pa=yi[Ea],kp=Pa.toLowerCase(),Cp=Pa[0].toUpperCase()+Pa.slice(1);Ht(kp,"on"+Cp)}Ht(fd,"onAnimationEnd");Ht(hd,"onAnimationIteration");Ht(xd,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(gd,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(or));function vi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,km(n,t,void 0,e),e.currentTarget=null}function vd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],i=c.instance,u=c.currentTarget;if(c=c.listener,i!==l&&a.isPropagationStopped())break e;vi(a,c,u),l=i}else for(o=0;o<n.length;o++){if(c=n[o],i=c.instance,u=c.currentTarget,c=c.listener,i!==l&&a.isPropagationStopped())break e;vi(a,c,u),l=i}}}if(wn)throw e=al,wn=!1,al=null,e}function ee(e,t){var r=t[hl];r===void 0&&(r=t[hl]=new Set);var n=e+"__bubble";r.has(n)||(bd(t,e,2,!1),r.add(n))}function Aa(e,t,r){var n=0;t&&(n|=4),bd(r,e,n,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){if(!e[Xr]){e[Xr]=!0,Sc.forEach(function(r){r!=="selectionchange"&&(Sp.has(r)||Aa(r,!1,e),Aa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xr]||(t[Xr]=!0,Aa("selectionchange",!1,t))}}function bd(e,t,r,n){switch(rd(t)){case 1:var a=qm;break;case 4:a=Um;break;default:a=ao}r=a.bind(null,t,r,e),a=void 0,!nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Da(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===a||i.nodeType===8&&i.parentNode===a))return;o=o.return}for(;c!==null;){if(o=es(c),o===null)return;if(i=o.tag,i===5||i===6){n=l=o;continue e}c=c.parentNode}}n=n.return}Bc(function(){var u=l,g=to(r),f=[];e:{var v=yd.get(e);if(v!==void 0){var x=oo,j=e;switch(e){case"keypress":if(un(r)===0)break e;case"keydown":case"keyup":x=rp;break;case"focusin":j="focus",x=_a;break;case"focusout":j="blur",x=_a;break;case"beforeblur":case"afterblur":x=_a;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=lp;break;case fd:case hd:case xd:x=Gm;break;case gd:x=ip;break;case"scroll":x=Bm;break;case"wheel":x=dp;break;case"copy":case"cut":case"paste":x=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ci}var k=(t&4)!==0,E=!k&&e==="scroll",h=k?v!==null?v+"Capture":null:v;k=[];for(var d=u,m;d!==null;){m=d;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,h!==null&&(y=br(d,h),y!=null&&k.push(Sr(d,y,m)))),E)break;d=d.return}0<k.length&&(v=new x(v,j,null,r,g),f.push({event:v,listeners:k}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&r!==sl&&(j=r.relatedTarget||r.fromElement)&&(es(j)||j[yt]))break e;if((x||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,x?(j=r.relatedTarget||r.toElement,x=u,j=j?es(j):null,j!==null&&(E=us(j),j!==E||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=u),x!==j)){if(k=oi,y="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(k=ci,y="onPointerLeave",h="onPointerEnter",d="pointer"),E=x==null?v:ws(x),m=j==null?v:ws(j),v=new k(y,d+"leave",x,r,g),v.target=E,v.relatedTarget=m,y=null,es(g)===u&&(k=new k(h,d+"enter",j,r,g),k.target=m,k.relatedTarget=E,y=k),E=y,x&&j)t:{for(k=x,h=j,d=0,m=k;m;m=hs(m))d++;for(m=0,y=h;y;y=hs(y))m++;for(;0<d-m;)k=hs(k),d--;for(;0<m-d;)h=hs(h),m--;for(;d--;){if(k===h||h!==null&&k===h.alternate)break t;k=hs(k),h=hs(h)}k=null}else k=null;x!==null&&bi(f,v,x,k,!1),j!==null&&E!==null&&bi(f,E,j,k,!0)}}e:{if(v=u?ws(u):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var _=gp;else if(mi(v))if(cd)_=wp;else{_=vp;var N=yp}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(_=bp);if(_&&(_=_(e,u))){id(f,_,r,g);break e}N&&N(e,v,u),e==="focusout"&&(N=v._wrapperState)&&N.controlled&&v.type==="number"&&Ja(v,"number",v.value)}switch(N=u?ws(u):window,e){case"focusin":(mi(N)||N.contentEditable==="true")&&(vs=N,cl=u,mr=null);break;case"focusout":mr=cl=vs=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,gi(f,r,g);break;case"selectionchange":if(_p)break;case"keydown":case"keyup":gi(f,r,g)}var C;if(co)e:{switch(e){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else ys?ld(e,r)&&(p="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(p="onCompositionStart");p&&(ad&&r.locale!=="ko"&&(ys||p!=="onCompositionStart"?p==="onCompositionEnd"&&ys&&(C=nd()):(Pt=g,lo="value"in Pt?Pt.value:Pt.textContent,ys=!0)),N=Cn(u,p),0<N.length&&(p=new ii(p,e,null,r,g),f.push({event:p,listeners:N}),C?p.data=C:(C=od(r),C!==null&&(p.data=C)))),(C=mp?pp(e,r):fp(e,r))&&(u=Cn(u,"onBeforeInput"),0<u.length&&(g=new ii("onBeforeInput","beforeinput",null,r,g),f.push({event:g,listeners:u}),g.data=C))}vd(f,t)})}function Sr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Cn(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=br(e,r),l!=null&&n.unshift(Sr(e,l,a)),l=br(e,t),l!=null&&n.push(Sr(e,l,a))),e=e.return}return n}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bi(e,t,r,n,a){for(var l=t._reactName,o=[];r!==null&&r!==n;){var c=r,i=c.alternate,u=c.stateNode;if(i!==null&&i===n)break;c.tag===5&&u!==null&&(c=u,a?(i=br(r,l),i!=null&&o.unshift(Sr(r,i,c))):a||(i=br(r,l),i!=null&&o.push(Sr(r,i,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ep=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function wi(e){return(typeof e=="string"?e:""+e).replace(Ep,`
`).replace(Pp,"")}function Yr(e,t,r){if(t=wi(t),wi(e)!==t&&r)throw Error(R(425))}function Sn(){}var ul=null,ml=null;function pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fl=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,ji=typeof Promise=="function"?Promise:void 0,Dp=typeof queueMicrotask=="function"?queueMicrotask:typeof ji<"u"?function(e){return ji.resolve(null).then(e).catch(Tp)}:fl;function Tp(e){setTimeout(function(){throw e})}function Ta(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Nr(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Nr(t)}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ni(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),nt="__reactFiber$"+Hs,Er="__reactProps$"+Hs,yt="__reactContainer$"+Hs,hl="__reactEvents$"+Hs,Lp="__reactListeners$"+Hs,Rp="__reactHandles$"+Hs;function es(e){var t=e[nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yt]||r[nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ni(e);e!==null;){if(r=e[nt])return r;e=Ni(e)}return t}e=r,r=e.parentNode}return null}function zr(e){return e=e[nt]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function ea(e){return e[Er]||null}var xl=[],js=-1;function Wt(e){return{current:e}}function te(e){0>js||(e.current=xl[js],xl[js]=null,js--)}function Y(e,t){js++,xl[js]=e.current,e.current=t}var Ut={},be=Wt(Ut),Ae=Wt(!1),as=Ut;function Fs(e,t){var r=e.type.contextTypes;if(!r)return Ut;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function De(e){return e=e.childContextTypes,e!=null}function En(){te(Ae),te(be)}function _i(e,t,r){if(be.current!==Ut)throw Error(R(168));Y(be,t),Y(Ae,r)}function wd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(R(108,ym(e)||"Unknown",a));return le({},r,n)}function Pn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,as=be.current,Y(be,e),Y(Ae,Ae.current),!0}function ki(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=wd(e,t,as),n.__reactInternalMemoizedMergedChildContext=e,te(Ae),te(be),Y(be,e)):te(Ae),Y(Ae,r)}var ut=null,ta=!1,La=!1;function jd(e){ut===null?ut=[e]:ut.push(e)}function Op(e){ta=!0,jd(e)}function Qt(){if(!La&&ut!==null){La=!0;var e=0,t=J;try{var r=ut;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ut=null,ta=!1}catch(a){throw ut!==null&&(ut=ut.slice(e+1)),Qc(so,Qt),a}finally{J=t,La=!1}}return null}var Ns=[],_s=0,An=null,Dn=0,Be=[],Ve=0,ls=null,mt=1,pt="";function Jt(e,t){Ns[_s++]=Dn,Ns[_s++]=An,An=e,Dn=t}function Nd(e,t,r){Be[Ve++]=mt,Be[Ve++]=pt,Be[Ve++]=ls,ls=e;var n=mt;e=pt;var a=32-Ye(n)-1;n&=~(1<<a),r+=1;var l=32-Ye(t)+a;if(30<l){var o=a-a%5;l=(n&(1<<o)-1).toString(32),n>>=o,a-=o,mt=1<<32-Ye(t)+a|r<<a|n,pt=l+e}else mt=1<<l|r<<a|n,pt=e}function mo(e){e.return!==null&&(Jt(e,1),Nd(e,1,0))}function po(e){for(;e===An;)An=Ns[--_s],Ns[_s]=null,Dn=Ns[--_s],Ns[_s]=null;for(;e===ls;)ls=Be[--Ve],Be[Ve]=null,pt=Be[--Ve],Be[Ve]=null,mt=Be[--Ve],Be[Ve]=null}var Me=null,Ie=null,se=!1,Xe=null;function _d(e,t){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ci(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,Ie=Ot(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ls!==null?{id:mt,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Me=e,Ie=null,!0):!1;default:return!1}}function gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yl(e){if(se){var t=Ie;if(t){var r=t;if(!Ci(e,t)){if(gl(e))throw Error(R(418));t=Ot(r.nextSibling);var n=Me;t&&Ci(e,t)?_d(n,r):(e.flags=e.flags&-4097|2,se=!1,Me=e)}}else{if(gl(e))throw Error(R(418));e.flags=e.flags&-4097|2,se=!1,Me=e}}}function Si(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function en(e){if(e!==Me)return!1;if(!se)return Si(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pl(e.type,e.memoizedProps)),t&&(t=Ie)){if(gl(e))throw kd(),Error(R(418));for(;t;)_d(e,t),t=Ot(t.nextSibling)}if(Si(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ie=Ot(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Me?Ot(e.stateNode.nextSibling):null;return!0}function kd(){for(var e=Ie;e;)e=Ot(e.nextSibling)}function Is(){Ie=Me=null,se=!1}function fo(e){Xe===null?Xe=[e]:Xe.push(e)}var Fp=jt.ReactCurrentBatchConfig;function tr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=a.refs;o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function tn(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ei(e){var t=e._init;return t(e._payload)}function Cd(e){function t(h,d){if(e){var m=h.deletions;m===null?(h.deletions=[d],h.flags|=16):m.push(d)}}function r(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function n(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function a(h,d){return h=$t(h,d),h.index=0,h.sibling=null,h}function l(h,d,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<d?(h.flags|=2,d):m):(h.flags|=2,d)):(h.flags|=1048576,d)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function c(h,d,m,y){return d===null||d.tag!==6?(d=za(m,h.mode,y),d.return=h,d):(d=a(d,m),d.return=h,d)}function i(h,d,m,y){var _=m.type;return _===gs?g(h,d,m.props.children,y,m.key):d!==null&&(d.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===kt&&Ei(_)===d.type)?(y=a(d,m.props),y.ref=tr(h,d,m),y.return=h,y):(y=yn(m.type,m.key,m.props,null,h.mode,y),y.ref=tr(h,d,m),y.return=h,y)}function u(h,d,m,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=qa(m,h.mode,y),d.return=h,d):(d=a(d,m.children||[]),d.return=h,d)}function g(h,d,m,y,_){return d===null||d.tag!==7?(d=ns(m,h.mode,y,_),d.return=h,d):(d=a(d,m),d.return=h,d)}function f(h,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=za(""+d,h.mode,m),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Vr:return m=yn(d.type,d.key,d.props,null,h.mode,m),m.ref=tr(h,null,d),m.return=h,m;case xs:return d=qa(d,h.mode,m),d.return=h,d;case kt:var y=d._init;return f(h,y(d._payload),m)}if(ar(d)||Zs(d))return d=ns(d,h.mode,m,null),d.return=h,d;tn(h,d)}return null}function v(h,d,m,y){var _=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:c(h,d,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vr:return m.key===_?i(h,d,m,y):null;case xs:return m.key===_?u(h,d,m,y):null;case kt:return _=m._init,v(h,d,_(m._payload),y)}if(ar(m)||Zs(m))return _!==null?null:g(h,d,m,y,null);tn(h,m)}return null}function x(h,d,m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(m)||null,c(d,h,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vr:return h=h.get(y.key===null?m:y.key)||null,i(d,h,y,_);case xs:return h=h.get(y.key===null?m:y.key)||null,u(d,h,y,_);case kt:var N=y._init;return x(h,d,m,N(y._payload),_)}if(ar(y)||Zs(y))return h=h.get(m)||null,g(d,h,y,_,null);tn(d,y)}return null}function j(h,d,m,y){for(var _=null,N=null,C=d,p=d=0,w=null;C!==null&&p<m.length;p++){C.index>p?(w=C,C=null):w=C.sibling;var S=v(h,C,m[p],y);if(S===null){C===null&&(C=w);break}e&&C&&S.alternate===null&&t(h,C),d=l(S,d,p),N===null?_=S:N.sibling=S,N=S,C=w}if(p===m.length)return r(h,C),se&&Jt(h,p),_;if(C===null){for(;p<m.length;p++)C=f(h,m[p],y),C!==null&&(d=l(C,d,p),N===null?_=C:N.sibling=C,N=C);return se&&Jt(h,p),_}for(C=n(h,C);p<m.length;p++)w=x(C,h,p,m[p],y),w!==null&&(e&&w.alternate!==null&&C.delete(w.key===null?p:w.key),d=l(w,d,p),N===null?_=w:N.sibling=w,N=w);return e&&C.forEach(function(O){return t(h,O)}),se&&Jt(h,p),_}function k(h,d,m,y){var _=Zs(m);if(typeof _!="function")throw Error(R(150));if(m=_.call(m),m==null)throw Error(R(151));for(var N=_=null,C=d,p=d=0,w=null,S=m.next();C!==null&&!S.done;p++,S=m.next()){C.index>p?(w=C,C=null):w=C.sibling;var O=v(h,C,S.value,y);if(O===null){C===null&&(C=w);break}e&&C&&O.alternate===null&&t(h,C),d=l(O,d,p),N===null?_=O:N.sibling=O,N=O,C=w}if(S.done)return r(h,C),se&&Jt(h,p),_;if(C===null){for(;!S.done;p++,S=m.next())S=f(h,S.value,y),S!==null&&(d=l(S,d,p),N===null?_=S:N.sibling=S,N=S);return se&&Jt(h,p),_}for(C=n(h,C);!S.done;p++,S=m.next())S=x(C,h,p,S.value,y),S!==null&&(e&&S.alternate!==null&&C.delete(S.key===null?p:S.key),d=l(S,d,p),N===null?_=S:N.sibling=S,N=S);return e&&C.forEach(function(D){return t(h,D)}),se&&Jt(h,p),_}function E(h,d,m,y){if(typeof m=="object"&&m!==null&&m.type===gs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Vr:e:{for(var _=m.key,N=d;N!==null;){if(N.key===_){if(_=m.type,_===gs){if(N.tag===7){r(h,N.sibling),d=a(N,m.props.children),d.return=h,h=d;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===kt&&Ei(_)===N.type){r(h,N.sibling),d=a(N,m.props),d.ref=tr(h,N,m),d.return=h,h=d;break e}r(h,N);break}else t(h,N);N=N.sibling}m.type===gs?(d=ns(m.props.children,h.mode,y,m.key),d.return=h,h=d):(y=yn(m.type,m.key,m.props,null,h.mode,y),y.ref=tr(h,d,m),y.return=h,h=y)}return o(h);case xs:e:{for(N=m.key;d!==null;){if(d.key===N)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){r(h,d.sibling),d=a(d,m.children||[]),d.return=h,h=d;break e}else{r(h,d);break}else t(h,d);d=d.sibling}d=qa(m,h.mode,y),d.return=h,h=d}return o(h);case kt:return N=m._init,E(h,d,N(m._payload),y)}if(ar(m))return j(h,d,m,y);if(Zs(m))return k(h,d,m,y);tn(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(r(h,d.sibling),d=a(d,m),d.return=h,h=d):(r(h,d),d=za(m,h.mode,y),d.return=h,h=d),o(h)):r(h,d)}return E}var Ms=Cd(!0),Sd=Cd(!1),Tn=Wt(null),Ln=null,ks=null,ho=null;function xo(){ho=ks=Ln=null}function go(e){var t=Tn.current;te(Tn),e._currentValue=t}function vl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ls(e,t){Ln=e,ho=ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(ho!==e)if(e={context:e,memoizedValue:t,next:null},ks===null){if(Ln===null)throw Error(R(308));ks=e,Ln.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var ts=null;function yo(e){ts===null?ts=[e]:ts.push(e)}function Ed(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,yo(t)):(r.next=a.next,a.next=r),t.interleaved=r,vt(e,n)}function vt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ct=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vt(e,r)}return a=n.interleaved,a===null?(t.next=t,yo(n)):(t.next=a.next,a.next=t),n.interleaved=t,vt(e,r)}function mn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ro(e,r)}}function Pi(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Rn(e,t,r,n){var a=e.updateQueue;Ct=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var i=c,u=i.next;i.next=null,o===null?l=u:o.next=u,o=i;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==o&&(c===null?g.firstBaseUpdate=u:c.next=u,g.lastBaseUpdate=i))}if(l!==null){var f=a.baseState;o=0,g=u=i=null,c=l;do{var v=c.lane,x=c.eventTime;if((n&v)===v){g!==null&&(g=g.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=e,k=c;switch(v=t,x=r,k.tag){case 1:if(j=k.payload,typeof j=="function"){f=j.call(x,f,v);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=k.payload,v=typeof j=="function"?j.call(x,f,v):j,v==null)break e;f=le({},f,v);break e;case 2:Ct=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=a.effects,v===null?a.effects=[c]:v.push(c))}else x={eventTime:x,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(u=g=x,i=f):g=g.next=x,o|=v;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;v=c,c=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(1);if(g===null&&(i=f),a.baseState=i,a.firstBaseUpdate=u,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);is|=o,e.lanes=o,e.memoizedState=f}}function Ai(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(R(191,a));a.call(n)}}}var qr={},lt=Wt(qr),Pr=Wt(qr),Ar=Wt(qr);function ss(e){if(e===qr)throw Error(R(174));return e}function bo(e,t){switch(Y(Ar,t),Y(Pr,e),Y(lt,qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ya(t,e)}te(lt),Y(lt,t)}function $s(){te(lt),te(Pr),te(Ar)}function Ad(e){ss(Ar.current);var t=ss(lt.current),r=Ya(t,e.type);t!==r&&(Y(Pr,e),Y(lt,r))}function wo(e){Pr.current===e&&(te(lt),te(Pr))}var re=Wt(0);function On(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=[];function jo(){for(var e=0;e<Ra.length;e++)Ra[e]._workInProgressVersionPrimary=null;Ra.length=0}var pn=jt.ReactCurrentDispatcher,Oa=jt.ReactCurrentBatchConfig,os=0,ne=null,de=null,me=null,Fn=!1,pr=!1,Dr=0,Ip=0;function ge(){throw Error(R(321))}function No(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tt(e[r],t[r]))return!1;return!0}function _o(e,t,r,n,a,l){if(os=l,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pn.current=e===null||e.memoizedState===null?qp:Up,e=r(n,a),pr){l=0;do{if(pr=!1,Dr=0,25<=l)throw Error(R(301));l+=1,me=de=null,t.updateQueue=null,pn.current=Bp,e=r(n,a)}while(pr)}if(pn.current=In,t=de!==null&&de.next!==null,os=0,me=de=ne=null,Fn=!1,t)throw Error(R(300));return e}function ko(){var e=Dr!==0;return Dr=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=e:me=me.next=e,me}function Ge(){if(de===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=me===null?ne.memoizedState:me.next;if(t!==null)me=t,de=e;else{if(e===null)throw Error(R(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?ne.memoizedState=me=e:me=me.next=e}return me}function Tr(e,t){return typeof t=="function"?t(e):t}function Fa(e){var t=Ge(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=de,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var c=o=null,i=null,u=l;do{var g=u.lane;if((os&g)===g)i!==null&&(i=i.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};i===null?(c=i=f,o=n):i=i.next=f,ne.lanes|=g,is|=g}u=u.next}while(u!==null&&u!==l);i===null?o=n:i.next=c,tt(n,t.memoizedState)||(Pe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=i,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,ne.lanes|=l,is|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ia(e){var t=Ge(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);tt(l,t.memoizedState)||(Pe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Dd(){}function Td(e,t){var r=ne,n=Ge(),a=t(),l=!tt(n.memoizedState,a);if(l&&(n.memoizedState=a,Pe=!0),n=n.queue,Co(Od.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,Lr(9,Rd.bind(null,r,n,a,t),void 0,null),pe===null)throw Error(R(349));os&30||Ld(r,t,a)}return a}function Ld(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rd(e,t,r,n){t.value=r,t.getSnapshot=n,Fd(t)&&Id(e)}function Od(e,t,r){return r(function(){Fd(t)&&Id(e)})}function Fd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tt(e,r)}catch{return!0}}function Id(e){var t=vt(e,1);t!==null&&et(t,e,1,-1)}function Di(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:e},t.queue=e,e=e.dispatch=zp.bind(null,ne,e),[t.memoizedState,e]}function Lr(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Md(){return Ge().memoizedState}function fn(e,t,r,n){var a=rt();ne.flags|=e,a.memoizedState=Lr(1|t,r,void 0,n===void 0?null:n)}function sa(e,t,r,n){var a=Ge();n=n===void 0?null:n;var l=void 0;if(de!==null){var o=de.memoizedState;if(l=o.destroy,n!==null&&No(n,o.deps)){a.memoizedState=Lr(t,r,l,n);return}}ne.flags|=e,a.memoizedState=Lr(1|t,r,l,n)}function Ti(e,t){return fn(8390656,8,e,t)}function Co(e,t){return sa(2048,8,e,t)}function $d(e,t){return sa(4,2,e,t)}function zd(e,t){return sa(4,4,e,t)}function qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ud(e,t,r){return r=r!=null?r.concat([e]):null,sa(4,4,qd.bind(null,t,e),r)}function So(){}function Bd(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&No(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vd(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&No(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hd(e,t,r){return os&21?(tt(r,t)||(r=Zc(),ne.lanes|=r,is|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=r)}function Mp(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Oa.transition;Oa.transition={};try{e(!1),t()}finally{J=r,Oa.transition=n}}function Wd(){return Ge().memoizedState}function $p(e,t,r){var n=Mt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qd(e))Gd(t,r);else if(r=Ed(e,t,r,n),r!==null){var a=je();et(r,e,n,a),Kd(r,t,n)}}function zp(e,t,r){var n=Mt(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qd(e))Gd(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,r);if(a.hasEagerState=!0,a.eagerState=c,tt(c,o)){var i=t.interleaved;i===null?(a.next=a,yo(t)):(a.next=i.next,i.next=a),t.interleaved=a;return}}catch{}finally{}r=Ed(e,t,a,n),r!==null&&(a=je(),et(r,e,n,a),Kd(r,t,n))}}function Qd(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Gd(e,t){pr=Fn=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ro(e,r)}}var In={readContext:Qe,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},qp={readContext:Qe,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:Ti,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fn(4194308,4,qd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fn(4194308,4,e,t)},useInsertionEffect:function(e,t){return fn(4,2,e,t)},useMemo:function(e,t){var r=rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$p.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:Di,useDebugValue:So,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=Di(!1),t=e[0];return e=Mp.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,a=rt();if(se){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),pe===null)throw Error(R(349));os&30||Ld(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Ti(Od.bind(null,n,l,e),[e]),n.flags|=2048,Lr(9,Rd.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=rt(),t=pe.identifierPrefix;if(se){var r=pt,n=mt;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ip++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Up={readContext:Qe,useCallback:Bd,useContext:Qe,useEffect:Co,useImperativeHandle:Ud,useInsertionEffect:$d,useLayoutEffect:zd,useMemo:Vd,useReducer:Fa,useRef:Md,useState:function(){return Fa(Tr)},useDebugValue:So,useDeferredValue:function(e){var t=Ge();return Hd(t,de.memoizedState,e)},useTransition:function(){var e=Fa(Tr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Dd,useSyncExternalStore:Td,useId:Wd,unstable_isNewReconciler:!1},Bp={readContext:Qe,useCallback:Bd,useContext:Qe,useEffect:Co,useImperativeHandle:Ud,useInsertionEffect:$d,useLayoutEffect:zd,useMemo:Vd,useReducer:Ia,useRef:Md,useState:function(){return Ia(Tr)},useDebugValue:So,useDeferredValue:function(e){var t=Ge();return de===null?t.memoizedState=e:Hd(t,de.memoizedState,e)},useTransition:function(){var e=Ia(Tr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Dd,useSyncExternalStore:Td,useId:Wd,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ra={isMounted:function(e){return(e=e._reactInternals)?us(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=je(),a=Mt(e),l=ft(n,a);l.payload=t,r!=null&&(l.callback=r),t=Ft(e,l,a),t!==null&&(et(t,e,a,n),mn(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=je(),a=Mt(e),l=ft(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Ft(e,l,a),t!==null&&(et(t,e,a,n),mn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=je(),n=Mt(e),a=ft(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ft(e,a,n),t!==null&&(et(t,e,n,r),mn(t,e,n))}};function Li(e,t,r,n,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,o):t.prototype&&t.prototype.isPureReactComponent?!kr(r,n)||!kr(a,l):!0}function Zd(e,t,r){var n=!1,a=Ut,l=t.contextType;return typeof l=="object"&&l!==null?l=Qe(l):(a=De(t)?as:be.current,n=t.contextTypes,l=(n=n!=null)?Fs(e,a):Ut),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ri(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function wl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},vo(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Qe(l):(l=De(t)?as:be.current,a.context=Fs(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(bl(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ra.enqueueReplaceState(a,a.state,null),Rn(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function zs(e,t){try{var r="",n=t;do r+=gm(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Ma(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Vp=typeof WeakMap=="function"?WeakMap:Map;function Jd(e,t,r){r=ft(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$n||($n=!0,Tl=n),jl(e,t)},r}function Xd(e,t,r){r=ft(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){jl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){jl(e,t),typeof n!="function"&&(It===null?It=new Set([this]):It.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Oi(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Vp;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=nf.bind(null,e,t,r),t.then(e,e))}function Fi(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ii(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ft(-1,1),t.tag=2,Ft(r,t,1))),r.lanes|=1),e)}var Hp=jt.ReactCurrentOwner,Pe=!1;function we(e,t,r,n){t.child=e===null?Sd(t,null,r,n):Ms(t,e.child,r,n)}function Mi(e,t,r,n,a){r=r.render;var l=t.ref;return Ls(t,a),n=_o(e,t,r,n,l,a),r=ko(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bt(e,t,a)):(se&&r&&mo(t),t.flags|=1,we(e,t,n,a),t.child)}function $i(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!Oo(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Yd(e,t,l,n,a)):(e=yn(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:kr,r(o,n)&&e.ref===t.ref)return bt(e,t,a)}return t.flags|=1,e=$t(l,n),e.ref=t.ref,e.return=t,t.child=e}function Yd(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(kr(l,n)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,bt(e,t,a)}return Nl(e,t,r,n,a)}function eu(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Ss,Fe),Fe|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Ss,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,Y(Ss,Fe),Fe|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,Y(Ss,Fe),Fe|=n;return we(e,t,a,r),t.child}function tu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,r,n,a){var l=De(r)?as:be.current;return l=Fs(t,l),Ls(t,a),r=_o(e,t,r,n,l,a),n=ko(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bt(e,t,a)):(se&&n&&mo(t),t.flags|=1,we(e,t,r,a),t.child)}function zi(e,t,r,n,a){if(De(r)){var l=!0;Pn(t)}else l=!1;if(Ls(t,a),t.stateNode===null)hn(e,t),Zd(t,r,n),wl(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var i=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=De(r)?as:be.current,u=Fs(t,u));var g=r.getDerivedStateFromProps,f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||i!==u)&&Ri(t,o,n,u),Ct=!1;var v=t.memoizedState;o.state=v,Rn(t,n,o,a),i=t.memoizedState,c!==n||v!==i||Ae.current||Ct?(typeof g=="function"&&(bl(t,r,g,n),i=t.memoizedState),(c=Ct||Li(t,r,c,n,v,i,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),o.props=n,o.state=i,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Pd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ze(t.type,c),o.props=u,f=t.pendingProps,v=o.context,i=r.contextType,typeof i=="object"&&i!==null?i=Qe(i):(i=De(r)?as:be.current,i=Fs(t,i));var x=r.getDerivedStateFromProps;(g=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==f||v!==i)&&Ri(t,o,n,i),Ct=!1,v=t.memoizedState,o.state=v,Rn(t,n,o,a);var j=t.memoizedState;c!==f||v!==j||Ae.current||Ct?(typeof x=="function"&&(bl(t,r,x,n),j=t.memoizedState),(u=Ct||Li(t,r,u,n,v,j,i)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,j,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,j,i)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=j),o.props=n,o.state=j,o.context=i,n=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return _l(e,t,r,n,l,a)}function _l(e,t,r,n,a,l){tu(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&ki(t,r,!1),bt(e,t,l);n=t.stateNode,Hp.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ms(t,e.child,null,l),t.child=Ms(t,null,c,l)):we(e,t,c,l),t.memoizedState=n.state,a&&ki(t,r,!0),t.child}function su(e){var t=e.stateNode;t.pendingContext?_i(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(e,t.context,!1),bo(e,t.containerInfo)}function qi(e,t,r,n,a){return Is(),fo(a),t.flags|=256,we(e,t,r,n),t.child}var kl={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ru(e,t,r){var n=t.pendingProps,a=re.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Y(re,a&1),e===null)return yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=la(o,n,0,null),e=ns(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Cl(r),t.memoizedState=kl,e):Eo(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Wp(e,t,o,n,c,a,r);if(l){l=n.fallback,o=t.mode,a=e.child,c=a.sibling;var i={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=i,t.deletions=null):(n=$t(a,i),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=$t(c,l):(l=ns(l,o,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=e.child.memoizedState,o=o===null?Cl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=kl,n}return l=e.child,e=l.sibling,n=$t(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Eo(e,t){return t=la({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sn(e,t,r,n){return n!==null&&fo(n),Ms(t,e.child,null,r),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wp(e,t,r,n,a,l,o){if(r)return t.flags&256?(t.flags&=-257,n=Ma(Error(R(422))),sn(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=la({mode:"visible",children:n.children},a,0,null),l=ns(l,a,o,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Ms(t,e.child,null,o),t.child.memoizedState=Cl(o),t.memoizedState=kl,l);if(!(t.mode&1))return sn(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,l=Error(R(419)),n=Ma(l,n,void 0),sn(e,t,o,n)}if(c=(o&e.childLanes)!==0,Pe||c){if(n=pe,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,vt(e,a),et(n,e,a,-1))}return Ro(),n=Ma(Error(R(421))),sn(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=af.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ie=Ot(a.nextSibling),Me=t,se=!0,Xe=null,e!==null&&(Be[Ve++]=mt,Be[Ve++]=pt,Be[Ve++]=ls,mt=e.id,pt=e.overflow,ls=t),t=Eo(t,n.children),t.flags|=4096,t)}function Ui(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vl(e.return,t,r)}function $a(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function nu(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(we(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ui(e,r,t);else if(e.tag===19)Ui(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Y(re,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&On(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),$a(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&On(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}$a(t,!0,r,null,l);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=$t(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$t(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Qp(e,t,r){switch(t.tag){case 3:su(t),Is();break;case 5:Ad(t);break;case 1:De(t.type)&&Pn(t);break;case 4:bo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Y(Tn,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Y(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?ru(e,t,r):(Y(re,re.current&1),e=bt(e,t,r),e!==null?e.sibling:null);Y(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nu(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Y(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,eu(e,t,r)}return bt(e,t,r)}var au,Sl,lu,ou;au=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sl=function(){};lu=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ss(lt.current);var l=null;switch(r){case"input":a=Ka(e,a),n=Ka(e,n),l=[];break;case"select":a=le({},a,{value:void 0}),n=le({},n,{value:void 0}),l=[];break;case"textarea":a=Xa(e,a),n=Xa(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sn)}el(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var i=n[u];if(c=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&i!==c&&(i!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in i)i.hasOwnProperty(o)&&c[o]!==i[o]&&(r||(r={}),r[o]=i[o])}else r||(l||(l=[]),l.push(u,r)),r=i;else u==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(l=l||[]).push(u,i)):u==="children"?typeof i!="string"&&typeof i!="number"||(l=l||[]).push(u,""+i):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yr.hasOwnProperty(u)?(i!=null&&u==="onScroll"&&ee("scroll",e),l||c===i||(l=[])):(l=l||[]).push(u,i))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};ou=function(e,t,r,n){r!==n&&(t.flags|=4)};function sr(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gp(e,t,r){var n=t.pendingProps;switch(po(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return De(t.type)&&En(),ye(t),null;case 3:return n=t.stateNode,$s(),te(Ae),te(be),jo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(en(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(Ol(Xe),Xe=null))),Sl(e,t),ye(t),null;case 5:wo(t);var a=ss(Ar.current);if(r=t.type,e!==null&&t.stateNode!=null)lu(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return ye(t),null}if(e=ss(lt.current),en(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[nt]=t,n[Er]=l,e=(t.mode&1)!==0,r){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(a=0;a<or.length;a++)ee(or[a],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":Jo(n,l),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},ee("invalid",n);break;case"textarea":Yo(n,l),ee("invalid",n)}el(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?n.textContent!==c&&(l.suppressHydrationWarning!==!0&&Yr(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Yr(n.textContent,c,e),a=["children",""+c]):yr.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ee("scroll",n)}switch(r){case"input":Hr(n),Xo(n,l,!0);break;case"textarea":Hr(n),ei(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Sn)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[nt]=t,e[Er]=n,au(e,t,!1,!1),t.stateNode=e;e:{switch(o=tl(r,n),r){case"dialog":ee("cancel",e),ee("close",e),a=n;break;case"iframe":case"object":case"embed":ee("load",e),a=n;break;case"video":case"audio":for(a=0;a<or.length;a++)ee(or[a],e);a=n;break;case"source":ee("error",e),a=n;break;case"img":case"image":case"link":ee("error",e),ee("load",e),a=n;break;case"details":ee("toggle",e),a=n;break;case"input":Jo(e,n),a=Ka(e,n),ee("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=le({},n,{value:void 0}),ee("invalid",e);break;case"textarea":Yo(e,n),a=Xa(e,n),ee("invalid",e);break;default:a=n}el(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var i=c[l];l==="style"?Mc(e,i):l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Fc(e,i)):l==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&vr(e,i):typeof i=="number"&&vr(e,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(yr.hasOwnProperty(l)?i!=null&&l==="onScroll"&&ee("scroll",e):i!=null&&Jl(e,l,i,o))}switch(r){case"input":Hr(e),Xo(e,n,!1);break;case"textarea":Hr(e),ei(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qt(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Ps(e,!!n.multiple,l,!1):n.defaultValue!=null&&Ps(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Sn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)ou(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=ss(Ar.current),ss(lt.current),en(t)){if(n=t.stateNode,r=t.memoizedProps,n[nt]=t,(l=n.nodeValue!==r)&&(e=Me,e!==null))switch(e.tag){case 3:Yr(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yr(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=t,t.stateNode=n}return ye(t),null;case 13:if(te(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Ie!==null&&t.mode&1&&!(t.flags&128))kd(),Is(),t.flags|=98560,l=!1;else if(l=en(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[nt]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),l=!1}else Xe!==null&&(Ol(Xe),Xe=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?ue===0&&(ue=3):Ro())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return $s(),Sl(e,t),e===null&&Cr(t.stateNode.containerInfo),ye(t),null;case 10:return go(t.type._context),ye(t),null;case 17:return De(t.type)&&En(),ye(t),null;case 19:if(te(re),l=t.memoizedState,l===null)return ye(t),null;if(n=(t.flags&128)!==0,o=l.rendering,o===null)if(n)sr(l,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=On(e),o!==null){for(t.flags|=128,sr(l,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Y(re,re.current&1|2),t.child}e=e.sibling}l.tail!==null&&ie()>qs&&(t.flags|=128,n=!0,sr(l,!1),t.lanes=4194304)}else{if(!n)if(e=On(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!se)return ye(t),null}else 2*ie()-l.renderingStartTime>qs&&r!==1073741824&&(t.flags|=128,n=!0,sr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ie(),t.sibling=null,r=re.current,Y(re,n?r&1|2:r&1),t):(ye(t),null);case 22:case 23:return Lo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fe&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Kp(e,t){switch(po(t),t.tag){case 1:return De(t.type)&&En(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $s(),te(Ae),te(be),jo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wo(t),null;case 13:if(te(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(re),null;case 4:return $s(),null;case 10:return go(t.type._context),null;case 22:case 23:return Lo(),null;case 24:return null;default:return null}}var rn=!1,ve=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,$=null;function Cs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function El(e,t,r){try{r()}catch(n){oe(e,t,n)}}var Bi=!1;function Jp(e,t){if(ul=_n,e=md(),uo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,c=-1,i=-1,u=0,g=0,f=e,v=null;t:for(;;){for(var x;f!==r||a!==0&&f.nodeType!==3||(c=o+a),f!==l||n!==0&&f.nodeType!==3||(i=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)v=f,f=x;for(;;){if(f===e)break t;if(v===r&&++u===a&&(c=o),v===l&&++g===n&&(i=o),(x=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=x}r=c===-1||i===-1?null:{start:c,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(ml={focusedElem:e,selectionRange:r},_n=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var k=j.memoizedProps,E=j.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ze(t.type,k),E);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(y){oe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return j=Bi,Bi=!1,j}function fr(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&El(t,r,l)}a=a.next}while(a!==n)}}function na(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function iu(e){var t=e.alternate;t!==null&&(e.alternate=null,iu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[Er],delete t[hl],delete t[Lp],delete t[Rp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cu(e){return e.tag===5||e.tag===3||e.tag===4}function Vi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Al(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sn));else if(n!==4&&(e=e.child,e!==null))for(Al(e,t,r),e=e.sibling;e!==null;)Al(e,t,r),e=e.sibling}function Dl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Dl(e,t,r),e=e.sibling;e!==null;)Dl(e,t,r),e=e.sibling}var fe=null,Je=!1;function _t(e,t,r){for(r=r.child;r!==null;)du(e,t,r),r=r.sibling}function du(e,t,r){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Zn,r)}catch{}switch(r.tag){case 5:ve||Cs(r,t);case 6:var n=fe,a=Je;fe=null,_t(e,t,r),fe=n,Je=a,fe!==null&&(Je?(e=fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(Je?(e=fe,r=r.stateNode,e.nodeType===8?Ta(e.parentNode,r):e.nodeType===1&&Ta(e,r),Nr(e)):Ta(fe,r.stateNode));break;case 4:n=fe,a=Je,fe=r.stateNode.containerInfo,Je=!0,_t(e,t,r),fe=n,Je=a;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&El(r,t,o),a=a.next}while(a!==n)}_t(e,t,r);break;case 1:if(!ve&&(Cs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){oe(r,t,c)}_t(e,t,r);break;case 21:_t(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,_t(e,t,r),ve=n):_t(e,t,r);break;default:_t(e,t,r)}}function Hi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zp),t.forEach(function(n){var a=lf.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:fe=c.stateNode,Je=!1;break e;case 3:fe=c.stateNode.containerInfo,Je=!0;break e;case 4:fe=c.stateNode.containerInfo,Je=!0;break e}c=c.return}if(fe===null)throw Error(R(160));du(l,o,a),fe=null,Je=!1;var i=a.alternate;i!==null&&(i.return=null),a.return=null}catch(u){oe(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uu(t,e),t=t.sibling}function uu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),st(e),n&4){try{fr(3,e,e.return),na(3,e)}catch(k){oe(e,e.return,k)}try{fr(5,e,e.return)}catch(k){oe(e,e.return,k)}}break;case 1:Ke(t,e),st(e),n&512&&r!==null&&Cs(r,r.return);break;case 5:if(Ke(t,e),st(e),n&512&&r!==null&&Cs(r,r.return),e.flags&32){var a=e.stateNode;try{vr(a,"")}catch(k){oe(e,e.return,k)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Lc(a,l),tl(c,o);var u=tl(c,l);for(o=0;o<i.length;o+=2){var g=i[o],f=i[o+1];g==="style"?Mc(a,f):g==="dangerouslySetInnerHTML"?Fc(a,f):g==="children"?vr(a,f):Jl(a,g,f,u)}switch(c){case"input":Za(a,l);break;case"textarea":Rc(a,l);break;case"select":var v=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Ps(a,!!l.multiple,x,!1):v!==!!l.multiple&&(l.defaultValue!=null?Ps(a,!!l.multiple,l.defaultValue,!0):Ps(a,!!l.multiple,l.multiple?[]:"",!1))}a[Er]=l}catch(k){oe(e,e.return,k)}}break;case 6:if(Ke(t,e),st(e),n&4){if(e.stateNode===null)throw Error(R(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(k){oe(e,e.return,k)}}break;case 3:if(Ke(t,e),st(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nr(t.containerInfo)}catch(k){oe(e,e.return,k)}break;case 4:Ke(t,e),st(e);break;case 13:Ke(t,e),st(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Do=ie())),n&4&&Hi(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(u=ve)||g,Ke(t,e),ve=u):Ke(t,e),st(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!g&&e.mode&1)for($=e,g=e.child;g!==null;){for(f=$=g;$!==null;){switch(v=$,x=v.child,v.tag){case 0:case 11:case 14:case 15:fr(4,v,v.return);break;case 1:Cs(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(k){oe(n,r,k)}}break;case 5:Cs(v,v.return);break;case 22:if(v.memoizedState!==null){Qi(f);continue}}x!==null?(x.return=v,$=x):Qi(f)}g=g.sibling}e:for(g=null,f=e;;){if(f.tag===5){if(g===null){g=f;try{a=f.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=f.stateNode,i=f.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=Ic("display",o))}catch(k){oe(e,e.return,k)}}}else if(f.tag===6){if(g===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(k){oe(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ke(t,e),st(e),n&4&&Hi(e);break;case 21:break;default:Ke(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cu(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(vr(a,""),n.flags&=-33);var l=Vi(e);Dl(e,l,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Vi(e);Al(e,c,o);break;default:throw Error(R(161))}}catch(i){oe(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xp(e,t,r){$=e,mu(e)}function mu(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var a=$,l=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||rn;if(!o){var c=a.alternate,i=c!==null&&c.memoizedState!==null||ve;c=rn;var u=ve;if(rn=o,(ve=i)&&!u)for($=a;$!==null;)o=$,i=o.child,o.tag===22&&o.memoizedState!==null?Gi(a):i!==null?(i.return=o,$=i):Gi(a);for(;l!==null;)$=l,mu(l),l=l.sibling;$=a,rn=c,ve=u}Wi(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,$=l):Wi(e)}}function Wi(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||na(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ai(t,l,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ai(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var f=g.dehydrated;f!==null&&Nr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}ve||t.flags&512&&Pl(t)}catch(v){oe(t,t.return,v)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Qi(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Gi(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{na(4,t)}catch(i){oe(t,r,i)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(i){oe(t,a,i)}}var l=t.return;try{Pl(t)}catch(i){oe(t,l,i)}break;case 5:var o=t.return;try{Pl(t)}catch(i){oe(t,o,i)}}}catch(i){oe(t,t.return,i)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var Yp=Math.ceil,Mn=jt.ReactCurrentDispatcher,Po=jt.ReactCurrentOwner,We=jt.ReactCurrentBatchConfig,Q=0,pe=null,ce=null,he=0,Fe=0,Ss=Wt(0),ue=0,Rr=null,is=0,aa=0,Ao=0,hr=null,Ee=null,Do=0,qs=1/0,dt=null,$n=!1,Tl=null,It=null,nn=!1,At=null,zn=0,xr=0,Ll=null,xn=-1,gn=0;function je(){return Q&6?ie():xn!==-1?xn:xn=ie()}function Mt(e){return e.mode&1?Q&2&&he!==0?he&-he:Fp.transition!==null?(gn===0&&(gn=Zc()),gn):(e=J,e!==0||(e=window.event,e=e===void 0?16:rd(e.type)),e):1}function et(e,t,r,n){if(50<xr)throw xr=0,Ll=null,Error(R(185));Mr(e,r,n),(!(Q&2)||e!==pe)&&(e===pe&&(!(Q&2)&&(aa|=r),ue===4&&Et(e,he)),Te(e,n),r===1&&Q===0&&!(t.mode&1)&&(qs=ie()+500,ta&&Qt()))}function Te(e,t){var r=e.callbackNode;Fm(e,t);var n=Nn(e,e===pe?he:0);if(n===0)r!==null&&ri(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ri(r),t===1)e.tag===0?Op(Ki.bind(null,e)):jd(Ki.bind(null,e)),Dp(function(){!(Q&6)&&Qt()}),r=null;else{switch(Jc(n)){case 1:r=so;break;case 4:r=Gc;break;case 16:r=jn;break;case 536870912:r=Kc;break;default:r=jn}r=bu(r,pu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pu(e,t){if(xn=-1,gn=0,Q&6)throw Error(R(327));var r=e.callbackNode;if(Rs()&&e.callbackNode!==r)return null;var n=Nn(e,e===pe?he:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qn(e,n);else{t=n;var a=Q;Q|=2;var l=hu();(pe!==e||he!==t)&&(dt=null,qs=ie()+500,rs(e,t));do try{sf();break}catch(c){fu(e,c)}while(1);xo(),Mn.current=l,Q=a,ce!==null?t=0:(pe=null,he=0,t=ue)}if(t!==0){if(t===2&&(a=ll(e),a!==0&&(n=a,t=Rl(e,a))),t===1)throw r=Rr,rs(e,0),Et(e,n),Te(e,ie()),r;if(t===6)Et(e,n);else{if(a=e.current.alternate,!(n&30)&&!ef(a)&&(t=qn(e,n),t===2&&(l=ll(e),l!==0&&(n=l,t=Rl(e,l))),t===1))throw r=Rr,rs(e,0),Et(e,n),Te(e,ie()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:Xt(e,Ee,dt);break;case 3:if(Et(e,n),(n&130023424)===n&&(t=Do+500-ie(),10<t)){if(Nn(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){je(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=fl(Xt.bind(null,e,Ee,dt),t);break}Xt(e,Ee,dt);break;case 4:if(Et(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ye(n);l=1<<o,o=t[o],o>a&&(a=o),n&=~l}if(n=a,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yp(n/1960))-n,10<n){e.timeoutHandle=fl(Xt.bind(null,e,Ee,dt),n);break}Xt(e,Ee,dt);break;case 5:Xt(e,Ee,dt);break;default:throw Error(R(329))}}}return Te(e,ie()),e.callbackNode===r?pu.bind(null,e):null}function Rl(e,t){var r=hr;return e.current.memoizedState.isDehydrated&&(rs(e,t).flags|=256),e=qn(e,t),e!==2&&(t=Ee,Ee=r,t!==null&&Ol(t)),e}function Ol(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function ef(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!tt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Et(e,t){for(t&=~Ao,t&=~aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ye(t),n=1<<r;e[r]=-1,t&=~n}}function Ki(e){if(Q&6)throw Error(R(327));Rs();var t=Nn(e,0);if(!(t&1))return Te(e,ie()),null;var r=qn(e,t);if(e.tag!==0&&r===2){var n=ll(e);n!==0&&(t=n,r=Rl(e,n))}if(r===1)throw r=Rr,rs(e,0),Et(e,t),Te(e,ie()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,Ee,dt),Te(e,ie()),null}function To(e,t){var r=Q;Q|=1;try{return e(t)}finally{Q=r,Q===0&&(qs=ie()+500,ta&&Qt())}}function cs(e){At!==null&&At.tag===0&&!(Q&6)&&Rs();var t=Q;Q|=1;var r=We.transition,n=J;try{if(We.transition=null,J=1,e)return e()}finally{J=n,We.transition=r,Q=t,!(Q&6)&&Qt()}}function Lo(){Fe=Ss.current,te(Ss)}function rs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ap(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(po(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&En();break;case 3:$s(),te(Ae),te(be),jo();break;case 5:wo(n);break;case 4:$s();break;case 13:te(re);break;case 19:te(re);break;case 10:go(n.type._context);break;case 22:case 23:Lo()}r=r.return}if(pe=e,ce=e=$t(e.current,null),he=Fe=t,ue=0,Rr=null,Ao=aa=is=0,Ee=hr=null,ts!==null){for(t=0;t<ts.length;t++)if(r=ts[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,n.next=o}r.pending=n}ts=null}return e}function fu(e,t){do{var r=ce;try{if(xo(),pn.current=In,Fn){for(var n=ne.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Fn=!1}if(os=0,me=de=ne=null,pr=!1,Dr=0,Po.current=null,r===null||r.return===null){ue=1,Rr=t,ce=null;break}e:{var l=e,o=r.return,c=r,i=t;if(t=he,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var u=i,g=c,f=g.tag;if(!(g.mode&1)&&(f===0||f===11||f===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var x=Fi(o);if(x!==null){x.flags&=-257,Ii(x,o,c,l,t),x.mode&1&&Oi(l,u,t),t=x,i=u;var j=t.updateQueue;if(j===null){var k=new Set;k.add(i),t.updateQueue=k}else j.add(i);break e}else{if(!(t&1)){Oi(l,u,t),Ro();break e}i=Error(R(426))}}else if(se&&c.mode&1){var E=Fi(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ii(E,o,c,l,t),fo(zs(i,c));break e}}l=i=zs(i,c),ue!==4&&(ue=2),hr===null?hr=[l]:hr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Jd(l,i,t);Pi(l,h);break e;case 1:c=i;var d=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(It===null||!It.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=Xd(l,c,t);Pi(l,y);break e}}l=l.return}while(l!==null)}gu(r)}catch(_){t=_,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(1)}function hu(){var e=Mn.current;return Mn.current=In,e===null?In:e}function Ro(){(ue===0||ue===3||ue===2)&&(ue=4),pe===null||!(is&268435455)&&!(aa&268435455)||Et(pe,he)}function qn(e,t){var r=Q;Q|=2;var n=hu();(pe!==e||he!==t)&&(dt=null,rs(e,t));do try{tf();break}catch(a){fu(e,a)}while(1);if(xo(),Q=r,Mn.current=n,ce!==null)throw Error(R(261));return pe=null,he=0,ue}function tf(){for(;ce!==null;)xu(ce)}function sf(){for(;ce!==null&&!Sm();)xu(ce)}function xu(e){var t=vu(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?gu(e):ce=t,Po.current=null}function gu(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Kp(r,t),r!==null){r.flags&=32767,ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,ce=null;return}}else if(r=Gp(r,t,Fe),r!==null){ce=r;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);ue===0&&(ue=5)}function Xt(e,t,r){var n=J,a=We.transition;try{We.transition=null,J=1,rf(e,t,r,n)}finally{We.transition=a,J=n}return null}function rf(e,t,r,n){do Rs();while(At!==null);if(Q&6)throw Error(R(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Im(e,l),e===pe&&(ce=pe=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nn||(nn=!0,bu(jn,function(){return Rs(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=We.transition,We.transition=null;var o=J;J=1;var c=Q;Q|=4,Po.current=null,Jp(e,r),uu(r,e),Np(ml),_n=!!ul,ml=ul=null,e.current=r,Xp(r),Em(),Q=c,J=o,We.transition=l}else e.current=r;if(nn&&(nn=!1,At=e,zn=a),l=e.pendingLanes,l===0&&(It=null),Dm(r.stateNode),Te(e,ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if($n)throw $n=!1,e=Tl,Tl=null,e;return zn&1&&e.tag!==0&&Rs(),l=e.pendingLanes,l&1?e===Ll?xr++:(xr=0,Ll=e):xr=0,Qt(),null}function Rs(){if(At!==null){var e=Jc(zn),t=We.transition,r=J;try{if(We.transition=null,J=16>e?16:e,At===null)var n=!1;else{if(e=At,At=null,zn=0,Q&6)throw Error(R(331));var a=Q;for(Q|=4,$=e.current;$!==null;){var l=$,o=l.child;if($.flags&16){var c=l.deletions;if(c!==null){for(var i=0;i<c.length;i++){var u=c[i];for($=u;$!==null;){var g=$;switch(g.tag){case 0:case 11:case 15:fr(8,g,l)}var f=g.child;if(f!==null)f.return=g,$=f;else for(;$!==null;){g=$;var v=g.sibling,x=g.return;if(iu(g),g===u){$=null;break}if(v!==null){v.return=x,$=v;break}$=x}}}var j=l.alternate;if(j!==null){var k=j.child;if(k!==null){j.child=null;do{var E=k.sibling;k.sibling=null,k=E}while(k!==null)}}$=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,$=o;else e:for(;$!==null;){if(l=$,l.flags&2048)switch(l.tag){case 0:case 11:case 15:fr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,$=h;break e}$=l.return}}var d=e.current;for($=d;$!==null;){o=$;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,$=m;else e:for(o=d;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:na(9,c)}}catch(_){oe(c,c.return,_)}if(c===o){$=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,$=y;break e}$=c.return}}if(Q=a,Qt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Zn,e)}catch{}n=!0}return n}finally{J=r,We.transition=t}}return!1}function Zi(e,t,r){t=zs(r,t),t=Jd(e,t,1),e=Ft(e,t,1),t=je(),e!==null&&(Mr(e,1,t),Te(e,t))}function oe(e,t,r){if(e.tag===3)Zi(e,e,r);else for(;t!==null;){if(t.tag===3){Zi(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(It===null||!It.has(n))){e=zs(r,e),e=Xd(t,e,1),t=Ft(t,e,1),e=je(),t!==null&&(Mr(t,1,e),Te(t,e));break}}t=t.return}}function nf(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&r,pe===e&&(he&r)===r&&(ue===4||ue===3&&(he&130023424)===he&&500>ie()-Do?rs(e,0):Ao|=r),Te(e,t)}function yu(e,t){t===0&&(e.mode&1?(t=Gr,Gr<<=1,!(Gr&130023424)&&(Gr=4194304)):t=1);var r=je();e=vt(e,t),e!==null&&(Mr(e,t,r),Te(e,r))}function af(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yu(e,r)}function lf(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),yu(e,r)}var vu;vu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Pe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pe=!1,Qp(e,t,r);Pe=!!(e.flags&131072)}else Pe=!1,se&&t.flags&1048576&&Nd(t,Dn,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hn(e,t),e=t.pendingProps;var a=Fs(t,be.current);Ls(t,r),a=_o(null,t,n,e,a,r);var l=ko();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(n)?(l=!0,Pn(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vo(t),a.updater=ra,t.stateNode=a,a._reactInternals=t,wl(t,n,e,r),t=_l(null,t,n,!0,l,r)):(t.tag=0,se&&l&&mo(t),we(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hn(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=cf(n),e=Ze(n,e),a){case 0:t=Nl(null,t,n,e,r);break e;case 1:t=zi(null,t,n,e,r);break e;case 11:t=Mi(null,t,n,e,r);break e;case 14:t=$i(null,t,n,Ze(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),Nl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),zi(e,t,n,a,r);case 3:e:{if(su(t),e===null)throw Error(R(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Pd(e,t),Rn(t,n,null,r);var o=t.memoizedState;if(n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=zs(Error(R(423)),t),t=qi(e,t,n,r,a);break e}else if(n!==a){a=zs(Error(R(424)),t),t=qi(e,t,n,r,a);break e}else for(Ie=Ot(t.stateNode.containerInfo.firstChild),Me=t,se=!0,Xe=null,r=Sd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Is(),n===a){t=bt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return Ad(t),e===null&&yl(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,pl(n,a)?o=null:l!==null&&pl(n,l)&&(t.flags|=32),tu(e,t),we(e,t,o,r),t.child;case 6:return e===null&&yl(t),null;case 13:return ru(e,t,r);case 4:return bo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ms(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),Mi(e,t,n,a,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,Y(Tn,n._currentValue),n._currentValue=o,l!==null)if(tt(l.value,o)){if(l.children===a.children&&!Ae.current){t=bt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var i=c.firstContext;i!==null;){if(i.context===n){if(l.tag===1){i=ft(-1,r&-r),i.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i}}l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),vl(l.return,r,t),c.lanes|=r;break}i=i.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(R(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),vl(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}we(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ls(t,r),a=Qe(a),n=n(a),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,a=Ze(n,t.pendingProps),a=Ze(n.type,a),$i(e,t,n,a,r);case 15:return Yd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),hn(e,t),t.tag=1,De(n)?(e=!0,Pn(t)):e=!1,Ls(t,r),Zd(t,n,a),wl(t,n,a,r),_l(null,t,n,!0,e,r);case 19:return nu(e,t,r);case 22:return eu(e,t,r)}throw Error(R(156,t.tag))};function bu(e,t){return Qc(e,t)}function of(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,r,n){return new of(e,t,r,n)}function Oo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cf(e){if(typeof e=="function")return Oo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yl)return 11;if(e===eo)return 14}return 2}function $t(e,t){var r=e.alternate;return r===null?(r=He(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yn(e,t,r,n,a,l){var o=2;if(n=e,typeof e=="function")Oo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gs:return ns(r.children,a,l,t);case Xl:o=8,a|=8;break;case Ha:return e=He(12,r,t,a|2),e.elementType=Ha,e.lanes=l,e;case Wa:return e=He(13,r,t,a),e.elementType=Wa,e.lanes=l,e;case Qa:return e=He(19,r,t,a),e.elementType=Qa,e.lanes=l,e;case Ac:return la(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ec:o=10;break e;case Pc:o=9;break e;case Yl:o=11;break e;case eo:o=14;break e;case kt:o=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=He(o,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function ns(e,t,r,n){return e=He(7,e,n,t),e.lanes=r,e}function la(e,t,r,n){return e=He(22,e,n,t),e.elementType=Ac,e.lanes=r,e.stateNode={isHidden:!1},e}function za(e,t,r){return e=He(6,e,null,t),e.lanes=r,e}function qa(e,t,r){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function df(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fo(e,t,r,n,a,l,o,c,i){return e=new df(e,t,r,c,i),t===1?(t=1,l===!0&&(t|=8)):t=0,l=He(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vo(l),e}function uf(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wu(e){if(!e)return Ut;e=e._reactInternals;e:{if(us(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(De(r))return wd(e,r,t)}return t}function ju(e,t,r,n,a,l,o,c,i){return e=Fo(r,n,!0,e,a,l,o,c,i),e.context=wu(null),r=e.current,n=je(),a=Mt(r),l=ft(n,a),l.callback=t??null,Ft(r,l,a),e.current.lanes=a,Mr(e,a,n),Te(e,n),e}function oa(e,t,r,n){var a=t.current,l=je(),o=Mt(a);return r=wu(r),t.context===null?t.context=r:t.pendingContext=r,t=ft(l,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ft(a,t,o),e!==null&&(et(e,a,o,l),mn(e,a,o)),o}function Un(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ji(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Io(e,t){Ji(e,t),(e=e.alternate)&&Ji(e,t)}function mf(){return null}var Nu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mo(e){this._internalRoot=e}ia.prototype.render=Mo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));oa(e,t,null,null)};ia.prototype.unmount=Mo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cs(function(){oa(null,e,null,null)}),t[yt]=null}};function ia(e){this._internalRoot=e}ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=ed();e={blockedOn:null,target:e,priority:t};for(var r=0;r<St.length&&t!==0&&t<St[r].priority;r++);St.splice(r,0,e),r===0&&sd(e)}};function $o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xi(){}function pf(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var u=Un(o);l.call(u)}}var o=ju(t,n,e,0,null,!1,!1,"",Xi);return e._reactRootContainer=o,e[yt]=o.current,Cr(e.nodeType===8?e.parentNode:e),cs(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var u=Un(i);c.call(u)}}var i=Fo(e,0,!1,null,null,!1,!1,"",Xi);return e._reactRootContainer=i,e[yt]=i.current,Cr(e.nodeType===8?e.parentNode:e),cs(function(){oa(t,i,r,n)}),i}function da(e,t,r,n,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var c=a;a=function(){var i=Un(o);c.call(i)}}oa(t,o,e,a)}else o=pf(r,t,e,a,n);return Un(o)}Xc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lr(t.pendingLanes);r!==0&&(ro(t,r|1),Te(t,ie()),!(Q&6)&&(qs=ie()+500,Qt()))}break;case 13:cs(function(){var n=vt(e,1);if(n!==null){var a=je();et(n,e,1,a)}}),Io(e,1)}};no=function(e){if(e.tag===13){var t=vt(e,134217728);if(t!==null){var r=je();et(t,e,134217728,r)}Io(e,134217728)}};Yc=function(e){if(e.tag===13){var t=Mt(e),r=vt(e,t);if(r!==null){var n=je();et(r,e,t,n)}Io(e,t)}};ed=function(){return J};td=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};rl=function(e,t,r){switch(t){case"input":if(Za(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ea(n);if(!a)throw Error(R(90));Tc(n),Za(n,a)}}}break;case"textarea":Rc(e,r);break;case"select":t=r.value,t!=null&&Ps(e,!!r.multiple,t,!1)}};qc=To;Uc=cs;var ff={usingClientEntryPoint:!1,Events:[zr,ws,ea,$c,zc,To]},rr={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hf={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hc(e),e===null?null:e.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||mf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var an=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!an.isDisabled&&an.supportsFiber)try{Zn=an.inject(hf),at=an}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ff;ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$o(t))throw Error(R(200));return uf(e,t,null,r)};ze.createRoot=function(e,t){if(!$o(e))throw Error(R(299));var r=!1,n="",a=Nu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Fo(e,1,!1,null,null,r,!1,n,a),e[yt]=t.current,Cr(e.nodeType===8?e.parentNode:e),new Mo(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Hc(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return cs(e)};ze.hydrate=function(e,t,r){if(!ca(t))throw Error(R(200));return da(null,e,t,!0,r)};ze.hydrateRoot=function(e,t,r){if(!$o(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",o=Nu;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ju(t,null,e,1,r??null,a,!1,l,o),e[yt]=t.current,Cr(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ia(t)};ze.render=function(e,t,r){if(!ca(t))throw Error(R(200));return da(null,e,t,!1,r)};ze.unmountComponentAtNode=function(e){if(!ca(e))throw Error(R(40));return e._reactRootContainer?(cs(function(){da(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1};ze.unstable_batchedUpdates=To;ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ca(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return da(e,t,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function _u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_u)}catch(e){console.error(e)}}_u(),_c.exports=ze;var xf=_c.exports,Yi=xf;Ba.createRoot=Yi.createRoot,Ba.hydrateRoot=Yi.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Or.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const ec="popstate";function gf(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:o,hash:c}=n.location;return Fl("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Bn(a)}return vf(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yf(){return Math.random().toString(36).substr(2,8)}function tc(e,t){return{usr:e.state,key:e.key,idx:t}}function Fl(e,t,r,n){return r===void 0&&(r=null),Or({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ws(t):t,{state:r,key:t&&t.key||n||yf()})}function Bn(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ws(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function vf(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,o=a.history,c=Dt.Pop,i=null,u=g();u==null&&(u=0,o.replaceState(Or({},o.state,{idx:u}),""));function g(){return(o.state||{idx:null}).idx}function f(){c=Dt.Pop;let E=g(),h=E==null?null:E-u;u=E,i&&i({action:c,location:k.location,delta:h})}function v(E,h){c=Dt.Push;let d=Fl(k.location,E,h);r&&r(d,E),u=g()+1;let m=tc(d,u),y=k.createHref(d);try{o.pushState(m,"",y)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(y)}l&&i&&i({action:c,location:k.location,delta:1})}function x(E,h){c=Dt.Replace;let d=Fl(k.location,E,h);r&&r(d,E),u=g();let m=tc(d,u),y=k.createHref(d);o.replaceState(m,"",y),l&&i&&i({action:c,location:k.location,delta:0})}function j(E){let h=a.location.origin!=="null"?a.location.origin:a.location.href,d=typeof E=="string"?E:Bn(E);return d=d.replace(/ $/,"%20"),ae(h,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,h)}let k={get action(){return c},get location(){return e(a,o)},listen(E){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(ec,f),i=E,()=>{a.removeEventListener(ec,f),i=null}},createHref(E){return t(a,E)},createURL:j,encodeLocation(E){let h=j(E);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:v,replace:x,go(E){return o.go(E)}};return k}var sc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sc||(sc={}));function bf(e,t,r){return r===void 0&&(r="/"),wf(e,t,r,!1)}function wf(e,t,r,n){let a=typeof t=="string"?Ws(t):t,l=Us(a.pathname||"/",r);if(l==null)return null;let o=ku(e);jf(o);let c=null;for(let i=0;c==null&&i<o.length;++i){let u=Lf(l);c=Df(o[i],u,n)}return c}function ku(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,o,c)=>{let i={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};i.relativePath.startsWith("/")&&(ae(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(n.length));let u=zt([n,i.relativePath]),g=r.concat(i);l.children&&l.children.length>0&&(ae(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ku(l.children,t,g,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Pf(u,l.index),routesMeta:g})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,o);else for(let i of Cu(l.path))a(l,o,i)}),t}function Cu(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let o=Cu(n.join("/")),c=[];return c.push(...o.map(i=>i===""?l:[l,i].join("/"))),a&&c.push(...o),c.map(i=>e.startsWith("/")&&i===""?"/":i)}function jf(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Af(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Nf=/^:[\w-]+$/,_f=3,kf=2,Cf=1,Sf=10,Ef=-2,rc=e=>e==="*";function Pf(e,t){let r=e.split("/"),n=r.length;return r.some(rc)&&(n+=Ef),t&&(n+=kf),r.filter(a=>!rc(a)).reduce((a,l)=>a+(Nf.test(l)?_f:l===""?Cf:Sf),n)}function Af(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Df(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},l="/",o=[];for(let c=0;c<n.length;++c){let i=n[c],u=c===n.length-1,g=l==="/"?t:t.slice(l.length)||"/",f=Vn({path:i.relativePath,caseSensitive:i.caseSensitive,end:u},g),v=i.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Vn({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},g)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:zt([l,f.pathname]),pathnameBase:Mf(zt([l,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(l=zt([l,f.pathnameBase]))}return o}function Vn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Tf(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((u,g,f)=>{let{paramName:v,isOptional:x}=g;if(v==="*"){let k=c[f]||"";o=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const j=c[f];return x&&!j?u[v]=void 0:u[v]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:o,pattern:e}}function Tf(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),zo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,i)=>(n.push({paramName:c,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Lf(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Us(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Rf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=e=>Rf.test(e);function Ff(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ws(e):e,l;if(r)if(Of(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),zo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?l=nc(r.substring(1),"/"):l=nc(r,t)}else l=t;return{pathname:l,search:$f(n),hash:zf(a)}}function nc(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ua(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function If(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qo(e,t){let r=If(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Uo(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ws(e):(a=Or({},e),ae(!a.pathname||!a.pathname.includes("?"),Ua("?","pathname","search",a)),ae(!a.pathname||!a.pathname.includes("#"),Ua("#","pathname","hash",a)),ae(!a.search||!a.search.includes("#"),Ua("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,c;if(o==null)c=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),f-=1;a.pathname=v.join("/")}c=f>=0?t[f]:"/"}let i=Ff(a,c),u=o&&o!=="/"&&o.endsWith("/"),g=(l||o===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(u||g)&&(i.pathname+="/"),i}const zt=e=>e.join("/").replace(/\/\/+/g,"/"),Mf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$f=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zf=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Su=["post","put","patch","delete"];new Set(Su);const Uf=["get",...Su];new Set(Uf);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fr.apply(this,arguments)}const ua=b.createContext(null),Eu=b.createContext(null),Nt=b.createContext(null),ma=b.createContext(null),it=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Pu=b.createContext(null);function Bf(e,t){let{relative:r}=t===void 0?{}:t;Qs()||ae(!1);let{basename:n,navigator:a}=b.useContext(Nt),{hash:l,pathname:o,search:c}=pa(e,{relative:r}),i=o;return n!=="/"&&(i=o==="/"?n:zt([n,o])),a.createHref({pathname:i,search:c,hash:l})}function Qs(){return b.useContext(ma)!=null}function Gt(){return Qs()||ae(!1),b.useContext(ma).location}function Au(e){b.useContext(Nt).static||b.useLayoutEffect(e)}function ms(){let{isDataRoute:e}=b.useContext(it);return e?ah():Vf()}function Vf(){Qs()||ae(!1);let e=b.useContext(ua),{basename:t,future:r,navigator:n}=b.useContext(Nt),{matches:a}=b.useContext(it),{pathname:l}=Gt(),o=JSON.stringify(qo(a,r.v7_relativeSplatPath)),c=b.useRef(!1);return Au(()=>{c.current=!0}),b.useCallback(function(u,g){if(g===void 0&&(g={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let f=Uo(u,JSON.parse(o),l,g.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zt([t,f.pathname])),(g.replace?n.replace:n.push)(f,g.state,g)},[t,n,o,l,e])}const Hf=b.createContext(null);function Wf(e){let t=b.useContext(it).outlet;return t&&b.createElement(Hf.Provider,{value:e},t)}function Qf(){let{matches:e}=b.useContext(it),t=e[e.length-1];return t?t.params:{}}function pa(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Nt),{matches:a}=b.useContext(it),{pathname:l}=Gt(),o=JSON.stringify(qo(a,n.v7_relativeSplatPath));return b.useMemo(()=>Uo(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function Gf(e,t){return Kf(e,t)}function Kf(e,t,r,n){Qs()||ae(!1);let{navigator:a}=b.useContext(Nt),{matches:l}=b.useContext(it),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let u=Gt(),g;if(t){var f;let E=typeof t=="string"?Ws(t):t;i==="/"||(f=E.pathname)!=null&&f.startsWith(i)||ae(!1),g=E}else g=u;let v=g.pathname||"/",x=v;if(i!=="/"){let E=i.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let j=bf(e,{pathname:x}),k=eh(j&&j.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:zt([i,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?i:zt([i,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,r,n);return t&&k?b.createElement(ma.Provider,{value:{location:Fr({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Dt.Pop}},k):k}function Zf(){let e=nh(),t=qf(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,l)}const Jf=b.createElement(Zf,null);class Xf extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(it.Provider,{value:this.props.routeContext},b.createElement(Pu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yf(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(ua);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(it.Provider,{value:t},n)}function eh(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let g=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);g>=0||ae(!1),o=o.slice(0,Math.min(o.length,g+1))}let i=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let f=o[g];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=g),f.route.id){let{loaderData:v,errors:x}=r,j=f.route.loader&&v[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||j){i=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((g,f,v)=>{let x,j=!1,k=null,E=null;r&&(x=c&&f.route.id?c[f.route.id]:void 0,k=f.route.errorElement||Jf,i&&(u<0&&v===0?(lh("route-fallback",!1),j=!0,E=null):u===v&&(j=!0,E=f.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,v+1)),d=()=>{let m;return x?m=k:j?m=E:f.route.Component?m=b.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=g,b.createElement(Yf,{match:f,routeContext:{outlet:g,matches:h,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?b.createElement(Xf,{location:r.location,revalidation:r.revalidation,component:k,error:x,children:d(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):d()},null)}var Du=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Du||{}),Hn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hn||{});function th(e){let t=b.useContext(ua);return t||ae(!1),t}function sh(e){let t=b.useContext(Eu);return t||ae(!1),t}function rh(e){let t=b.useContext(it);return t||ae(!1),t}function Tu(e){let t=rh(),r=t.matches[t.matches.length-1];return r.route.id||ae(!1),r.route.id}function nh(){var e;let t=b.useContext(Pu),r=sh(Hn.UseRouteError),n=Tu(Hn.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ah(){let{router:e}=th(Du.UseNavigateStable),t=Tu(Hn.UseNavigateStable),r=b.useRef(!1);return Au(()=>{r.current=!0}),b.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Fr({fromRouteId:t},l)))},[e,t])}const ac={};function lh(e,t,r){!t&&!ac[e]&&(ac[e]=!0)}function oh(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ih(e){let{to:t,replace:r,state:n,relative:a}=e;Qs()||ae(!1);let{future:l,static:o}=b.useContext(Nt),{matches:c}=b.useContext(it),{pathname:i}=Gt(),u=ms(),g=Uo(t,qo(c,l.v7_relativeSplatPath),i,a==="path"),f=JSON.stringify(g);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ch(e){return Wf(e.context)}function Se(e){ae(!1)}function dh(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Dt.Pop,navigator:l,static:o=!1,future:c}=e;Qs()&&ae(!1);let i=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:i,navigator:l,static:o,future:Fr({v7_relativeSplatPath:!1},c)}),[i,c,l,o]);typeof n=="string"&&(n=Ws(n));let{pathname:g="/",search:f="",hash:v="",state:x=null,key:j="default"}=n,k=b.useMemo(()=>{let E=Us(g,i);return E==null?null:{location:{pathname:E,search:f,hash:v,state:x,key:j},navigationType:a}},[i,g,f,v,x,j,a]);return k==null?null:b.createElement(Nt.Provider,{value:u},b.createElement(ma.Provider,{children:r,value:k}))}function uh(e){let{children:t,location:r}=e;return Gf(Il(t),r)}new Promise(()=>{});function Il(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let l=[...t,a];if(n.type===b.Fragment){r.push.apply(r,Il(n.props.children,l));return}n.type!==Se&&ae(!1),!n.props.index||!n.props.children||ae(!1);let o={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Il(n.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(this,arguments)}function Lu(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function mh(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ph(e,t){return e.button===0&&(!t||t==="_self")&&!mh(e)}const fh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hh=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],xh="6";try{window.__reactRouterVersion=xh}catch{}const gh=b.createContext({isTransitioning:!1}),yh="startTransition",lc=nm[yh];function vh(e){let{basename:t,children:r,future:n,window:a}=e,l=b.useRef();l.current==null&&(l.current=gf({window:a,v5Compat:!0}));let o=l.current,[c,i]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},g=b.useCallback(f=>{u&&lc?lc(()=>i(f)):i(f)},[i,u]);return b.useLayoutEffect(()=>o.listen(g),[o,g]),b.useEffect(()=>oh(n),[n]),b.createElement(dh,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const bh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jh=b.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:o,state:c,target:i,to:u,preventScrollReset:g,viewTransition:f}=t,v=Lu(t,fh),{basename:x}=b.useContext(Nt),j,k=!1;if(typeof u=="string"&&wh.test(u)&&(j=u,bh))try{let m=new URL(window.location.href),y=u.startsWith("//")?new URL(m.protocol+u):new URL(u),_=Us(y.pathname,x);y.origin===m.origin&&_!=null?u=_+y.search+y.hash:k=!0}catch{}let E=Bf(u,{relative:a}),h=kh(u,{replace:o,state:c,target:i,preventScrollReset:g,relative:a,viewTransition:f});function d(m){n&&n(m),m.defaultPrevented||h(m)}return b.createElement("a",Wn({},v,{href:j||E,onClick:k||l?n:d,ref:r,target:i}))}),Nh=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:l="",end:o=!1,style:c,to:i,viewTransition:u,children:g}=t,f=Lu(t,hh),v=pa(i,{relative:f.relative}),x=Gt(),j=b.useContext(Eu),{navigator:k,basename:E}=b.useContext(Nt),h=j!=null&&Ch(v)&&u===!0,d=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,m=x.pathname,y=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(m=m.toLowerCase(),y=y?y.toLowerCase():null,d=d.toLowerCase()),y&&E&&(y=Us(y,E)||y);const _=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let N=m===d||!o&&m.startsWith(d)&&m.charAt(_)==="/",C=y!=null&&(y===d||!o&&y.startsWith(d)&&y.charAt(d.length)==="/"),p={isActive:N,isPending:C,isTransitioning:h},w=N?n:void 0,S;typeof l=="function"?S=l(p):S=[l,N?"active":null,C?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(p):c;return b.createElement(jh,Wn({},f,{"aria-current":w,className:S,ref:r,style:O,to:i,viewTransition:u}),typeof g=="function"?g(p):g)});var Ml;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ml||(Ml={}));var oc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(oc||(oc={}));function _h(e){let t=b.useContext(ua);return t||ae(!1),t}function kh(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:o,viewTransition:c}=t===void 0?{}:t,i=ms(),u=Gt(),g=pa(e,{relative:o});return b.useCallback(f=>{if(ph(f,r)){f.preventDefault();let v=n!==void 0?n:Bn(u)===Bn(g);i(e,{replace:v,state:a,preventScrollReset:l,relative:o,viewTransition:c})}},[u,i,g,n,a,r,e,l,o,c])}function Ch(e,t){t===void 0&&(t={});let r=b.useContext(gh);r==null&&ae(!1);let{basename:n}=_h(Ml.useViewTransitionState),a=pa(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=Us(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Us(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Vn(a.pathname,o)!=null||Vn(a.pathname,l)!=null}const Sh={BASE_URL:"https://erp.rslsolution.org/public/api"},Eh=Sh.BASE_URL;class Ph{constructor(t){this.baseURL=t,this.defaultHeaders={"Content-Type":"application/json"}}getAuthHeaders(){const t=localStorage.getItem("auth_token");return t?{Authorization:`Bearer ${t}`}:{}}async request(t,r={}){const n=`${this.baseURL}${t}`,a={...this.defaultHeaders,...this.getAuthHeaders(),...r.headers};try{const l=await fetch(n,{...r,headers:a});if(!l.ok){let c;const i=await l.text();try{c=JSON.parse(i)}catch(f){console.error("Failed to parse error response as JSON:",f),c={rawResponse:i}}console.error("API Error Response:",c),console.error("Status:",l.status),console.error("Status Text:",l.statusText);const u=l.headers.get("content-type");if(u&&u.includes("text/html"))throw new Error(`Server returned HTML error page instead of JSON. Status: ${l.status}. Raw response: ${i.substring(0,200)}...`);l.status===401&&localStorage.removeItem("auth_token");let g=`HTTP error! status: ${l.status}`;throw l.status>=500?c.error?g=`Server error: ${c.error}`:g="Internal server error. Please check server logs.":l.status===422&&c.errors?g=`Validation errors: ${Object.values(c.errors).flat().join(", ")}`:c.message&&(g=c.message),new Error(g)}const o=await l.json();return console.log("API Success Response:",o),o}catch(l){throw console.error("API Request Failed:",l),l instanceof Error&&l.message.includes("Failed to fetch")?t.includes("192.168.1.22")?new Error("Unable to connect to API server. Please ensure the backend server is running on http://192.168.1.22:8000"):new Error("Network error: Unable to reach the API server"):l}}mockResponse(t,r){return new Promise((n,a)=>{setTimeout(()=>{t==="/auth/login"&&r.method==="POST"?n({success:!0,message:"Login successful",token:"mock-jwt-token-12345",user:{id:1,name:"Super Admin",email:"superadmin@example.com",role:"superadmin"}}):n(t==="/auth/me"?{success:!0,data:{id:1,name:"Super Admin",email:"superadmin@example.com",role:"admin"}}:t==="/auth/logout"?{success:!0,message:"Logout successful"}:{success:!0,data:[]})},500)})}async get(t){return this.request(t,{method:"GET"})}async post(t,r){return console.log("API POST Request:",t,r),this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(t,r){return this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0})}async patch(t,r){return this.request(t,{method:"PATCH",body:r?JSON.stringify(r):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}const I=new Ph(Eh),ic={login:async(e,t)=>I.post("/auth/login",{email:e,password:t}),getCurrentUser:async()=>I.get("/auth/me"),logout:async()=>I.post("/auth/logout"),adminOnly:async()=>I.get("/auth/admin-only"),supervisorArea:async()=>I.get("/auth/supervisor-area")},Yt={getToken:()=>localStorage.getItem("auth_token"),setToken:e=>{localStorage.setItem("auth_token",e)},removeToken:()=>{localStorage.removeItem("auth_token")},isAuthenticated:()=>!!Yt.getToken()},Ru=b.createContext(void 0),fa=()=>{const e=b.useContext(Ru);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Ah=({children:e})=>{const[t,r]=b.useState(null),[n,a]=b.useState(!0);b.useEffect(()=>{const i=Yt.getToken(),u=localStorage.getItem("auth_user");if(i&&u){console.log("Found token and user data, validating...");try{const g=JSON.parse(u);if(i&&i.length>10)try{const f=i.split(".");if(f.length===3){const v=JSON.parse(atob(f[1])),x=Date.now()/1e3;v.exp&&v.exp>x?(console.log("JWT token is valid and not expired"),r(g)):v.exp&&v.exp<=x?(console.log("JWT token is expired, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)):(console.log("JWT token has no expiration, assuming valid"),r(g))}else console.log("Token is not JWT format, but appears valid"),r(g)}catch{console.log("Token is not decodable as JWT, but keeping it as valid"),r(g)}else console.log("Token is too short or empty, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}catch{console.log("Failed to parse stored user data, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}}else i&&!u?(console.log("Token exists but no user data, keeping token"),r(null)):(console.log("No token found, user not authenticated"),r(null));a(!1)},[]);const c={user:t,login:async(i,u)=>{a(!0);try{const g=await ic.login(i,u);if(console.log("Login response:",g),g.success&&g.token&&g.user){const{token:f,user:v}=g;return Yt.setToken(f),localStorage.setItem("auth_user",JSON.stringify(v)),r(v),a(!1),!0}else return console.error("Login failed - response structure:",g),a(!1),!1}catch(g){return console.error("Login error:",g),a(!1),!1}},logout:async()=>{try{await ic.logout()}catch(i){console.error("Logout error:",i)}finally{Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}},isAuthenticated:!!t,isLoading:n};return s.jsx(Ru.Provider,{value:c,children:e})},Ou=b.createContext(void 0),Fu=()=>{const e=b.useContext(Ou);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");return e},Dh=({children:e})=>{const[t,r]=b.useState([]),l={toasts:t,addToast:(o,c)=>{const i=Date.now().toString();r(u=>[...u,{id:i,message:o,type:c}])},removeToast:o=>{r(c=>c.filter(i=>i.id!==o))}};return s.jsx(Ou.Provider,{value:l,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Th={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:i,...u},g)=>b.createElement("svg",{ref:g,...Th,width:a,height:a,stroke:n,strokeWidth:o?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Lh(e)}`,c].join(" "),...u},[...t.map(([f,v])=>b.createElement(f,v)),...Array.isArray(i)?i:[i]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=B("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=B("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=B("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=B("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=B("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=B("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=B("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=B("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=B("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=B("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=B("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=B("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=B("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=B("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=B("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=B("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Xh=()=>{var y,_;const[e,t]=b.useState(""),[r,n]=b.useState(""),[a,l]=b.useState(!1),[o,c]=b.useState(""),[i,u]=b.useState(!1),[g,f]=b.useState({}),{login:v}=fa(),x=ms(),k=((_=(y=Gt().state)==null?void 0:y.from)==null?void 0:_.pathname)||"/dashboard",E=()=>{const N={};return e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?e.length>254&&(N.email="Email address is too long"):N.email="Please enter a valid email address":N.email="Email is required",r.trim()?r.length<6?N.password="Password must be at least 6 characters long":r.length>128?N.password="Password is too long":/(?=.*[a-z])/.test(r)?/(?=.*\d)/.test(r)||(N.password="Password must contain at least one number"):N.password="Password must contain at least one lowercase letter":N.password="Password is required",f(N),Object.keys(N).length===0},h=()=>{l(!a)},d=(N,C)=>{N==="email"?t(C):n(C),g[N]&&f(p=>({...p,[N]:void 0})),o&&c("")},m=async N=>{if(N.preventDefault(),!!E()){c(""),u(!0);try{await v(e,r)?x(k,{replace:!0}):c("Invalid email or password")}catch{c("An error occurred during login. Please try again.")}finally{u(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),s.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-4000"})]}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-white rounded-full opacity-60"}),s.jsx("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-white rounded-full opacity-40"}),s.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-3 h-3 bg-white rounded-full opacity-30"}),s.jsx("div",{className:"absolute top-1/2 right-1/4 w-2 h-2 bg-white rounded-full opacity-50"}),s.jsx("div",{className:"absolute bottom-1/3 right-1/2 w-1 h-1 bg-white rounded-full opacity-60"})]}),s.jsxs("div",{className:"relative min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md mb-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 border border-white/20",children:s.jsx(Gn,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Welcome Back"}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Sign in to your Super Admin account"})]})}),s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 transform hover:scale-105 transition-all duration-300",children:[s.jsxs("form",{className:"space-y-6",onSubmit:m,children:[s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ul,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:N=>d("email",N.target.value),className:`appearance-none block w-full pl-10 pr-3 py-3 bg-white/5 border rounded-xl placeholder-blue-200 text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:bg-white/10 transition-all duration-200 sm:text-sm backdrop-blur-sm ${g.email?"border-red-400 focus:ring-red-400/50 focus:border-red-400":"border-white/20 focus:ring-white/50 focus:border-white/50"}`,placeholder:"Enter your email"})]}),g.email&&s.jsxs("div",{className:"mt-2 text-red-300 text-xs flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-xs",children:"!"})}),g.email]})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ql,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),s.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:N=>d("password",N.target.value),className:`appearance-none block w-full pl-10 pr-12 py-3 bg-white/5 border rounded-xl placeholder-blue-200 text-white focus:outline-none focus:ring-2 focus:bg-white/10 transition-all duration-200 sm:text-sm backdrop-blur-sm ${g.password?"border-red-400 focus:ring-red-400/50 focus:border-red-400":"border-white/20 focus:ring-white/50 focus:border-white/50"}`,placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:h,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-blue-300 hover:text-white focus:outline-none focus:text-white transition-all duration-200 p-1 rounded-lg hover:bg-white/10","aria-label":a?"Hide password":"Show password",children:a?s.jsx(qh,{className:"h-5 w-5"}):s.jsx(Ur,{className:"h-5 w-5"})})]}),g.password&&s.jsxs("div",{className:"mt-2 text-red-300 text-xs flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-xs",children:"!"})}),g.password]})]}),o&&s.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-3 backdrop-blur-sm",children:s.jsxs("div",{className:"text-red-100 text-sm text-center flex items-center justify-center",children:[s.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-xs",children:"!"})}),o]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-blue-900 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-900 mr-2"}),"Signing in..."]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gn,{className:"w-5 h-5 mr-2"}),"Login as Super Admin"]})})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-white/20"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-3 bg-blue-900/50 text-blue-200 rounded-full border border-white/20 backdrop-blur-sm",children:"Demo Credentials"})})]}),s.jsx("div",{className:"mt-4 p-4 bg-white/5 rounded-xl border border-white/10 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center text-blue-100 text-sm space-y-1",children:[s.jsxs("p",{className:"flex items-center justify-center",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"superadmin@example.com"]}),s.jsxs("p",{className:"flex items-center justify-center",children:[s.jsx(ql,{className:"w-4 h-4 mr-2"}),"password"]})]})})]})]})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-blue-200 text-sm",children:" 2024 CRM Super Admin Panel. Secure access only."})})]})]})},Z={getDashboard:()=>I.get("/superadmin/dashboard"),getCompanies:()=>I.get("/superadmin/companies"),getCompany:e=>I.get(`/superadmin/companies/${e}`),createCompany:e=>I.post("/superadmin/companies",e),updateCompany:(e,t)=>I.put(`/superadmin/companies/${e}`,t),deleteCompany:e=>I.delete(`/superadmin/companies/${e}`),getCompanyUsers:()=>I.get("/superadmin/company-users"),getCompanyUser:e=>I.get(`/superadmin/company-users/${e}`),createCompanyUser:e=>I.post("/superadmin/company-users",e),updateCompanyUser:(e,t)=>I.put(`/superadmin/company-users/${e}`,t),deleteCompanyUser:e=>I.delete(`/superadmin/company-users/${e}`),getUsersByRole:e=>I.get(`/superadmin/company-users/by-role/${e}`),getCustomers:()=>I.get("/superadmin/customers"),getCustomer:e=>I.get(`/superadmin/customers/${e}`),createCustomer:e=>I.post("/superadmin/customers",e),updateCustomer:(e,t)=>I.put(`/superadmin/customers/${e}`,t),deleteCustomer:e=>I.delete(`/superadmin/customers/${e}`),searchCustomers:e=>I.get(`/superadmin/customers/search?q=${e}`),getParts:()=>I.get("/superadmin/parts"),getPart:e=>I.get(`/superadmin/parts/${e}`),createPart:e=>I.post("/superadmin/parts",e),updatePart:(e,t)=>I.put(`/superadmin/parts/${e}`,t),deletePart:e=>I.delete(`/superadmin/parts/${e}`),searchParts:e=>I.get(`/superadmin/parts/search?description=${e}`),getOrders:()=>I.get("/superadmin/orders"),getOrder:e=>I.get(`/superadmin/orders/${e}`),createOrder:e=>I.post("/superadmin/orders",e),updateOrder:(e,t)=>I.put(`/superadmin/orders/${e}`,t),deleteOrder:e=>I.delete(`/superadmin/orders/${e}`),searchOrders:e=>I.get(`/superadmin/orders/search?po_no=${e}`),getOrdersByCustomer:e=>I.get(`/superadmin/orders/by-customer/${e}`),getOrdersByPart:e=>I.get(`/superadmin/orders/by-part/${e}`),getDeliveryChallans:(e=1)=>I.get(`/superadmin/delivery-challans?page=${e}`),getDeliveryChallan:e=>I.get(`/superadmin/delivery-challans/${e}`),createDeliveryChallan:e=>I.post("/superadmin/delivery-challans",e),updateDeliveryChallan:(e,t)=>I.put(`/superadmin/delivery-challans/${e}`,t),deleteDeliveryChallan:e=>I.delete(`/superadmin/delivery-challans/${e}`),getDeliveryChallansByPart:e=>I.get(`/superadmin/delivery-challans/by-part?part_id=${e}`),login:e=>I.post("/auth/login",e),getMe:()=>I.get("/auth/me"),logout:()=>I.post("/auth/logout")},uc=()=>{const[e,t]=b.useState({totalCompanies:0,totalCompanyUsers:0,totalCustomers:0,totalParts:0,totalOrders:0,totalDeliveryChallans:0,totalRevenue:0,monthlyRevenue:0,revenueGrowth:0,avgOrderValue:0,conversionRate:0,systemHealth:0,activeUsers:0,roleSummary:{superadmin:0,admin:0,supervisor:0,operator:0}}),[r,n]=b.useState([]),[a,l]=b.useState({labels:[],values:[]}),[o,c]=b.useState(!0),i=ms(),u=()=>{i("/companies")},g=()=>{i("/reports")},f=()=>{i("/orders")};b.useEffect(()=>{(async()=>{try{const j=await Z.getDashboard();if(j.success&&j.data){const{summary:h,role_summary:d}=j.data,m={totalCompanies:h.total_companies||0,totalCompanyUsers:h.total_company_users||0,totalCustomers:h.total_customers||0,totalParts:h.total_parts||0,totalOrders:h.total_orders||0,totalDeliveryChallans:h.total_delivery_challans||0,totalRevenue:h.total_orders*5e3,monthlyRevenue:Math.floor((h.total_orders||0)*500),revenueGrowth:12.5,avgOrderValue:5e3,conversionRate:68.4,systemHealth:98.7,activeUsers:h.total_company_users||0,roleSummary:{superadmin:(d==null?void 0:d.superadmin)||0,admin:(d==null?void 0:d.admin)||0,supervisor:(d==null?void 0:d.supervisor)||0,operator:(d==null?void 0:d.operator)||0}};t(m)}else t({totalCompanies:18,totalCompanyUsers:32,totalCustomers:6,totalParts:6,totalOrders:9,totalDeliveryChallans:3,totalRevenue:45e3,monthlyRevenue:4500,revenueGrowth:12.5,avgOrderValue:5e3,conversionRate:68.4,systemHealth:98.7,activeUsers:32,roleSummary:{superadmin:1,admin:8,supervisor:11,operator:13}});const k=[{month:"Jan",revenue:35e3,orders:95,growth:8.2},{month:"Feb",revenue:42e3,orders:110,growth:20},{month:"Mar",revenue:38e3,orders:105,growth:-9.5},{month:"Apr",revenue:51e3,orders:135,growth:34.2},{month:"May",revenue:47e3,orders:125,growth:-7.8},{month:"Jun",revenue:72e3,orders:180,growth:53.2},{month:"Jul",revenue:68e3,orders:175,growth:-5.6},{month:"Aug",revenue:75e3,orders:190,growth:10.3},{month:"Sep",revenue:71e3,orders:185,growth:-5.3},{month:"Oct",revenue:78e3,orders:195,growth:9.9},{month:"Nov",revenue:82e3,orders:205,growth:5.1},{month:"Dec",revenue:89e3,orders:220,growth:8.5}],E={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],values:[25,32,28,45,38,52,48,65,58,72,68,85],colors:["#1e40af","#3b82f6","#60a5fa","#93c5fd","#bfdbfe","#dbeafe","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#1e40af","#1e3a8a"]};n(k),l(E)}catch(j){console.error("Error fetching dashboard stats:",j)}finally{c(!1)}})()},[]);const v=[{title:"Total Revenue",value:`${e.totalRevenue.toLocaleString()}`,icon:zh,color:"text-green-600",bgColor:"bg-gradient-to-r from-green-500 to-green-600",trend:e.revenueGrowth,trendLabel:"vs last month"},{title:"Total Companies",value:e.totalCompanies,icon:zl,color:"text-blue-600",bgColor:"bg-gradient-to-r from-blue-500 to-blue-600",trend:8.3,trendLabel:"new this month"},{title:"Total Customers",value:e.totalCustomers,icon:xt,color:"text-purple-600",bgColor:"bg-gradient-to-r from-purple-500 to-purple-600",trend:15.2,trendLabel:"vs last week"},{title:"System Health",value:`${e.systemHealth}%`,icon:Rh,color:"text-emerald-600",bgColor:"bg-gradient-to-r from-emerald-500 to-emerald-600",trend:.5,trendLabel:"uptime score"},{title:"Total Parts",value:e.totalParts,icon:ht,color:"text-orange-600",bgColor:"bg-gradient-to-r from-orange-500 to-orange-600",trend:5.2,trendLabel:"vs last month"},{title:"Total Orders",value:e.totalOrders,icon:gr,color:"text-indigo-600",bgColor:"bg-gradient-to-r from-indigo-500 to-indigo-600",trend:12.8,trendLabel:"this month"}];return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6 animate-fade-in-scale",children:[s.jsxs("div",{className:"animate-slide-in-up",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Welcome to the CRM Super Admin Panel. Here's an overview of your system."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 animate-slide-in-up",style:{animationDelay:"200ms"},children:v.map((x,j)=>{const k=x.icon,E=x.trend&&x.trend>0?Bl:dc,h=x.trend&&x.trend>0?"text-green-600":"text-red-600";return s.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-100",style:{animationDelay:`${j*100}ms`},children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-xl ${x.bgColor} shadow-lg`,children:s.jsx(k,{className:"h-7 w-7 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:x.title}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900 mt-1",children:x.value})]})]}),x.trend&&s.jsxs("div",{className:`flex items-center ${h}`,children:[s.jsx(E,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm font-semibold",children:[Math.abs(x.trend),"%"]})]})]}),x.trendLabel&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:x.trendLabel})]})},x.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-slide-in-up",style:{animationDelay:"400ms"},children:[s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Monthly revenue over the last 12 months"})]}),s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx($l,{className:"h-6 w-6 text-green-600"})})]}),s.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:r.map((x,j)=>{const k=Math.max(...r.map(h=>h.revenue)),E=x.revenue/k*100;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 text-xs font-medium text-gray-600",children:x.month}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-1000 ease-out",style:{width:`${E}%`,animationDelay:`${j*100}ms`}})})})]}),s.jsxs("div",{className:"text-right ml-3",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",x.revenue.toLocaleString()]}),s.jsxs("div",{className:`text-xs flex items-center ${x.growth>0?"text-green-600":"text-red-600"}`,children:[x.growth>0?s.jsx(Bl,{className:"h-3 w-3 mr-1"}):s.jsx(dc,{className:"h-3 w-3 mr-1"}),Math.abs(x.growth),"%"]})]})]},x.month)})})]}),s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Company Growth"}),s.jsx("p",{className:"text-sm text-gray-500",children:"New customer registrations over the year"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.totalCustomers}),s.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"total customers"})]})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx($l,{className:"h-6 w-6 text-blue-600"})})]}),s.jsxs("div",{className:"relative h-80 overflow-x-auto overflow-y-hidden scrollbar-hide",children:[s.jsx("div",{className:"absolute inset-0 flex items-end justify-between min-w-max px-4 py-2",children:a.values.map((x,j)=>{const k=Math.max(...a.values),E=Math.min(...a.values),h=Math.max(k-E,1),y=(25+(x-E)/h*65)/100*280;return s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 mx-3",children:[s.jsxs("div",{className:"relative mb-3",style:{height:"280px"},children:[s.jsx("div",{className:"w-8 bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-lg transition-all duration-700 ease-out hover:from-blue-700 hover:to-blue-500 hover:scale-110 shadow-md hover:shadow-lg cursor-pointer absolute bottom-0",style:{height:`${y}px`,animationDelay:`${j*50}ms`},title:`${a.labels[j]}: ${x} companies`}),s.jsx("div",{className:"absolute text-xs font-bold text-gray-800 opacity-0 hover:opacity-100 transition-opacity duration-200 bg-white px-1 rounded shadow-sm",style:{bottom:`${y+8}px`},children:x})]}),s.jsx("div",{className:"text-xs text-gray-600 font-semibold text-center leading-tight mb-1",children:a.labels[j]}),s.jsx("div",{className:"text-xs text-gray-900 font-bold text-center leading-tight",children:x})]},j)})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gray-300"})]})]})]}),s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100 animate-slide-in-up",style:{animationDelay:"600ms"},children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Jh,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Quick Actions"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("button",{onClick:u,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(zl,{className:"h-6 w-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900",children:"Add New Company"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Register a new company account"})]})]})}),s.jsx("button",{onClick:g,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(xt,{className:"h-6 w-6 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-green-900",children:"View Reports"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Generate system analytics"})]})]})}),s.jsx("button",{onClick:f,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(gr,{className:"h-6 w-6 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-900",children:"Process Orders"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Review pending orders"})]})]})})]})]}),s.jsx("div",{className:"bg-white shadow-lg rounded-xl border border-gray-100 animate-slide-in-up",style:{animationDelay:"800ms"},children:s.jsxs("div",{className:"px-6 py-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Qn,{className:"h-5 w-5 text-blue-600 mr-2"}),"Recent Activity"]}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-green-50 border border-green-100 hover:bg-green-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New company registered"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:'"TechCorp Solutions" joined the platform with admin access'}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"2 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-green-600 font-medium",children:"Success"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-blue-50 border border-blue-100 hover:bg-blue-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(gr,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Order completed"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Order #ORD-12345 processed successfully for GlobalTech Inc."}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"4 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-blue-600 font-medium",children:"2,450.00"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-orange-50 border border-orange-100 hover:bg-orange-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(ht,{className:"w-5 h-5 text-orange-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Delivery challan generated"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"DC-001 created and dispatched for InnovateLabs order"}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"6 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-orange-600 font-medium",children:"In Transit"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-purple-50 border border-purple-100 hover:bg-purple-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(xt,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"User permissions updated"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Admin privileges granted to new team member at DataFlow Systems"}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"8 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-purple-600 font-medium",children:"Security"})]})]})]})]})]})})]})},Yh=({isOpen:e,onClose:t,onSubmit:r})=>{const[n,a]=b.useState({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),[l,o]=b.useState(!1),[c,i]=b.useState({}),u=x=>{const{name:j,value:k,type:E}=x.target;a(h=>({...h,[j]:E==="checkbox"?x.target.checked:k})),c[j]&&i(h=>({...h,[j]:void 0}))},g=()=>{const x={};return n.company_name.trim()?n.company_name.trim().length<2?x.company_name="Company name must be at least 2 characters":n.company_name.trim().length>200?x.company_name="Company name must be less than 200 characters":/^[a-zA-Z0-9\s&.,'-]+$/.test(n.company_name.trim())||(x.company_name="Company name contains invalid characters"):x.company_name="Company name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.email.trim().length>255&&(x.email="Email must be less than 255 characters"):x.email="Invalid email format":x.email="Email is required",n.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(n.phone.replace(/\s/g,""))?n.phone.replace(/\D/g,"").length<10?x.phone="Phone number must be at least 10 digits":n.phone.replace(/\D/g,"").length>15&&(x.phone="Phone number must be less than 15 digits"):x.phone="Invalid phone number format":x.phone="Phone number is required",n.address.trim()?n.address.trim().length<10?x.address="Address must be at least 10 characters":n.address.trim().length>500&&(x.address="Address must be less than 500 characters"):x.address="Address is required",n.gst_no.trim()?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$/.test(n.gst_no.replace(/\s/g,"").toUpperCase())?n.gst_no.replace(/\s/g,"").length!==15&&(x.gst_no="GST number must be exactly 15 characters"):x.gst_no="Invalid GST number format (e.g., 27ABCDE1234F1Z5)":x.gst_no="GST number is required",i(x),Object.keys(x).length===0},f=async x=>{if(x.preventDefault(),!!g()){o(!0);try{await r(n),a({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),i({}),t()}catch(j){console.error("Error submitting form:",j)}finally{o(!1)}}},v=()=>{a({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),i({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Company"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("form",{id:"company-form",onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company_name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",id:"company_name",name:"company_name",value:n.company_name,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.company_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter company name"}),c.company_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.company_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.email?"border-red-300":"border-gray-300"}`,placeholder:"company@example.com"}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:n.address,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.phone?"border-red-300":"border-gray-300"}`,placeholder:"+1-555-0123"}),c.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:n.gst_no,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"GST1234567890"}),c.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.gst_no})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:n.is_active,onChange:u,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",form:"company-form",disabled:l,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:l?"Adding...":"Add Company"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:v,children:"Cancel"})]})]})]})}):null},zu=({isOpen:e,onClose:t,onSubmit:r,company:n})=>{const[a,l]=b.useState({comp_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),[o,c]=b.useState(!1),[i,u]=b.useState({});b.useEffect(()=>{n&&l({comp_name:n.comp_name,email:n.email,address:n.address,phone:n.phone,gst_no:n.gst_no,is_active:n.is_active})},[n]);const g=j=>{const{name:k,value:E,type:h}=j.target;l(d=>({...d,[k]:h==="checkbox"?j.target.checked:E})),i[k]&&u(d=>({...d,[k]:void 0}))},f=()=>{const j={};return a.comp_name.trim()?a.comp_name.trim().length<2?j.comp_name="Company name must be at least 2 characters":a.comp_name.trim().length>200?j.comp_name="Company name must be less than 200 characters":/^[a-zA-Z0-9\s&.,'-]+$/.test(a.comp_name.trim())||(j.comp_name="Company name contains invalid characters"):j.comp_name="Company name is required",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.email.trim().length>255&&(j.email="Email must be less than 255 characters"):j.email="Invalid email format":j.email="Email is required",a.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phone.replace(/\s/g,""))?a.phone.replace(/\D/g,"").length<10?j.phone="Phone number must be at least 10 digits":a.phone.replace(/\D/g,"").length>15&&(j.phone="Phone number must be less than 15 digits"):j.phone="Invalid phone number format":j.phone="Phone number is required",a.address.trim()?a.address.trim().length<10?j.address="Address must be at least 10 characters":a.address.trim().length>500&&(j.address="Address must be less than 500 characters"):j.address="Address is required",a.gst_no.trim()?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$/.test(a.gst_no.replace(/\s/g,"").toUpperCase())?a.gst_no.replace(/\s/g,"").length!==15&&(j.gst_no="GST number must be exactly 15 characters"):j.gst_no="Invalid GST number format (e.g., 27ABCDE1234F1Z5)":j.gst_no="GST number is required",u(j),Object.keys(j).length===0},v=async j=>{if(j.preventDefault(),!!f()){c(!0);try{await r(a),t()}catch(k){console.error("Error submitting form:",k)}finally{c(!1)}}},x=()=>{u({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Company"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("form",{id:"edit-company-form",onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",id:"comp_name",name:"comp_name",value:a.comp_name,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.comp_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter company name"}),i.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.email?"border-red-300":"border-gray-300"}`,placeholder:"company@example.com"}),i.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:a.address,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.phone?"border-red-300":"border-gray-300"}`,placeholder:"+1-555-0123"}),i.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:a.gst_no,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"GST1234567890"}),i.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.gst_no})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:g,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",form:"edit-company-form",disabled:o,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:o?"Updating...":"Update Company"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:x,children:"Cancel"})]})]})]})})},e0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState("all"),[i,u]=b.useState(!0),[g,f]=b.useState(!1),[v,x]=b.useState(!1),[j,k]=b.useState(null),{addToast:E}=Fu(),h=ms();b.useEffect(()=>{(async()=>{try{const w=await Z.getCompanies();let S=[];w.success&&(Array.isArray(w.data)?S=w.data:w.data&&Array.isArray(w.data.data)&&(S=w.data.data));const D=S.map(L=>({id:L.id,comp_name:L.comp_name||L.company_name||"",email:L.email||"",address:L.address||"",phone:L.phno||L.phone||"",gst_no:L.gst||L.gst_no||"",code:L.code||L.company_code||"",phno:L.phno||L.phone||"",is_active:L.status==="active"||L.is_active||!1,created_at:L.created_at||new Date().toISOString(),updated_at:L.updated_at||new Date().toISOString()})).sort((L,A)=>new Date(A.created_at).getTime()-new Date(L.created_at).getTime());t(D),n(D)}catch(w){console.error("Error fetching companies:",w),t([]),n([])}finally{u(!1)}})()},[]),b.useEffect(()=>{let p=e;a&&(p=p.filter(w=>w.comp_name.toLowerCase().includes(a.toLowerCase())||w.email.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(p=p.filter(w=>o==="active"?w.is_active:!w.is_active)),n(p)},[e,a,o]);const d=p=>{k(p),x(!0)},m=async p=>{try{const w=!p.is_active,S=`Are you sure you want to ${w?"activate":"deactivate"} "${p.comp_name}"?`;window.confirm(S)&&((await Z.updateCompany(p.id,{...p,is_active:w})).success?(t(D=>D.map(L=>L.id===p.id?{...L,is_active:w}:L)),E(`Company ${w?"activated":"deactivated"} successfully`,"success")):E("Failed to update company status","error"))}catch(w){console.error("Error toggling company status:",w),E("Error updating company status","error")}},y=async p=>{const w=e.find(S=>S.id.toString()===p);if(w){const S=`Are you sure you want to delete "${w.comp_name}"? This action cannot be undone.`;if(confirm(S))try{if((await Z.deleteCompany(parseInt(p))).success){const D=await Z.getCompanies();if(D.success){let L=[];Array.isArray(D.data)?L=D.data:D.data&&Array.isArray(D.data.data)&&(L=D.data.data);const X=L.map(T=>({id:T.id,comp_name:T.comp_name||T.company_name||"",email:T.email||"",address:T.address||"",phone:T.phno||T.phone||"",gst_no:T.gst||T.gst_no||"",code:T.code||T.company_code||"",phno:T.phno||T.phone||"",is_active:T.status==="active"||T.is_active||!1,created_at:T.created_at||new Date().toISOString(),updated_at:T.updated_at||new Date().toISOString()})).sort((T,H)=>new Date(H.created_at).getTime()-new Date(T.created_at).getTime());t(X),n(X)}}}catch(O){console.error("Error deleting company:",O),alert("Failed to delete company")}}},_=()=>{f(!0)},N=async p=>{try{if((await Z.createCompany({comp_name:p.company_name,email:p.email,address:p.address,phno:p.phone,gst:p.gst_no,status:p.is_active?"active":"inactive"})).success){const S=await Z.getCompanies();if(S.success){let O=[];Array.isArray(S.data)?O=S.data:S.data&&Array.isArray(S.data.data)&&(O=S.data.data);const L=O.map(A=>({id:A.id,comp_name:A.comp_name||A.company_name||"",email:A.email||"",address:A.address||"",phone:A.phno||A.phone||"",gst_no:A.gst||A.gst_no||"",code:A.code||A.company_code||"",is_active:A.status==="active"||A.is_active||!1,created_at:A.created_at||new Date().toISOString(),updated_at:A.updated_at||new Date().toISOString()})).sort((A,X)=>new Date(X.created_at).getTime()-new Date(A.created_at).getTime());t(L),n(L)}f(!1)}}catch(w){console.error("Error creating company:",w),alert(w instanceof Error?w.message:"Failed to create company")}},C=async p=>{if(j)try{if((await Z.updateCompany(j.id,{comp_name:p.company_name,email:p.email,address:p.address,phno:p.phone,gst:p.gst_no,status:p.is_active?"active":"inactive"})).success){x(!1),k(null);const S=await Z.getCompanies();if(S.success){let O=[];Array.isArray(S.data)?O=S.data:S.data&&Array.isArray(S.data.data)&&(O=S.data.data);const L=O.map(A=>({id:A.id,comp_name:A.comp_name||A.company_name||"",email:A.email||"",address:A.address||"",phone:A.phno||A.phone||"",gst_no:A.gst||A.gst_no||"",code:A.code||A.company_code||"",is_active:A.status==="active"||A.is_active||!1,created_at:A.created_at||new Date().toISOString(),updated_at:A.updated_at||new Date().toISOString()})).sort((A,X)=>new Date(X.created_at).getTime()-new Date(A.created_at).getTime());t(L),n(L)}}}catch(w){console.error("Error updating company:",w),alert(w instanceof Error?w.message:"Failed to update company")}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Companies"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all companies in the system"})]}),s.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900",children:[s.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search companies...",value:a,onChange:p=>l(p.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:p=>c(p.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.comp_name})})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.code||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[p.is_active?s.jsx("span",{className:"w-4 h-4 mr-1",children:""}):s.jsx("span",{className:"w-4 h-4 mr-1",children:""}),p.is_active?"Active":"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.address||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>m(p),className:`p-1 rounded transition-colors ${p.is_active?"text-orange-600 hover:text-orange-900 hover:bg-orange-50":"text-green-600 hover:text-green-900 hover:bg-green-50"}`,title:p.is_active?"Deactivate Company":"Activate Company",children:p.is_active?s.jsx(Hh,{className:"h-4 w-4"}):s.jsx(Wh,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>h(`/companies/${p.id}`),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(p),className:"text-yellow-600 hover:text-yellow-900 p-1",title:"Edit",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>y(p.id.toString()),className:"p-1 text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(Vt,{className:"h-4 w-4"})})]})})]},p.id))})]})})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No companies found matching your criteria."})})]}),g&&s.jsx(Yh,{isOpen:g,onClose:()=>f(!1),onSubmit:N}),v&&s.jsx(zu,{isOpen:v,onClose:()=>{x(!1),k(null)},onSubmit:C,company:j})]})},wt={getAllCustomers:async()=>I.get("/customers"),getCustomerById:async e=>I.get(`/customers/${e}`),createCustomer:async e=>I.post("/customers",e),updateCustomer:async(e,t)=>I.put(`/customers/${e}`,t),toggleCustomerStatus:async e=>I.patch(`/customers/${e}/toggle-status`),deleteCustomer:async e=>I.delete(`/customers/${e}`),searchCustomers:async e=>I.get(`/customers?search=${encodeURIComponent(e)}`)},Ks={getAllParts:async()=>I.get("/parts"),createPart:async e=>I.post("/parts",e),updatePart:async(e,t)=>I.put(`/parts/${e}`,t),deletePart:async e=>I.delete(`/parts/${e}`),searchParts:async e=>I.get(`/parts/search?description=${encodeURIComponent(e)}`)},ot={getAllCompanies:async()=>I.get("/companies"),getCompanyById:async e=>I.get(`/companies/${e}`),createCompany:async e=>I.post("/companies",e),updateCompany:async(e,t)=>I.put(`/companies/${e}`,t),toggleCompanyStatus:async e=>I.patch(`/companies/${e}/toggle-status`),deleteCompany:async e=>I.delete(`/companies/${e}`)},Vo={getAllOrders:async()=>{const e=Date.now();return I.get(`/orders?t=${e}`)},getOrderById:async e=>I.get(`/orders/${e}`),createOrder:async e=>I.post("/orders",e),updateOrder:async(e,t)=>I.put(`/orders/${e}`,t),deleteOrder:async e=>I.delete(`/orders/${e}`),searchOrdersByCompany:async e=>I.get(`/orders/search?company=${encodeURIComponent(e)}`)},t0={getAllAdmins:async()=>I.get("/company-users"),getAdminById:async e=>I.get(`/company-users/${e}`),createAdmin:async e=>I.post("/company-users",e),updateAdmin:async(e,t)=>I.put(`/company-users/${e}`,t),toggleAdminStatus:async e=>I.patch(`/company-users/${e}/toggle-status`),deleteAdmin:async e=>I.delete(`/company-users/${e}`),resetPassword:async(e,t)=>I.post(`/company-users/${e}/reset-password`,{password:t})},s0=()=>{const{id:e}=Qf(),t=ms(),[r,n]=b.useState(null),[a,l]=b.useState(!0),[o,c]=b.useState(!1),[i,u]=b.useState("overview"),[g,f]=b.useState([]),[v,x]=b.useState([]),[j,k]=b.useState([]),[E,h]=b.useState([]),[d,m]=b.useState([]),[y,_]=b.useState([]),[N,C]=b.useState(!1);b.useEffect(()=>{e&&p(e)},[e]);const p=async P=>{try{const q=await ot.getCompanyById(parseInt(P));q.success?(n(q.data),await w(q.data)):n(null)}catch(q){console.error("Error fetching company:",q),n(null)}finally{l(!1)}},w=async P=>{var q,G,Le,M,V;try{C(!0);const[K,Re,U,Ce,fs]=await Promise.all([wt.getAllCustomers(),Vo.getAllOrders(),Z.getDeliveryChallans(),Ks.getAllParts(),t0.getAllAdmins()]);if(K.success){const ct=(Array.isArray(K.data)?K.data:((q=K.data)==null?void 0:q.data)||[]).filter(Oe=>Oe.comp_name===P.comp_name||Oe.comp_name===P.comp_name);f(ct)}if(Re.success){const ct=(Array.isArray(Re.data)?Re.data:((G=Re.data)==null?void 0:G.data)||[]).filter(Oe=>{var Ue;return((Ue=Oe.customer)==null?void 0:Ue.comp_name)===P.comp_name||Oe.comp_name===P.comp_name});x(ct)}if(U.success){const ct=(Array.isArray(U.data)?U.data:((Le=U.data)==null?void 0:Le.data)||[]).filter(Oe=>Oe.comp_name===P.comp_name||Oe.to===P.comp_name||Oe.comp_name===P.comp_name);k(ct)}if(Ce.success){const ct=(Array.isArray(Ce.data)?Ce.data:((M=Ce.data)==null?void 0:M.data)||[]).filter(Oe=>{var Ue;return((Ue=Oe.customer)==null?void 0:Ue.name)===P.comp_name});h(ct)}if(fs.success){const Zt=Array.isArray(fs.data)?fs.data:((V=fs.data)==null?void 0:V.data)||[],ct=Zt.filter(Ue=>Ue.company===P.comp_name&&(Ue.role==="supervisor"||Ue.role==="manager")),Oe=Zt.filter(Ue=>Ue.company===P.comp_name&&Ue.role==="operator");m(ct),_(Oe)}}catch(K){console.error("Error fetching company data:",K)}finally{C(!1)}},S=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[s.jsx("div",{className:"bg-blue-900 px-6 py-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.comp_name)||""}),s.jsx("div",{className:"flex items-center mt-2",children:r!=null&&r.is_active?s.jsxs("span",{className:"flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Bt,{className:"w-4 h-4 mr-1"}),"Active"]}):s.jsxs("span",{className:"flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(ha,{className:"w-4 h-4 mr-1"}),"Inactive"]})})]})})}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ul,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.email)||""})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Mu,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.phone)||""})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Vh,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Address"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.address)||"No address provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(ht,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"GST Number"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.gst_no)||""})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Customers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Delivery Challans"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Staff"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.length+y.length})]})]})]}),O=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Customers (",g.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:P.address}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.created_at).toLocaleDateString()})]},P.id))})]}),g.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No customers found for this company"})]})]}),D=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Orders (",v.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(P=>{var q,G;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.po_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((q=P.customer)==null?void 0:q.name)||`Customer ${P.customer_id}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((G=P.part)==null?void 0:G.part_description)||`Part ${P.part_id}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.po_qty}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",P.price]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.po_received?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P.po_received?"Received":"Pending"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.po_date?new Date(P.po_date).toLocaleDateString():"N/A"})]},P.id)})})]}),v.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders found for this company"})]})]}),L=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Delivery Challans (",j.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.challanNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.company}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.orderId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.createdDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.status==="delivered"?"bg-green-100 text-green-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.status||"pending"})})]},P.id))})]}),j.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No delivery challans found for this company"})]})]}),A=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Parts (",E.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drawing No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rev No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Wt"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thickness"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.drawing_no}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:P.part_description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.rev_no||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.net_wt||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.thickness||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.raw_material||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.lead_time||"N/A"})]},P.id))})]}),E.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No parts found for this company"})]})]}),X=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Supervisors (",d.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.is_active?"Active":"Inactive"})})]},P.email))})]}),d.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No supervisors found for this company"})]})]}),T=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Operators (",y.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.is_active?"Active":"Inactive"})})]},P.email))})]}),y.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No operators found for this company"})]})]}),H=()=>{c(!0)},F=async P=>{if(r)try{(await ot.updateCompany(r.id,{comp_name:P.comp_name,email:P.email,address:P.address,phno:P.phone,gst:P.gst_no,status:P.is_active?"active":"inactive"})).success&&(c(!1),await p(r.id.toString()))}catch(q){console.error("Error updating company:",q),alert("Failed to update company")}},z=async()=>{if(!r)return;const P=r.is_active?`Are you sure you want to deactivate "${r.comp_name}"?`:`Are you sure you want to activate "${r.comp_name}"?`;if(confirm(P))try{(await ot.toggleCompanyStatus(r.id)).success&&await p(r.id.toString())}catch(q){console.error("Error updating company status:",q),alert("Failed to update company status")}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading company details..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{onClick:()=>t("/companies"),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[s.jsx(Fh,{className:"h-5 w-5 mr-2"}),"Back to Companies"]}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Company Details"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:H,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx("button",{onClick:z,className:`flex items-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium ${r.is_active?"border-red-300 text-red-700 bg-white hover:bg-red-50":"border-green-300 text-green-700 bg-white hover:bg-green-50"}`,children:r.is_active?s.jsxs(s.Fragment,{children:[s.jsx(Ih,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Activate"]})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:ht},{id:"customers",label:"Customers",icon:xt},{id:"orders",label:"Orders",icon:Es},{id:"challans",label:"Delivery Challans",icon:ht},{id:"parts",label:"Parts",icon:$u},{id:"supervisors",label:"Supervisors",icon:xt},{id:"operators",label:"Operators",icon:xt}].map(P=>s.jsxs("button",{onClick:()=>u(P.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(P.icon,{className:"h-4 w-4 mr-2"}),P.label]},P.id))})}),s.jsxs("div",{children:[i==="overview"&&S(),i==="customers"&&O(),i==="orders"&&D(),i==="challans"&&L(),i==="parts"&&A(),i==="supervisors"&&X(),i==="operators"&&T()]})]})}),o&&s.jsx(zu,{isOpen:o,onClose:()=>c(!1),onSubmit:F,company:r})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Company not found"}),s.jsx("button",{onClick:()=>t("/companies"),className:"px-4 py-2 bg-blue-900 text-white rounded-md hover:bg-blue-800",children:"Back to Companies"})]})})},r0=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=b.useState({name:"",email:"",phone:"",role:"admin",comp_code:"",password:"",password_confirmation:"",is_active:!0}),[l,o]=b.useState(!1),[c,i]=b.useState({}),[u,g]=b.useState([]),[f,v]=b.useState(null),[x,j]=b.useState(!1),k=_=>{const{name:N,value:C,type:p}=_.target;a(w=>({...w,[N]:p==="checkbox"?_.target.checked:C})),c[N]&&i(w=>({...w,[N]:""}))},E=async _=>{const N=_.target.value,C=u.find(p=>p.id.toString()===N);C?(v(C),a(p=>({...p,comp_code:C.code}))):(v(null),a(p=>({...p,comp_code:""})))};b.useEffect(()=>{e&&h()},[e]);const h=async()=>{j(!0);try{console.log("Fetching companies from API...");const _=await Z.getCompanies();if(console.log("Companies API response:",_),_.success&&Array.isArray(_.data)){const N=_.data;console.log("Companies data extracted:",N),g(N)}else console.error("Invalid response structure:",_),g([])}catch(_){console.error("Error fetching companies:",_),g([])}finally{j(!1)}},d=()=>{const _={};return n.name.trim()?n.name.trim().length<2?_.name="Name must be at least 2 characters":n.name.trim().length>100?_.name="Name must be less than 100 characters":/^[a-zA-Z\s]+$/.test(n.name.trim())||(_.name="Name can only contain letters and spaces"):_.name="Name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.email.trim().length>255&&(_.email="Email must be less than 255 characters"):_.email="Invalid email format":_.email="Email is required",n.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(n.phone.replace(/\s/g,""))?n.phone.replace(/\D/g,"").length<10?_.phone="Phone number must be at least 10 digits":n.phone.replace(/\D/g,"").length>15&&(_.phone="Phone number must be less than 15 digits"):_.phone="Invalid phone number format":_.phone="Phone is required",n.role?["admin","supervisor","operator"].includes(n.role)||(_.role="Invalid role selected"):_.role="Role is required",n.password.trim()?n.password.length<8?_.password="Password must be at least 8 characters":n.password.length>128?_.password="Password must be less than 128 characters":/(?=.*[a-z])/.test(n.password)?/(?=.*[A-Z])/.test(n.password)?/(?=.*\d)/.test(n.password)?/(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(n.password)||(_.password="Password must contain at least one special character"):_.password="Password must contain at least one number":_.password="Password must contain at least one uppercase letter":_.password="Password must contain at least one lowercase letter":_.password="Password is required",n.password_confirmation.trim()?n.password!==n.password_confirmation&&(_.password_confirmation="Passwords do not match"):_.password_confirmation="Password confirmation is required",f&&!f.comp_name&&(_.comp_code="Invalid company selected"),i(_),Object.keys(_).length===0},m=async _=>{if(_.preventDefault(),!!d()){o(!0);try{const N={name:n.name,email:n.email,phone:n.phone,role:n.role,comp_name:(f==null?void 0:f.comp_name)||"",comp_code:n.comp_code,password:n.password,password_confirmation:n.password_confirmation,is_active:n.is_active};(await Z.createCompanyUser(N)).success&&(r(),y())}catch(N){console.error("Error creating admin:",N),alert("Failed to create admin")}finally{o(!1)}}},y=()=>{l||(a({name:"",email:"",phone:"",role:"admin",comp_code:"",password:"",password_confirmation:"",is_active:!0}),v(null),i({}),t())};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:y}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto scrollbar-hide",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Admin"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create a new administrator account"})]}),s.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",disabled:l,children:s.jsx(ke,{className:"h-6 w-6"})})]})}),s.jsxs("form",{onSubmit:m,className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.name?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Enter full name"}),c.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.email?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"admin@example.com"}),c.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.phone?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"+1234567890"}),c.phone&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.phone]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),s.jsxs("select",{value:(f==null?void 0:f.id)||"",onChange:E,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.comp_code?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l||x,children:[s.jsx("option",{value:"",children:"Select Company"}),u.map(_=>s.jsx("option",{value:_.id,children:_.comp_name},_.id))]}),f&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Company Code:"})," ",f.code]})}),c.comp_code&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.comp_code]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),s.jsxs("select",{name:"role",value:n.role,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.role?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,children:[s.jsx("option",{value:"",children:"Select Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"supervisor",children:"Supervisor"}),s.jsx("option",{value:"operator",children:"Operator"})]}),c.role&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.role]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),s.jsx("input",{type:"password",name:"password",value:n.password,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.password?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Min. 6 characters"}),c.password&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.password]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),s.jsx("input",{type:"password",name:"password_confirmation",value:n.password_confirmation,onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.password_confirmation?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Re-enter password"}),c.password_confirmation&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.password_confirmation]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:k,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:l}),s.jsxs("label",{className:"ml-3 block text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Active Account"}),s.jsx("span",{className:"text-gray-500 ml-1",children:"- User can login immediately"})]})]})}),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"* Required fields"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:y,className:"px-5 py-2.5 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 disabled:opacity-50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 disabled:opacity-50 transition-colors flex items-center",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Admin"})]})]})]})]})]})}):null},n0=({isOpen:e,onClose:t,onSuccess:r,admin:n})=>{const[a,l]=b.useState({name:n.name,email:n.email,phone:n.phone,role:n.role,is_active:n.is_active,comp_code:n.comp_code||""}),[o,c]=b.useState([]),[i,u]=b.useState(null),[g,f]=b.useState(""),[v,x]=b.useState(!1),[j,k]=b.useState({}),E=C=>{const{name:p,value:w,type:S}=C.target;l(O=>({...O,[p]:S==="checkbox"?C.target.checked:w})),j[p]&&k(O=>({...O,[p]:""}))},h=async C=>{const p=C.target.value,w=o.find(S=>S.id.toString()===p);w?(u(w),l(S=>({...S,comp_code:w.code}))):(u(null),l(S=>({...S,comp_code:""})))},d=async()=>{try{const C=await Z.getCompanies();C.success&&Array.isArray(C.data)&&c(C.data)}catch(C){console.error("Error fetching companies:",C)}};Gl.useEffect(()=>{e&&d()},[e]);const m=C=>{f(C.target.value),j.newPassword&&k(p=>({...p,newPassword:""}))},y=()=>{var p,w,S;const C={};return(p=a.name)!=null&&p.trim()?a.name.trim().length<2?C.name="Name must be at least 2 characters":a.name.trim().length>100?C.name="Name must be less than 100 characters":/^[a-zA-Z\s]+$/.test(a.name.trim())||(C.name="Name can only contain letters and spaces"):C.name="Name is required",(w=a.email)!=null&&w.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.email.trim().length>255&&(C.email="Email must be less than 255 characters"):C.email="Invalid email format":C.email="Email is required",(S=a.phone)!=null&&S.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phone.replace(/\s/g,""))?a.phone.replace(/\D/g,"").length<10?C.phone="Phone number must be at least 10 digits":a.phone.replace(/\D/g,"").length>15&&(C.phone="Phone number must be less than 15 digits"):C.phone="Invalid phone number format":C.phone="Phone is required",a.role?["admin","supervisor","operator"].includes(a.role)||(C.role="Invalid role selected"):C.role="Role is required",g&&(g.length<8?C.newPassword="Password must be at least 8 characters":g.length>128?C.newPassword="Password must be less than 128 characters":/(?=.*[a-z])/.test(g)?/(?=.*[A-Z])/.test(g)?/(?=.*\d)/.test(g)?/(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(g)||(C.newPassword="Password must contain at least one special character"):C.newPassword="Password must contain at least one number":C.newPassword="Password must contain at least one uppercase letter":C.newPassword="Password must contain at least one lowercase letter"),i&&!i.comp_name&&(C.comp_code="Invalid company selected"),k(C),Object.keys(C).length===0},_=async C=>{if(C.preventDefault(),!!y()){x(!0);try{const p={name:a.name,email:a.email,phone:a.phone,role:a.role,is_active:a.is_active,comp_name:(i==null?void 0:i.comp_name)||"",comp_code:a.comp_code};(await Z.updateCompanyUser(n.id,p)).success&&(g&&await Z.updateCompanyUser(n.id,{password:g}),r())}catch(p){console.error("Error updating admin:",p),alert("Failed to update admin")}finally{x(!1)}}},N=()=>{v||(l({name:n.name,email:n.email,phone:n.phone,role:n.role,is_active:n.is_active}),f(""),k({}),t())};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Admin"}),s.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-600",disabled:v,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:a.name,onChange:E,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.name?"border-red-500":"border-gray-300"}`,disabled:v}),j.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:E,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.email?"border-red-500":"border-gray-300"}`,disabled:v}),j.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:E,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.phone?"border-red-500":"border-gray-300"}`,disabled:v}),j.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),s.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:h,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.comp_code?"border-red-500":"border-gray-300"}`,disabled:v,children:[s.jsx("option",{value:"",children:"Select Company"}),o.map(C=>s.jsx("option",{value:C.id,children:C.comp_name},C.id))]}),i&&s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Company Code: ",s.jsx("span",{className:"font-medium",children:i.code})]}),j.comp_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.comp_code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role *"}),s.jsxs("select",{name:"role",value:a.role,onChange:E,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.role?"border-red-500":"border-gray-300"}`,disabled:v,children:[s.jsx("option",{value:"",children:"Select Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"super_admin",children:"Super Admin"}),s.jsx("option",{value:"manager",children:"Manager"})]}),j.role&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.role})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_active",id:"is_active",checked:a.is_active,onChange:E,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:v}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Reset Password"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (leave empty to keep current)"}),s.jsx("input",{type:"password",name:"newPassword",value:g,onChange:m,placeholder:"Enter new password",className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${j.newPassword?"border-red-500":"border-gray-300"}`,disabled:v}),j.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.newPassword})]})})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Updating...":"Update Admin"}),s.jsx("button",{type:"button",onClick:N,disabled:v,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})})}):null},a0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState("all"),[i,u]=b.useState("all"),[g,f]=b.useState(!0),[v,x]=b.useState(!1),[j,k]=b.useState(!1),[E,h]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{try{const p=await Z.getCompanyUsers();console.log("Company Admins API Response:",p);let w=[];p.success&&Array.isArray(p.data)&&(w=p.data),w.sort((S,O)=>new Date(O.created_at).getTime()-new Date(S.created_at).getTime()),t(w),n(w)}catch(p){console.error("Error fetching admins:",p),t([]),n([])}finally{f(!1)}};b.useEffect(()=>{let p=e;a&&(p=p.filter(w=>w.name&&w.name.toLowerCase().includes(a.toLowerCase())||w.email&&w.email.toLowerCase().includes(a.toLowerCase())||w.phone&&w.phone.toLowerCase().includes(a.toLowerCase())||w.company&&w.company.comp_name&&w.company.comp_name.toLowerCase().includes(a.toLowerCase())||w.role&&w.role.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(p=p.filter(w=>o==="active"?w.is_active:!w.is_active)),i!=="all"&&(p=p.filter(w=>w.company&&w.company.comp_name===i)),n(p)},[e,a,o,i]);const m=async p=>{const w=e.find(O=>O.id===p),S=w==null?void 0:w.is_active;try{(await Z.updateCompanyUser(p,{is_active:!S})).success&&await d()}catch(O){console.error("Error toggling admin status:",O),alert("Failed to update admin status")}},y=p=>{h(p),k(!0)},_=async p=>{if(window.confirm("Are you sure you want to delete this admin?"))try{(await Z.deleteCompanyUser(p)).success&&await d()}catch(w){console.error("Error deleting admin:",w),alert("Failed to delete admin")}},N=async()=>{x(!1),await d()},C=async()=>{k(!1),h(null),await d()};return g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Company Admins"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all company administrators in the system"})]}),s.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Add Admin"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search admins...",value:a,onChange:p=>l(p.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:p=>u(p.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"}),Array.from(new Set(e.filter(p=>p.company).map(p=>p.company.comp_name))).sort().map(p=>s.jsx("option",{value:p,children:p},p))]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:p=>c(p.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-900 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:p.name.split(" ").map(w=>w[0]).join("")})})}),s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.company?p.company.comp_name:"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.role==="admin"?"bg-blue-100 text-blue-800":p.role==="supervisor"?"bg-purple-100 text-purple-800":p.role==="operator"?"bg-gray-100 text-gray-800":p.role==="superadmin"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:p.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[p.is_active?s.jsx(Bt,{className:"w-4 h-4 mr-1"}):s.jsx(ha,{className:"w-4 h-4 mr-1"}),p.is_active?"Active":"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>y(p),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Admin",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>_(p.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Admin",children:s.jsx(Vt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>m(p.id),className:`p-1 ${p.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:p.is_active?"Deactivate Admin":"Activate Admin",children:s.jsx(Kh,{className:"h-4 w-4"})})]})})]},p.id))})]})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No company admins found matching your criteria."})})]}),v&&s.jsx(r0,{isOpen:v,onClose:()=>x(!1),onSuccess:N}),j&&E&&s.jsx(n0,{isOpen:j,onClose:()=>k(!1),onSuccess:C,admin:E})]})})},l0=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=b.useState({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:""}),[l,o]=b.useState([]),[c,i]=b.useState(!1),[u,g]=b.useState({});b.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const h=await ot.getAllCompanies();h.success&&Array.isArray(h.data)?o(h.data):o([])}catch(h){console.error("Error fetching companies:",h),o([])}},v=h=>{const{name:d,value:m}=h.target;a(y=>({...y,[d]:m})),u[d]&&g(y=>({...y,[d]:void 0}))},x=h=>{const d=l.find(m=>m.comp_name===h.target.value);d&&a(m=>({...m,comp_name:d.comp_name,comp_code:d.code})),u.comp_name&&g(m=>({...m,comp_name:void 0}))},j=()=>{const h={};return n.name.trim()||(h.name="Customer name is required"),n.address.trim()||(h.address="Address is required"),n.contact_no.trim()||(h.contact_no="Contact number is required"),n.gst_no.trim()||(h.gst_no="GST number is required"),n.comp_name.trim()||(h.comp_name="Company selection is required"),g(h),Object.keys(h).length===0},k=async h=>{if(h.preventDefault(),!!j()){i(!0);try{(await wt.createCustomer(n)).success&&(r(),E())}catch(d){console.error("Error creating customer:",d)}finally{i(!1)}}},E=()=>{a({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:""}),g({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:E,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:k,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Customer"}),s.jsx("button",{type:"button",onClick:E,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:v,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter customer name"}),u.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:v,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.address?"border-red-300":"border-gray-300"}`,placeholder:"Enter complete address"}),u.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.address})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact_no",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),s.jsx("input",{type:"text",id:"contact_no",name:"contact_no",value:n.contact_no,onChange:v,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.contact_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter contact number"}),u.contact_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.contact_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:n.gst_no,onChange:v,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter GST number"}),u.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.gst_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.comp_name?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a company"}),l.length>0?l.map(h=>s.jsx("option",{value:h.comp_name,children:h.comp_name},h.id)):s.jsx("option",{value:"",disabled:!0,children:"No companies available"})]}),u.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_code",className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",id:"comp_code",name:"comp_code",value:n.comp_code,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md shadow-sm bg-gray-50 text-gray-600 sm:text-sm",placeholder:"Auto-populated from company selection"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Company code is auto-populated when you select a company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:c,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating...":"Create Customer"}),s.jsx("button",{type:"button",onClick:E,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})]})}):null},o0=({isOpen:e,onClose:t,onSuccess:r,customer:n})=>{const[a,l]=b.useState({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:"",is_active:!0}),[o,c]=b.useState([]),[i,u]=b.useState(!1),[g,f]=b.useState({});b.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const m=await ot.getAllCompanies();m.success&&Array.isArray(m.data)?c(m.data):c([])}catch(m){console.error("Error fetching companies:",m),c([])}};b.useEffect(()=>{n&&e&&(l({name:n.name,address:n.address,contact_no:n.contact_no,gst_no:n.gst_no,comp_code:n.comp_code,comp_name:n.comp_name,is_active:n.is_active}),f({}))},[n,e]);const x=m=>{const{name:y,value:_}=m.target;l(N=>({...N,[y]:_})),g[y]&&f(N=>({...N,[y]:void 0}))},j=m=>{const y=o.find(_=>_.comp_name===m.target.value);y&&l(_=>({..._,comp_name:y.comp_name,comp_code:y.code})),g.comp_name&&f(_=>({..._,comp_name:void 0}))},k=m=>{const{name:y,checked:_}=m.target;l(N=>({...N,[y]:_}))},E=()=>{var y,_,N,C,p;const m={};return(y=a.name)!=null&&y.trim()||(m.name="Customer name is required"),(_=a.address)!=null&&_.trim()||(m.address="Address is required"),(N=a.contact_no)!=null&&N.trim()||(m.contact_no="Contact number is required"),(C=a.gst_no)!=null&&C.trim()||(m.gst_no="GST number is required"),(p=a.comp_name)!=null&&p.trim()||(m.comp_name="Company selection is required"),f(m),Object.keys(m).length===0},h=async m=>{if(m.preventDefault(),!(!E()||!n)){u(!0);try{(await wt.updateCustomer(n.id,a)).success&&(r(),d())}catch(y){console.error("Error updating customer:",y),alert("Failed to update customer")}finally{u(!1)}}},d=()=>{l({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:"",is_active:!0}),f({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:d,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Customer"}),s.jsx("button",{type:"button",onClick:d,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:i,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter customer name",disabled:i}),g.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",value:a.address,onChange:x,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.address?"border-red-300":"border-gray-300"}`,placeholder:"Enter complete address",disabled:i}),g.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.address})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact_no",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),s.jsx("input",{type:"text",id:"contact_no",name:"contact_no",value:a.contact_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.contact_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter contact number",disabled:i}),g.contact_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.contact_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:a.gst_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter GST number",disabled:i}),g.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.gst_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:a.comp_name,onChange:j,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.comp_name?"border-red-300":"border-gray-300"}`,disabled:i,children:[s.jsx("option",{value:"",children:"Select a company"}),o.map(m=>s.jsx("option",{value:m.comp_name,children:m.comp_name},m.id))]}),g.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_code",className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",id:"comp_code",name:"comp_code",value:a.comp_code,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md shadow-sm bg-gray-50 text-gray-600 sm:text-sm",placeholder:"Auto-populated from company selection",disabled:i}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Company code is auto-populated when you select a company"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:k,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:i}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Customer"}),s.jsx("button",{type:"button",onClick:d,disabled:i,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},i0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState(!0),[i,u]=b.useState(null),[g,f]=b.useState(!1),[v,x]=b.useState(!1);b.useEffect(()=>{j()},[]),b.useEffect(()=>{let y=e;a&&(y=y.filter(_=>_.name.toLowerCase().includes(a.toLowerCase())||_.address.toLowerCase().includes(a.toLowerCase())||_.contact_no.toLowerCase().includes(a.toLowerCase())||_.gst_no.toLowerCase().includes(a.toLowerCase()))),n(y)},[e,a]);const j=async()=>{c(!0);try{const y=await Z.getCustomers();if(console.log("Customers API Response:",y),y.success)if(Array.isArray(y.data)){const _=y.data.sort((N,C)=>new Date(C.created_at).getTime()-new Date(N.created_at).getTime());t(_),n(_)}else if(y.data&&Array.isArray(y.data.data)){const _=y.data.data.sort((N,C)=>new Date(C.created_at).getTime()-new Date(N.created_at).getTime());t(_),n(_)}else t([]),n([]);else t([]),n([])}catch(y){console.error("Error fetching customers:",y),t([]),n([])}finally{c(!1)}},k=()=>{j(),f(!1)},E=y=>{u(y),x(!0)},h=()=>{x(!1),u(null)},d=()=>{j()},m=async(y,_)=>{if(window.confirm(`Are you sure you want to delete customer "${_}"? This action cannot be undone.`))try{(await Z.deleteCustomer(y)).success&&await j()}catch(N){console.error("Error deleting customer:",N),alert("Failed to delete customer")}};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all customers in the system"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Add Customer"]})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search customers by name, address, contact, or GST...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-900 focus:border-transparent",value:a,onChange:y=>l(y.target.value)})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GST Number"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parts Count"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Bo,{className:"h-8 w-8 text-blue-900"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),s.jsx("div",{className:"text-sm text-gray-500",children:y.address})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Mu,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.contact_no})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ht,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{className:"text-sm text-gray-900",children:y.gst_no})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:y.parts_count||0})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>E(y),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Customer",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>m(y.id,y.name),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Customer",children:s.jsx(Vt,{className:"h-4 w-4"})})]})})]},y.id))})]})})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No customers found matching your criteria."})})]}),g&&s.jsx(l0,{isOpen:g,onClose:()=>f(!1),onSuccess:k}),v&&s.jsx(o0,{isOpen:v,onClose:h,onSuccess:d,customer:i})]})},c0=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=b.useState({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),[l,o]=b.useState([]),[c,i]=b.useState([]),[u,g]=b.useState(!1),[f,v]=b.useState(!1),[x,j]=b.useState({});b.useEffect(()=>{e&&(E(),k())},[e]);const k=async()=>{try{const N=await ot.getAllCompanies();N.success&&Array.isArray(N.data)?i(N.data):i([])}catch(N){console.error("Error fetching companies:",N)}},E=async()=>{v(!0);try{console.log("Fetching customers for parts modal...");const N=await wt.getAllCustomers();console.log("Customers API response:",N),N.success?Array.isArray(N.data)?(console.log("Setting customers from direct array:",N.data),console.log("First customer object:",N.data[0]),o(N.data)):N.data&&Array.isArray(N.data.data)?(console.log("Setting customers from paginated data:",N.data.data),console.log("First customer object:",N.data.data[0]),o(N.data.data)):(console.log("No customers data found in response"),o([])):(console.log("Customers API response not successful"),o([]))}catch(N){console.error("Error fetching customers:",N),o([])}finally{v(!1)}},h=N=>{const{name:C,value:p,type:w}=N.target;if(w==="checkbox"){const S=N.target.checked;a(O=>({...O,[C]:S}))}else if(w==="number"){const S=p===""?void 0:Number(p);a(O=>({...O,[C]:S}))}else if(C==="customer_id"){const S=p===""?0:Number(p);a(O=>({...O,[C]:S}))}else a(S=>({...S,[C]:p}));x[C]&&j(S=>({...S,[C]:void 0}))},d=N=>{a(C=>({...C,comp_name:N.target.value})),x.comp_name&&j(C=>({...C,comp_name:void 0}))},m=()=>{const N={};return n.customer_id||(N.customer_id="Customer is required"),n.comp_name.trim()||(N.comp_name="Company selection is required"),n.part_description.trim()||(N.part_description="Part description is required"),n.drawing_no.trim()||(N.drawing_no="Drawing number is required"),j(N),Object.keys(N).length===0},y=async N=>{if(N.preventDefault(),!!m()){g(!0);try{(await Ks.createPart(n)).success&&(r(),_())}catch(C){console.error("Error creating part:",C)}finally{g(!1)}}},_=()=>{a({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),j({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:_,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Part"}),s.jsx("button",{type:"button",onClick:_,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:n.customer_id||"",onChange:h,disabled:f,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.customer_id?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a customer"}),l.map(N=>(console.log("Rendering customer option:",N.id,N.name),s.jsx("option",{value:N.id,children:N.name},N.id)))]}),x.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.comp_name?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a company"}),c.map(N=>s.jsx("option",{value:N.comp_name,children:N.comp_name},N.id))]}),x.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:n.part_description,onChange:h,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description"}),x.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_no",className:"block text-sm font-medium text-gray-700",children:"Drawing Number *"}),s.jsx("input",{type:"text",id:"drawing_no",name:"drawing_no",value:n.drawing_no,onChange:h,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.drawing_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter drawing number"}),x.drawing_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.drawing_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rev_no",className:"block text-sm font-medium text-gray-700",children:"Revision Number"}),s.jsx("input",{type:"text",id:"rev_no",name:"rev_no",value:n.rev_no,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter revision number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"net_wt",className:"block text-sm font-medium text-gray-700",children:"Net Weight"}),s.jsx("input",{type:"number",id:"net_wt",name:"net_wt",value:n.net_wt||"",onChange:h,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter net weight"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"thickness",className:"block text-sm font-medium text-gray-700",children:"Thickness"}),s.jsx("input",{type:"number",id:"thickness",name:"thickness",value:n.thickness||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter thickness",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raw_material",className:"block text-sm font-medium text-gray-700",children:"Raw Material"}),s.jsx("input",{type:"text",id:"raw_material",name:"raw_material",value:n.raw_material,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter raw material"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead_time",className:"block text-sm font-medium text-gray-700",children:"Lead Time (days)"}),s.jsx("input",{type:"number",id:"lead_time",name:"lead_time",value:n.lead_time||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter lead time in days"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"tool_information",className:"block text-sm font-medium text-gray-700",children:"Tool Information"}),s.jsx("input",{type:"text",id:"tool_information",name:"tool_information",value:n.tool_information,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter tool information"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"drawing_location",className:"block text-sm font-medium text-gray-700",children:"Drawing Location"}),s.jsx("input",{type:"text",id:"drawing_location",name:"drawing_location",value:n.drawing_location,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter drawing location"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"operation_sequence",className:"block text-sm font-medium text-gray-700",children:"Operation Sequence"}),s.jsx("textarea",{id:"operation_sequence",name:"operation_sequence",value:n.operation_sequence,onChange:h,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter operation sequence"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:n.po_no,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:n.po_date,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:n.po_qty||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:n.po_drg_rev,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date as per PO"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:n.reqd_date_as_per_po,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:n.acknowledgement_remarks,onChange:h,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:n.po_received,onChange:h,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-900",children:"PO Received"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:u||f,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Part"}),s.jsx("button",{type:"button",onClick:_,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})]})}):null},d0=({isOpen:e,onClose:t,onSuccess:r,part:n})=>{const[a,l]=b.useState({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),[o,c]=b.useState([]),[i,u]=b.useState(!1),[g,f]=b.useState({});b.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const d=await ot.getAllCompanies();d.success&&Array.isArray(d.data)?c(d.data):c([])}catch(d){console.error("Error fetching companies:",d)}};b.useEffect(()=>{n&&e&&(l({customer_id:n.customer_id,part_description:n.part_description,drawing_no:n.drawing_no,rev_no:n.rev_no||"",net_wt:n.net_wt?parseFloat(n.net_wt.toString()):void 0,thickness:n.thickness?parseFloat(n.thickness.toString()):void 0,tool_information:n.tool_information||"",raw_material:n.raw_material||"",drawing_location:n.drawing_location||"",operation_sequence:n.operation_sequence||"",lead_time:n.lead_time?parseInt(n.lead_time.toString()):void 0,po_no:n.po_no||"",po_date:n.po_date?n.po_date.split("T")[0]:"",po_received:n.po_received||!1,po_qty:n.po_qty?parseInt(n.po_qty.toString()):void 0,po_drg_rev:n.po_drg_rev||"",acknowledgement_remarks:n.acknowledgement_remarks||"",reqd_date_as_per_po:n.reqd_date_as_per_po?n.reqd_date_as_per_po.split("T")[0]:"",comp_name:n.comp_name||""}),f({}))},[n,e]);const x=d=>{const{name:m,value:y,type:_}=d.target;if(_==="checkbox"){const N=d.target.checked;l(C=>({...C,[m]:N}))}else if(_==="number"){const N=y===""?void 0:Number(y);l(C=>({...C,[m]:N}))}else if(m==="customer_id"){const N=y===""?0:Number(y);l(C=>({...C,[m]:N}))}else l(N=>({...N,[m]:y}));g[m]&&f(N=>({...N,[m]:void 0}))},j=d=>{l(m=>({...m,comp_name:d.target.value})),g.comp_name&&f(m=>({...m,comp_name:void 0}))},k=()=>{var m,y,_;const d={};return(!a.customer_id||a.customer_id===0)&&(d.customer_id="Customer is required"),(m=a.comp_name)!=null&&m.trim()||(d.comp_name="Company selection is required"),(y=a.part_description)!=null&&y.trim()||(d.part_description="Part description is required"),(_=a.drawing_no)!=null&&_.trim()||(d.drawing_no="Drawing number is required"),f(d),Object.keys(d).length===0},E=async d=>{if(d.preventDefault(),!(!k()||!n)){u(!0);try{(await Ks.updatePart(n.id,a)).success&&(r(),h())}catch(m){console.error("Error updating part:",m),alert("Failed to update part")}finally{u(!1)}}},h=()=>{l({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),f({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:h,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("form",{onSubmit:E,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Part"}),s.jsx("button",{type:"button",onClick:h,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:i,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsx("select",{id:"customer_id",name:"customer_id",value:a.customer_id,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.customer_id?"border-red-300":"border-gray-300"}`,disabled:i,children:s.jsx("option",{value:0,children:"Select a customer"})}),g.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:a.comp_name,onChange:j,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.comp_name?"border-red-300":"border-gray-300"}`,disabled:i,children:[s.jsx("option",{value:"",children:"Select a company"}),o.map(d=>s.jsx("option",{value:d.comp_name,children:d.comp_name},d.id))]}),g.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("textarea",{id:"part_description",name:"part_description",value:a.part_description,onChange:x,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:i}),g.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_no",className:"block text-sm font-medium text-gray-700",children:"Drawing Number *"}),s.jsx("input",{type:"text",id:"drawing_no",name:"drawing_no",value:a.drawing_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.drawing_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter drawing number",disabled:i}),g.drawing_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.drawing_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rev_no",className:"block text-sm font-medium text-gray-700",children:"Revision Number"}),s.jsx("input",{type:"text",id:"rev_no",name:"rev_no",value:a.rev_no,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter revision number",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"net_wt",className:"block text-sm font-medium text-gray-700",children:"Net Weight"}),s.jsx("input",{type:"number",id:"net_wt",name:"net_wt",value:a.net_wt||"",onChange:x,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter net weight",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"thickness",className:"block text-sm font-medium text-gray-700",children:"Thickness"}),s.jsx("input",{type:"number",id:"thickness",name:"thickness",value:a.thickness||"",onChange:x,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter thickness",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tool_information",className:"block text-sm font-medium text-gray-700",children:"Tool Information"}),s.jsx("textarea",{id:"tool_information",name:"tool_information",value:a.tool_information,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter tool information",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raw_material",className:"block text-sm font-medium text-gray-700",children:"Raw Material"}),s.jsx("textarea",{id:"raw_material",name:"raw_material",value:a.raw_material,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter raw material",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_location",className:"block text-sm font-medium text-gray-700",children:"Drawing Location"}),s.jsx("textarea",{id:"drawing_location",name:"drawing_location",value:a.drawing_location,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter drawing location",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"operation_sequence",className:"block text-sm font-medium text-gray-700",children:"Operation Sequence"}),s.jsx("textarea",{id:"operation_sequence",name:"operation_sequence",value:a.operation_sequence,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter operation sequence",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead_time",className:"block text-sm font-medium text-gray-700",children:"Lead Time (days)"}),s.jsx("input",{type:"number",id:"lead_time",name:"lead_time",value:a.lead_time||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter lead time in days",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:a.po_no,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:a.po_date,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:a.po_qty||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:a.po_drg_rev,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:a.acknowledgement_remarks,onChange:x,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date as per PO"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:a.reqd_date_as_per_po,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:i})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Part"}),s.jsx("button",{type:"button",onClick:h,disabled:i,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},u0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState([]),[o,c]=b.useState(""),[i,u]=b.useState("all"),[g,f]=b.useState(!0),[v,x]=b.useState(null),[j,k]=b.useState(!1),[E,h]=b.useState(!1),[d,m]=b.useState(!1);b.useEffect(()=>{y()},[]),b.useEffect(()=>{let D=e;o&&(D=D.filter(L=>{var A;return L.part_description.toLowerCase().includes(o.toLowerCase())||L.drawing_no.toLowerCase().includes(o.toLowerCase())||((A=L.raw_material)==null?void 0:A.toLowerCase().includes(o.toLowerCase()))||L.customer.name.toLowerCase().includes(o.toLowerCase())})),i!=="all"&&(D=D.filter(L=>L.customer_id===parseInt(i))),n(D)},[e,o,i]);const y=async()=>{f(!0);try{const[D,L]=await Promise.all([Z.getParts().catch(()=>({success:!1,data:[]})),Z.getCustomers().catch(()=>({success:!1,data:[]}))]);if(D.success){let A=[];Array.isArray(D.data)?A=D.data:D.data&&typeof D.data=="object"&&"data"in D.data&&Array.isArray(D.data.data)&&(A=D.data.data),t(A),n(A)}else t([]),n([]);if(L.success){let A=[];Array.isArray(L.data)?A=L.data:L.data&&typeof L.data=="object"&&"data"in L.data&&Array.isArray(L.data.data)&&(A=L.data.data),l(A)}else l([])}catch(D){console.error("Error fetching data:",D),t([]),n([]),l([])}finally{f(!1)}},_=D=>{x(D),k(!0)},N=()=>{k(!1),x(null)},C=()=>{y()},p=D=>{x(D),m(!0)},w=()=>{m(!1),x(null)},S=()=>{y()},O=async(D,L)=>{if(window.confirm(`Are you sure you want to delete part "${L}"? This action cannot be undone.`))try{(await Z.deletePart(D)).success&&await y()}catch(A){console.error("Error deleting part:",A),alert("Failed to delete part")}};return g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parts"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all parts and their specifications"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Add Part"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search parts by description, drawing, material, or customer...",value:o,onChange:D=>c(D.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:D=>u(D.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Customers"}),a.map(D=>s.jsx("option",{value:D.id.toString(),children:D.name},D.id))]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(D=>s.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-full p-3",children:s.jsx(Es,{className:"h-6 w-6 text-green-900"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:D.part_description}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",D.id]})]})]}),s.jsx("div",{className:"flex space-x-1",children:s.jsx("button",{onClick:()=>_(D),className:"p-1 text-gray-400 hover:text-blue-900 transition-colors",title:"View Details",children:s.jsx(Ur,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bo,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-600",children:D.customer.name})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Es,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Drawing: ",D.drawing_no]})]}),D.rev_no&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Es,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Rev: ",D.rev_no]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qn,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(D.created_at).toLocaleDateString()})]}),D.lead_time&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qn,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[D.lead_time," days"]})]})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>p(D),className:"p-1 text-blue-600 hover:text-blue-700 transition-colors",title:"Edit Part",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>O(D.id,D.part_description),className:"p-1 text-red-600 hover:text-red-700 transition-colors",title:"Delete Part",children:s.jsx(Vt,{className:"h-4 w-4"})})]})})]})]})},D.id))}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Es,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No parts found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||i!=="all"?"Try adjusting your search terms":"Get started by adding a new part"})]}),j&&v&&s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:N,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl leading-6 font-medium text-gray-900",children:"Part Details"}),s.jsx("button",{onClick:N,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Vt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part Description"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:v.part_description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.drawing_no})]}),v.rev_no&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Revision Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.rev_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.customer.name})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(v.created_at).toLocaleDateString()})]})]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Technical Specifications"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[v.net_wt&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zh,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Net Weight"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.net_wt})]})]}),v.thickness&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Thickness"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.thickness})]}),v.raw_material&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Raw Material"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.raw_material})]}),v.tool_information&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Tool Information"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.tool_information})]}),v.drawing_location&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing Location"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.drawing_location})]}),v.operation_sequence&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Operation Sequence"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.operation_sequence})]}),v.lead_time&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Lead Time"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[v.lead_time," days"]})]})]})]})}),(v.po_no||v.po_date||v.po_qty||v.po_received)&&s.jsx("div",{className:"space-y-4 lg:col-span-2",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Purchase Order Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.po_no&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.po_no})]}),v.po_date&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(v.po_date).toLocaleDateString()})]}),v.po_qty&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.po_qty})]}),v.po_drg_rev&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Drawing Revision"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.po_drg_rev})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Received"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.po_received?"Yes":"No"})]}),v.reqd_date_as_per_po&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Required Date as per PO"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(v.reqd_date_as_per_po).toLocaleDateString()})]})]}),v.acknowledgement_remarks&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Acknowledgement Remarks"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.acknowledgement_remarks})]})]})]})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:N,children:"Close"})})]})]})}),s.jsx(c0,{isOpen:E,onClose:()=>h(!1),onSuccess:C}),d&&s.jsx(d0,{isOpen:d,onClose:w,onSuccess:S,part:v})]})},m0=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=b.useState({customer_id:0,part_id:0,po_no:"",po_date:"",po_received:!1,po_qty:0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",dispatch_details_inv_date:"",dispatch_details_inv_no:"",dispatch_details_inv_qlt:0,balance_qty:0,balance_as_per_hitachi:0,price:"",fg_stock:0,wip_stock:0,comp_name:""}),[l,o]=b.useState([]),[c,i]=b.useState([]),[u,g]=b.useState([]),[f,v]=b.useState(!1),[x,j]=b.useState({});b.useEffect(()=>{e&&k()},[e]);const k=async()=>{try{const[m,y,_]=await Promise.all([wt.getAllCustomers(),Ks.getAllParts(),ot.getAllCompanies()]);m.success&&(Array.isArray(m.data)?o(m.data):m.data&&Array.isArray(m.data.data)&&o(m.data.data)),y.success&&Array.isArray(y.data)&&i(y.data),_.success&&(Array.isArray(_.data)?g(_.data):_.data&&Array.isArray(_.data.data)&&g(_.data.data))}catch(m){console.error("Error fetching data:",m)}},E=m=>{const{name:y,value:_,type:N}=m.target;if(N==="checkbox"){const C=m.target.checked;a(p=>({...p,[y]:C}))}else if(N==="number"){const C=_===""?void 0:Number(_);a(p=>({...p,[y]:C}))}else a(C=>({...C,[y]:_}))},h=()=>{var y,_;const m={};return n.customer_id||(m.customer_id="Customer is required"),n.part_id||(m.part_id="Part is required"),(y=n.po_no)!=null&&y.trim()||(m.po_no="PO number is required"),(!n.po_qty||n.po_qty<=0)&&(m.po_qty="PO quantity must be greater than 0"),(!n.price||parseFloat(n.price)<=0)&&(m.price="Price must be greater than 0"),(_=n.comp_name)!=null&&_.trim()||(m.comp_name="Company name is required"),j(m),Object.keys(m).length===0},d=async m=>{if(m.preventDefault(),!!h()){v(!0);try{const y=await Vo.createOrder(n);y.success?(r(),t(),a({customer_id:0,part_id:0,po_no:"",po_date:"",po_received:!1,po_qty:0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",dispatch_details_inv_date:"",dispatch_details_inv_no:"",dispatch_details_inv_qlt:0,balance_qty:0,balance_as_per_hitachi:0,price:"",fg_stock:0,wip_stock:0,comp_name:""})):alert("Failed to create order: "+(y.message||"Unknown error"))}catch(y){console.error("Error creating order:",y),alert("Failed to create order. Please try again.")}finally{v(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:d,className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Order"}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:t,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:n.customer_id||"",onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a customer"}),l.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]}),x.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:n.part_id||"",onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a part"}),c.map(m=>s.jsx("option",{value:m.id,children:m.part_description},m.id))]}),x.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:m=>a(y=>({...y,comp_name:m.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),u.map(m=>s.jsx("option",{value:m.comp_name,children:m.comp_name},m.id))]}),x.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number *"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:n.po_no,onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"}),x.po_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.po_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",value:n.po_qty||"",onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",min:"1"}),x.po_qty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.po_qty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),s.jsx("input",{type:"number",id:"price",name:"price",value:n.price,onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter unit price",step:"0.01",min:"0"}),x.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.price})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"balance_qty",className:"block text-sm font-medium text-gray-700",children:"Balance Quantity"}),s.jsx("input",{type:"number",id:"balance_qty",name:"balance_qty",value:n.balance_qty||"",onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter balance quantity",min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:n.po_drg_rev,onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:n.reqd_date_as_per_po,onChange:E,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:n.acknowledgement_remarks,onChange:E,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:n.po_received,onChange:E,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-700",children:"PO Received"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:f,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:f?"Creating...":"Create Order"})]})]})})]})}):null},p0=({isOpen:e,onClose:t,onSuccess:r,order:n})=>{const[a,l]=b.useState({}),[o,c]=b.useState([]),[i,u]=b.useState([]),[g,f]=b.useState([]),[v,x]=b.useState(!1),[j,k]=b.useState({});b.useEffect(()=>{e&&E()},[e]),b.useEffect(()=>{var y,_,N,C,p,w,S,O,D,L,A,X;if(n){const T={customer_id:(y=n.originalOrder)==null?void 0:y.customer_id,part_id:(_=n.originalOrder)==null?void 0:_.part_id,po_no:((N=n.originalOrder)==null?void 0:N.po_no)||"",po_date:(C=n.originalOrder)!=null&&C.po_date?n.originalOrder.po_date.split("T")[0]:"",po_received:((p=n.originalOrder)==null?void 0:p.po_received)||!1,po_qty:(w=n.originalOrder)==null?void 0:w.po_qty,po_drg_rev:((S=n.originalOrder)==null?void 0:S.po_drg_rev)||"",acknowledgement_remarks:((O=n.originalOrder)==null?void 0:O.acknowledgement_remarks)||"",reqd_date_as_per_po:(D=n.originalOrder)!=null&&D.reqd_date_as_per_po?n.originalOrder.reqd_date_as_per_po.split("T")[0]:"",price:((L=n.originalOrder)==null?void 0:L.price)||"",balance_qty:(A=n.originalOrder)==null?void 0:A.balance_qty,comp_name:((X=n.originalOrder)==null?void 0:X.comp_name)||""};console.log("Setting initial form data:",T),l(T)}},[n,e]),b.useEffect(()=>{console.log("Form data changed:",a)},[a]);const E=async()=>{try{const[y,_,N]=await Promise.all([wt.getAllCustomers(),Ks.getAllParts(),ot.getAllCompanies()]);y.success&&(Array.isArray(y.data)?c(y.data):y.data&&Array.isArray(y.data.data)&&c(y.data.data)),_.success&&Array.isArray(_.data)&&u(_.data),N.success&&(Array.isArray(N.data)?f(N.data):N.data&&Array.isArray(N.data.data)&&f(N.data.data))}catch(y){console.error("Error fetching data:",y)}},h=y=>{console.log("=== INPUT CHANGE DETECTED ===");const{name:_,value:N,type:C}=y.target;if(console.log("Input changed:",{name:_,value:N,type:C}),C==="checkbox"){const p=y.target.checked;console.log("Checkbox changed:",{name:_,checked:p}),l(w=>{console.log("Previous form data:",w);const S={...w,[_]:p};return console.log("New form data:",S),S})}else if(C==="number"){const p=N===""?void 0:Number(N);console.log("Number changed:",{name:_,numValue:p}),l(w=>{console.log("Previous form data:",w);const S={...w,[_]:p};return console.log("New form data:",S),S})}else console.log("Text changed:",{name:_,value:N}),l(p=>{console.log("Previous form data:",p);const w={...p,[_]:N};return console.log("New form data:",w),w})},d=()=>{var _,N;const y={};return a.customer_id||(y.customer_id="Customer is required"),a.part_id||(y.part_id="Part is required"),(_=a.po_no)!=null&&_.trim()||(y.po_no="PO number is required"),(!a.po_qty||a.po_qty<=0)&&(y.po_qty="PO quantity must be greater than 0"),(!a.price||parseFloat(a.price)<=0)&&(y.price="Price must be greater than 0"),(N=a.comp_name)!=null&&N.trim()||(y.comp_name="Company name is required"),k(y),Object.keys(y).length===0},m=async y=>{if(y.preventDefault(),!!d()){await new Promise(_=>setTimeout(_,0)),x(!0);try{const _={...a};console.log("Submitting edit with current data:",_);const N=await Vo.updateOrder(n.id,_);console.log("Edit response:",N),N.success?(console.log("Edit successful, calling onSuccess"),alert("Order updated successfully"),r(),t()):alert("Failed to update order: "+(N.message||"Unknown error"))}catch(_){console.error("Error updating order:",_),alert("Failed to update order. Please try again.")}finally{x(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:m,className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Edit Order - ",n.orderNumber]}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:t,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:a.customer_id||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a customer"}),o.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]}),j.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:a.part_id||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a part"}),i.map(y=>s.jsx("option",{value:y.id,children:y.part_description},y.id))]}),j.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.part_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number *"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:a.po_no,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"}),j.po_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.po_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:a.po_date,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity *"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:a.po_qty||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",min:"1"}),j.po_qty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.po_qty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),s.jsx("input",{type:"number",id:"price",name:"price",value:a.price,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter unit price",step:"0.01",min:"0"}),j.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.price})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_name",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"comp_name",name:"comp_name",value:a.comp_name||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),g.map(y=>s.jsx("option",{value:y.comp_name,children:y.comp_name},y.id))]}),j.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"balance_qty",className:"block text-sm font-medium text-gray-700",children:"Balance Quantity"}),s.jsx("input",{type:"number",id:"balance_qty",name:"balance_qty",value:a.balance_qty||"",onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter balance quantity",min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:a.po_drg_rev,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:a.reqd_date_as_per_po,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:a.acknowledgement_remarks,onChange:h,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:a.po_received,onChange:h,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-700",children:"PO Received"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:v?"Updating...":"Update Order"})]})]})})]})}):null},f0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState("all"),[i,u]=b.useState("all"),[g,f]=b.useState(""),[v,x]=b.useState([]),[j,k]=b.useState(!0),[E,h]=b.useState(null),[d,m]=b.useState(!1),[y,_]=b.useState(!1),[N,C]=b.useState(!1),p=async()=>{k(!0);try{const T=await Z.getOrders();if(console.log("Orders API Response:",T),T.success){let H=[];if(Array.isArray(T.data)?H=T.data:T.data&&Array.isArray(T.data.data)&&(H=T.data.data),console.log("Orders Data after fetch:",H),console.log("Orders Data length:",H.length),H.length>0){const F=H.map(P=>{var q,G,Le,M;return console.log("Processing order:",P),{id:P.id.toString(),orderNumber:P.po_no,company:((q=P.customer)==null?void 0:q.name)||"Unknown Customer",status:P.po_received?"completed":"pending",total:parseFloat(P.price)*P.po_qty,createdDate:((G=P.created_at)==null?void 0:G.split("T")[0])||"",poQty:P.po_qty,balanceQty:P.balance_qty,price:P.price,fgStock:P.fg_stock,wipStock:P.wip_stock,partDescription:((Le=P.part)==null?void 0:Le.part_description)||"Unknown Part",drawingNo:((M=P.part)==null?void 0:M.drawing_no)||"",reqdDate:P.reqd_date_as_per_po?P.reqd_date_as_per_po.split("T")[0]:"",dispatchDate:P.dispatch_details_inv_date?P.dispatch_details_inv_date.split("T")[0]:"",invNo:P.dispatch_details_inv_no||"",originalOrder:P}});console.log("Mapped Orders:",F),t(F),n(F);const z=Array.from(new Set(H.filter(P=>{var q;return(q=P.customer)==null?void 0:q.name}).map(P=>P.customer.name)));x(z)}else console.log("No orders found, setting empty arrays"),t([]),n([]),x([])}else console.log("Invalid response structure:",T),t([]),n([]),x([])}catch(T){console.error("Error fetching orders:",T),t([]),n([]),x([])}finally{k(!1)}};b.useEffect(()=>{p()},[]),b.useEffect(()=>{let T=e;a&&(T=T.filter(H=>H.orderNumber.toLowerCase().includes(a.toLowerCase())||H.company.toLowerCase().includes(a.toLowerCase())||H.status.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(T=T.filter(H=>H.company===o)),i!=="all"&&(T=T.filter(H=>H.status===i)),g&&(T=T.filter(H=>H.createdDate===g)),n(T)},[e,a,o,i,g]);const w=T=>{const H=e.find(F=>F.id===T);H&&(h(H),m(!0))},S=()=>{_(!0)},O=T=>{h(T),C(!0)},D=async(T,H)=>{if(window.confirm(`Are you sure you want to delete order "${H}"? This action cannot be undone.`))try{const F=await Z.deleteOrder(parseInt(T));F.success?(alert("Order deleted successfully"),await p()):alert("Failed to delete order: "+(F.message||"Unknown error"))}catch(F){console.error("Error deleting order:",F),alert("Failed to delete order. Please try again.")}},L=()=>{m(!1),_(!1),C(!1),h(null)},A=()=>{p(),_(!1)},X=()=>{console.log("handleEditSuccess called"),console.log("Immediately calling fetchOrders"),p(),C(!1),h(null)};return j?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Orders"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View all orders across all companies in the system"})]}),s.jsxs("button",{onClick:S,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Add Order"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search orders...",value:a,onChange:T=>l(T.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"},"all"),v.map(T=>s.jsx("option",{value:T,children:T},T))]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:T=>u(T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"},"all"),s.jsx("option",{value:"pending",children:"Pending"},"pending"),s.jsx("option",{value:"processing",children:"Processing"},"processing"),s.jsx("option",{value:"completed",children:"Completed"},"completed"),s.jsx("option",{value:"cancelled",children:"Cancelled"},"cancelled")]})}),s.jsx("div",{children:s.jsx("input",{type:"date",value:g,onChange:T=>f(T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drawing No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Qty"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance Qty"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"FG Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WIP Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dispatch Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.orderNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.company}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:T.partDescription}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.drawingNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.poQty}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.balanceQty}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",parseFloat(T.price).toFixed(2)]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",T.total.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.fgStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.wipStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.reqdDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.dispatchDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.invNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.status==="completed"?"bg-green-100 text-green-800":T.status==="processing"?"bg-yellow-100 text-yellow-800":T.status==="pending"?"bg-blue-200 text-blue-900":"bg-red-100 text-red-800"}`,children:T.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>O(T),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Order",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>D(T.id,T.orderNumber),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Order",children:s.jsx(Vt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>w(T.id),className:"text-blue-900 hover:text-blue-800 p-1",title:"View Order",children:s.jsx(Ur,{className:"h-4 w-4"})})]})})]},T.id))})]})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No orders found matching your criteria."})})]}),d&&E&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:L,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Order Details"}),s.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.orderNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.company})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part Description"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.partDescription})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing No"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.drawingNo})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.poQty})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Balance Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.balanceQty})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Unit Price"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",parseFloat(E.price).toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",E.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.status==="completed"?"bg-green-100 text-green-800":E.status==="processing"?"bg-yellow-100 text-yellow-800":E.status==="pending"?"bg-blue-200 text-blue-900":"bg-red-100 text-red-800"}`,children:E.status})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"FG Stock"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.fgStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"WIP Stock"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.wipStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(E.createdDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Required Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.reqdDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Dispatch Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:E.dispatchDate}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["",Math.floor(E.total*.9).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tax (10%)"}),s.jsxs("span",{children:["",Math.floor(E.total*.1).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",E.total.toLocaleString()]})]})]})]})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:L,children:"Close"})})]})]})}),y&&s.jsx(m0,{isOpen:y,onClose:()=>_(!1),onSuccess:A}),N&&E&&s.jsx(p0,{isOpen:N,onClose:()=>{C(!1),h(null)},onSuccess:X,order:E})]})},h0=({isOpen:e,onClose:t,onSuccess:r})=>{var C;const[n,a]=b.useState({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),[l,o]=b.useState([]),[c,i]=b.useState([]),[u,g]=b.useState([]),[f,v]=b.useState(!1),[x,j]=b.useState({});b.useEffect(()=>{if(e){const p=new Date,w=p.getFullYear(),S=String(p.getMonth()+1).padStart(2,"0"),O=String(p.getDate()).padStart(2,"0"),D=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),L=`DC-${w}${S}${O}-${D}`;a(A=>({...A,challan_no:L,challan_date:p.toISOString().split("T")[0],from:"Eskay Engichem Pvt Ltd"})),j({}),k(),E(),h()}},[e]);const k=async()=>{try{const p=await ot.getAllCompanies();if(p.success){let w=[];Array.isArray(p.data)?w=p.data:p.data.data&&Array.isArray(p.data.data)&&(w=p.data.data),o(w),console.log("Companies loaded for dropdown:",w.length,w)}}catch(p){console.error("Error fetching companies:",p)}},E=async()=>{try{const p=await Z.getParts();if(p.success){let w=[];Array.isArray(p.data)?w=p.data:p.data.data&&Array.isArray(p.data.data)&&(w=p.data.data),i(w),console.log("Parts loaded for dropdown:",w.length,w)}}catch(p){console.error("Error fetching parts:",p)}},h=async()=>{try{const p=await wt.getAllCustomers();if(p.success){let w=[];Array.isArray(p.data)?w=p.data:p.data.data&&Array.isArray(p.data.data)&&(w=p.data.data),g(w),console.log("Customers loaded for dropdown:",w.length,w)}}catch(p){console.error("Error fetching customers:",p)}},d=p=>{if(!p)return"";const w=new Date(p);return isNaN(w.getTime())?"":w.toISOString().split("T")[0]},m=p=>{const{name:w,value:S,type:O}=p.target;let D=S;if(w==="quantity"&&O==="number"?D=S===""?0:Number(S):w==="customer_id"&&(D=S===""?null:Number(S)),w==="to"){const L=l.find(A=>A.company_name===S||A.comp_name===S||A.name===S);a(A=>({...A,[w]:D,comp_name:(L==null?void 0:L.company_name)||(L==null?void 0:L.comp_name)||(L==null?void 0:L.name)||S}))}else a(L=>({...L,[w]:D}));x[w]&&j(L=>({...L,[w]:""}))},y=()=>{const p={};return n.challan_no.trim()||(p.challan_no="Challan number is required"),n.to.trim()||(p.to="Company/Recipient is required"),n.comp_name.trim()||(p.comp_name="Company name is required"),n.from.trim()||(p.from="From location is required"),n.part_id||(p.part_id="Part selection is required"),n.customer_id||(p.customer_id="Customer selection is required"),n.part_no.trim()||(p.part_no="Part number is required"),n.part_description.trim()||(p.part_description="Part description is required"),(!n.quantity||typeof n.quantity!="number"||n.quantity<=0)&&(p.quantity="Quantity must be greater than 0"),n.unit_rate.trim()||(p.unit_rate="Unit rate is required"),n.total.trim()||(p.total="Total is required"),j(p),Object.keys(p).length===0},_=async p=>{if(p.preventDefault(),!y())return;const w={...n,part_id:n.part_id&&n.part_id>0?n.part_id:null,customer_id:n.customer_id&&n.customer_id>0?n.customer_id:null};v(!0);try{console.log("Submitting delivery challan data:",w);const S=await Z.createDeliveryChallan(w);console.log("Create delivery challan response:",S),r(),t()}catch(S){console.error("Error creating delivery challan:",S)}finally{v(!1)}},N=()=>{a({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),j({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:N,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create New Delivery Challan"}),s.jsx("button",{type:"button",onClick:N,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:f,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_no",className:"block text-sm font-medium text-gray-700",children:"Challan Number *"}),s.jsx("input",{type:"text",id:"challan_no",name:"challan_no",value:n.challan_no,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.challan_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter challan number",disabled:f}),x.challan_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.challan_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700",children:"Company/Recipient *"}),s.jsxs("select",{id:"to",name:"to",value:n.to,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.to?"border-red-300":"border-gray-300"}`,disabled:f,children:[s.jsx("option",{value:"",children:"Select company"}),l.map(p=>s.jsx("option",{value:p.company_name||p.comp_name||p.name,children:p.company_name||p.comp_name||p.name},p.id))]}),x.to&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.to})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:n.part_id||"",onChange:p=>{const w=p.target.value?Number(p.target.value):null,S=c.find(O=>O.id===w);a(O=>({...O,part_id:w,part_no:(S==null?void 0:S.part_no)||"",part_description:(S==null?void 0:S.part_description)||"",hsn_code:(S==null?void 0:S.hsn_code)||""}))},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_id?"border-red-300":"border-gray-300"}`,disabled:f,children:[s.jsx("option",{value:"",children:"Select part"}),c.map(p=>s.jsxs("option",{value:p.id,children:[p.part_no," - ",p.part_description]},p.id))]}),x.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_no",className:"block text-sm font-medium text-gray-700",children:"Part Number *"}),s.jsx("input",{type:"text",id:"part_no",name:"part_no",value:n.part_no,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter part number",disabled:f}),x.part_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_no})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700",children:"From *"}),s.jsx("input",{type:"text",id:"from",name:"from",value:n.from,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.from?"border-red-300":"border-gray-300"}`,placeholder:"Enter from location",disabled:f}),x.from&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.from})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:n.part_description,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:f}),x.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:((C=n.customer_id)==null?void 0:C.toString())||"",onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.customer_id?"border-red-300":"border-gray-300"}`,disabled:f,children:[s.jsx("option",{value:"",children:"Select customer"}),u.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]}),x.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hsn_code",className:"block text-sm font-medium text-gray-700",children:"HSN Code"}),s.jsx("input",{type:"text",id:"hsn_code",name:"hsn_code",value:n.hsn_code,onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter HSN code",disabled:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",value:n.quantity,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Enter quantity",min:"1",disabled:f}),x.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit_rate",className:"block text-sm font-medium text-gray-700",children:"Unit Rate *"}),s.jsx("input",{type:"text",id:"unit_rate",name:"unit_rate",value:n.unit_rate,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.unit_rate?"border-red-300":"border-gray-300"}`,placeholder:"Enter unit rate",disabled:f}),x.unit_rate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.unit_rate})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700",children:"Total Amount *"}),s.jsx("input",{type:"text",id:"total",name:"total",value:n.total,onChange:m,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.total?"border-red-300":"border-gray-300"}`,placeholder:"Enter total amount",disabled:f}),x.total&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.total})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_date",className:"block text-sm font-medium text-gray-700",children:"Challan Date"}),s.jsx("input",{type:"date",id:"challan_date",name:"challan_date",value:d(n.challan_date),onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:f})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signature",className:"block text-sm font-medium text-gray-700",children:"Authorized Signature"}),s.jsx("input",{type:"text",id:"signature",name:"signature",value:n.signature||"",onChange:m,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter authorized signature",disabled:f})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",value:n.notes||"",onChange:m,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter any additional notes",disabled:f})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Delivery Instructions"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Ensure all items are properly packed"}),s.jsx("li",{children:" Verify order quantities before dispatch"}),s.jsx("li",{children:" Get signature from recipient upon delivery"}),s.jsx("li",{children:' Update status to "delivered" after completion'})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:f,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating...":"Create Challan"}),s.jsx("button",{type:"button",onClick:N,disabled:f,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})}):null},x0=({isOpen:e,onClose:t,onSuccess:r,challan:n})=>{var p;const a=w=>{if(!w)return"";const S=new Date(w);return isNaN(S.getTime())?"":S.toISOString().split("T")[0]},[l,o]=b.useState({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null,status:"pending"}),[c,i]=b.useState([]),[u,g]=b.useState([]),[f,v]=b.useState([]),[x,j]=b.useState(!1),[k,E]=b.useState({});b.useEffect(()=>{var w,S;n&&e&&(console.log("Prefilling form with challan data:",n),o({challan_no:n.challan_no||n.challanNumber||"",comp_name:n.comp_name||n.company||n.company||"",customer_id:n.customer_id||((w=n.customer)==null?void 0:w.id)||null,challan_date:n.challan_date||n.createdDate||"",to:n.to||n.comp_name||n.company||"",from:n.from||"",part_id:n.part_id||((S=n.part)==null?void 0:S.id)||null,part_no:n.part_no||n.orderId||"",part_description:n.partDescription||"",hsn_code:n.hsn_code||n.hsnCode||"",quantity:n.quantity||1,unit_rate:n.unit_rate||n.unitRate||"0.00",total:n.total||"0.00",notes:n.notes||null,signature:n.signature||null,status:n.status||"pending"}),E({}),h(),d(),m())},[n,e]);const h=async()=>{try{const w=await wt.getAllCustomers();if(w.success){let S=[];Array.isArray(w.data)?S=w.data:w.data.data&&Array.isArray(w.data.data)&&(S=w.data.data),i(S),console.log("Companies loaded for dropdown:",S.length,S)}}catch(w){console.error("Error fetching companies:",w)}},d=async()=>{try{const w=await Ks.getAllParts();if(w.success){let S=[];Array.isArray(w.data)?S=w.data:w.data.data&&Array.isArray(w.data.data)&&(S=w.data.data),g(S),console.log("Parts loaded for dropdown:",S.length,S)}}catch(w){console.error("Error fetching parts:",w)}},m=async()=>{try{const w=await wt.getAllCustomers();if(w.success){let S=[];Array.isArray(w.data)?S=w.data:w.data.data&&Array.isArray(w.data.data)&&(S=w.data.data),v(S),console.log("Customers loaded for dropdown:",S.length,S)}}catch(w){console.error("Error fetching customers:",w)}},y=w=>{const{name:S,value:O}=w.target;o(D=>({...D,[S]:O})),k[S]&&E(D=>({...D,[S]:void 0}))},_=()=>{var S,O,D,L,A,X,T,H,F,z,P,q,G;const w={};return(S=l.challan_no)!=null&&S.trim()||(w.challan_no="Challan number is required"),(O=l.comp_name)!=null&&O.trim()||(w.comp_name="Company is required"),l.customer_id||(w.customer_id="Customer is required"),(D=l.challan_date)!=null&&D.trim()||(w.challan_date="Delivery date is required"),(L=l.to)!=null&&L.trim()||(w.to="To field is required"),(A=l.from)!=null&&A.trim()||(w.from="From field is required"),l.part_id||(w.part_id="Part is required"),(X=l.part_no)!=null&&X.trim()||(w.part_no="Part number is required"),(T=l.part_description)!=null&&T.trim()||(w.part_description="Part description is required"),(H=l.hsn_code)!=null&&H.trim()||(w.hsn_code="HSN code is required"),(!l.quantity||l.quantity<=0)&&(w.quantity="Quantity must be greater than 0"),(F=l.unit_rate)!=null&&F.trim()||(w.unit_rate="Unit rate is required"),(z=l.total)!=null&&z.trim()||(w.total="Total is required"),(P=l.challan_date)!=null&&P.trim()||(w.challan_date="Challan date is required"),(q=l.signature)!=null&&q.trim()||(w.signature="Signature is required"),(G=l.notes)!=null&&G.trim()||(w.notes="Notes are required"),l.status||(w.status="Status is required"),E(w),Object.keys(w).length===0},N=async w=>{var O,D;if(w.preventDefault(),console.log("Form data being submitted:",l),console.log("Challan ID:",n==null?void 0:n.id,"Type:",typeof(n==null?void 0:n.id)),!_()||!n)return;const S={...l,part_id:l.part_id&&l.part_id>0?l.part_id:null,customer_id:l.customer_id&&l.customer_id>0?l.customer_id:null};console.log("Processed submit data:",S),j(!0);try{const L=parseInt((n==null?void 0:n.id)||"0");console.log("Parsed challan ID:",L);const A=await Z.updateDeliveryChallan(L,S);console.log("Raw API Response:",A),console.log("Response type:",typeof A),console.log("Response success:",A==null?void 0:A.success),console.log("Response data:",A==null?void 0:A.data),console.log("Response message:",A==null?void 0:A.message);const X=(A==null?void 0:A.success)||((O=A==null?void 0:A.data)==null?void 0:O.success),T=(A==null?void 0:A.message)||((D=A==null?void 0:A.data)==null?void 0:D.message)||"Update completed";console.log("Is success:",X),console.log("Final message:",T),X?(console.log("Update successful, calling onSuccess and closing modal"),r(),C()):(console.error("API Error Response:",A),alert(`Failed to update delivery challan: ${T}`))}catch(L){console.error("Error updating delivery challan:",L),alert("Failed to update delivery challan: "+L.message)}finally{j(!1)}},C=()=>{o({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),E({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:C,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Delivery Challan"}),s.jsx("button",{type:"button",onClick:C,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:x,children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_no",className:"block text-sm font-medium text-gray-700",children:"Challan Number *"}),s.jsx("input",{type:"text",id:"challan_no",name:"challan_no",value:l.challan_no,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.challan_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter challan number",disabled:x}),k.challan_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.challan_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700",children:"Company/Recipient *"}),s.jsxs("select",{id:"to",name:"to",value:l.to,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.to?"border-red-300":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:"Select company"}),c.map(w=>s.jsx("option",{value:w.company_name||w.comp_name||w.name,children:w.company_name||w.comp_name||w.name},w.id))]}),k.to&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.to})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:l.part_id||"",onChange:w=>{const S=w.target.value?Number(w.target.value):null,O=u.find(D=>D.id===S);o(D=>({...D,part_id:S,part_no:(O==null?void 0:O.part_no)||"",part_description:(O==null?void 0:O.part_description)||"",hsn_code:(O==null?void 0:O.hsn_code)||""}))},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.part_id?"border-red-300":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:"Select part"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.part_no," - ",w.part_description]},w.id))]}),k.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_no",className:"block text-sm font-medium text-gray-700",children:"Part Number *"}),s.jsx("input",{type:"text",id:"part_no",name:"part_no",value:l.part_no,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.part_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter part number",disabled:x}),k.part_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.part_no})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700",children:"From *"}),s.jsx("input",{type:"text",id:"from",name:"from",value:l.from,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.from?"border-red-300":"border-gray-300"}`,placeholder:"Enter from location",disabled:x}),k.from&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.from})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:l.part_description,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:x}),k.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:((p=l.customer_id)==null?void 0:p.toString())||"",onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.customer_id?"border-red-300":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:"Select customer"}),f.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]}),k.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hsn_code",className:"block text-sm font-medium text-gray-700",children:"HSN Code *"}),s.jsx("input",{type:"text",id:"hsn_code",name:"hsn_code",value:l.hsn_code,onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter HSN code",disabled:x})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",value:l.quantity,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Enter quantity",min:"1",disabled:x}),k.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit_rate",className:"block text-sm font-medium text-gray-700",children:"Unit Rate *"}),s.jsx("input",{type:"text",id:"unit_rate",name:"unit_rate",value:l.unit_rate,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.unit_rate?"border-red-300":"border-gray-300"}`,placeholder:"Enter unit rate",disabled:x}),k.unit_rate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.unit_rate})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700",children:"Total Amount *"}),s.jsx("input",{type:"text",id:"total",name:"total",value:l.total,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.total?"border-red-300":"border-gray-300"}`,placeholder:"Enter total amount",disabled:x}),k.total&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.total})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status *"}),s.jsxs("select",{id:"status",name:"status",value:l.status,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${k.status?"border-red-300":"border-gray-300"}`,disabled:x,children:[s.jsx("option",{value:"",children:"Select status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),k.status&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.status})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_date",className:"block text-sm font-medium text-gray-700",children:"Challan Date"}),s.jsx("input",{type:"date",id:"challan_date",name:"challan_date",value:a(l.challan_date),onChange:y,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:x})]})})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:x,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Updating...":"Update Challan"}),s.jsx("button",{type:"button",onClick:C,disabled:x,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},mc={checkApiConnection:async()=>{try{return(await fetch(`${{}.VITE_API_BASE_URL||"http://192.168.1.22:8000/api"}/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)})).ok}catch(e){return console.warn("API server not reachable:",e),!1}},testEndpoint:async e=>{try{return{success:!0,data:await I.get(e)}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}},getApiInfo:()=>({baseUrl:{}.VITE_API_BASE_URL||"http://192.168.1.22:8000/api",useMockApi:{}.VITE_USE_MOCK_API==="true",isProduction:!0})},g0=()=>{const[e,t]=b.useState("checking"),[r,n]=b.useState(null);b.useEffect(()=>{(async()=>{t("checking");const i=mc.getApiInfo();if(n(i),i.useMockApi){t("disconnected");return}const u=await mc.checkApiConnection();t(u?"connected":"disconnected")})()},[]);const a=()=>{switch(e){case"checking":return s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-900"});case"connected":return s.jsx(Bt,{className:"h-4 w-4 text-green-600"});case"disconnected":return s.jsx(ha,{className:"h-4 w-4 text-red-600"})}},l=()=>{switch(e){case"checking":return"Checking API...";case"connected":return"API Connected";case"disconnected":return r!=null&&r.useMockApi?"Using Mock API":"API Disconnected"}},o=()=>{switch(e){case"checking":return"bg-blue-100 text-blue-800";case"connected":return"bg-green-100 text-green-800";case"disconnected":return r!=null&&r.useMockApi?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}};return s.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${o()}`,children:[a(),s.jsx("span",{className:"ml-2",children:l()})]})},y0=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,l]=b.useState(""),[o,c]=b.useState("all"),[i,u]=b.useState("all"),[g,f]=b.useState([]),[v,x]=b.useState(!0),[j,k]=b.useState(null),[E,h]=b.useState(!1),[d,m]=b.useState(!1),[y,_]=b.useState(!1),[N,C]=b.useState(1),[p,w]=b.useState(1),[S,O]=b.useState(0),[D]=b.useState(10),L=async(M=1)=>{x(!0);try{const V=await Z.getDeliveryChallans(M);if(console.log("Delivery Challans API Response:",V),V.success&&V.data){let K=[];if(Array.isArray(V.data)?K=V.data.map(U=>{var Ce;return{id:U.id.toString(),challanNumber:U.challan_no,company:U.comp_name||U.to||"",orderId:U.part_no,status:U.status||"pending",createdDate:U.created_at,deliveryDate:U.challan_date,driverName:U.signature||"",driverContactNumber:"",notes:U.notes||"",customerName:((Ce=U.customer)==null?void 0:Ce.name)||"",partDescription:U.part_description||"",quantity:U.quantity||0,unitRate:U.unit_rate||"0.00",total:U.total||"0.00"}}):V.data.data&&Array.isArray(V.data.data)&&(K=V.data.data.map(U=>{var Ce;return{id:U.id.toString(),challanNumber:U.challan_no,company:U.comp_name||U.to||"",orderId:U.part_no,status:U.status||"pending",createdDate:U.created_at,deliveryDate:U.challan_date,driverName:U.signature||"",driverContactNumber:"",notes:U.notes||"",customerName:((Ce=U.customer)==null?void 0:Ce.name)||"",partDescription:U.part_description||"",quantity:U.quantity||0,unitRate:U.unit_rate||"0.00",total:U.total||"0.00"}})),t(K),K.sort((U,Ce)=>{const fs=new Date(U.createdDate);return new Date(Ce.createdDate).getTime()-fs.getTime()}),n(K),V.pagination)C(V.pagination.current_page),w(V.pagination.last_page),O(V.pagination.total);else{const U=K.length,Ce=Math.ceil(U/D);C(M),w(Ce),O(U)}const Re=Array.from(new Set(K.filter(U=>U&&U.company).map(U=>U.company)));f(Re)}else t([]),n([]),f([]),C(1),w(1),O(0)}catch(V){console.error("Error fetching delivery challans:",V),t([]),n([]),f([]),C(1),w(1),O(0)}finally{x(!1)}};b.useEffect(()=>{L()},[]);const A=()=>{if(S>0&&p>1)return r;const M=(N-1)*D,V=M+D;return r.slice(M,V)},X=M=>{M>=1&&M<=p&&(C(M),L(M))};b.useEffect(()=>{let M=e;a&&(M=M.filter(V=>V.challanNumber.toLowerCase().includes(a.toLowerCase())||V.orderId.toLowerCase().includes(a.toLowerCase())||V.company.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(M=M.filter(V=>V.company===o)),i!=="all"&&(M=M.filter(V=>V.status===i)),M.sort((V,K)=>{const Re=new Date(V.createdDate);return new Date(K.createdDate).getTime()-Re.getTime()}),n(M),C(1)},[e,a,o,i]);const T=M=>{const V=e.find(K=>K.id===M);V&&(k(V),h(!0))},H=()=>{h(!1),k(null)},F=()=>{L()},z=M=>{k(M),_(!0)},P=()=>{_(!1),k(null)},q=()=>{L()},G=async(M,V)=>{if(window.confirm(`Are you sure you want to delete delivery challan "${V}"? This action cannot be undone.`))try{const K=await Z.deleteDeliveryChallan(parseInt(M));K.success?(alert("Delivery challan deleted successfully"),L()):alert("Failed to delete delivery challan: "+(K.message||"Unknown error"))}catch(K){console.error("Error deleting delivery challan:",K),alert("Failed to delete delivery challan. Please try again.")}},Le=M=>{switch(M){case"delivered":return s.jsx(Bt,{className:"w-4 h-4 text-green-600"});case"in_transit":return s.jsx(Qh,{className:"w-4 h-4 text-blue-900"});case"pending":return s.jsx($h,{className:"w-4 h-4 text-yellow-600"});case"cancelled":return s.jsx(Iu,{className:"w-4 h-4 text-red-600"});default:return null}};return v?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Delivery Challans"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View all delivery challans across all companies in the system"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(g0,{}),s.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Add Delivery Challan"]})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search challans...",value:a,onChange:M=>l(M.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:M=>c(M.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"}),g.map(M=>s.jsx("option",{value:M,children:M},M))]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:M=>u(M.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A().filter(M=>M).map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.challanNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.company}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.orderId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.status==="delivered"?"bg-green-100 text-green-800":M.status==="in_transit"?"bg-blue-200 text-blue-900":M.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Le(M.status),s.jsx("span",{className:"ml-1",children:M.status?M.status.replace("_"," "):"Unknown"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.createdDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.deliveryDate?new Date(M.deliveryDate).toLocaleDateString():"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>T(M.id),className:"text-blue-900 hover:text-blue-800 p-1 mr-1",title:"View Challan",children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>z(M),className:"text-blue-600 hover:text-blue-700 p-1 mr-1",title:"Edit Challan",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>G(M.id,M.challanNumber),className:"text-red-600 hover:text-red-700 p-1",title:"Delete Challan",children:s.jsx(Vt,{className:"h-4 w-4"})})]})]},M.id))})]})}),p>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>X(N-1),disabled:N===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>X(N+1),disabled:N===p,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(N-1)*D+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(N*D,r.length)})," ","of ",s.jsx("span",{className:"font-medium",children:r.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>X(N-1),disabled:N===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:p},(M,V)=>V+1).map(M=>s.jsx("button",{onClick:()=>X(M),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${N===M?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:M},M)),s.jsxs("button",{onClick:()=>X(N+1),disabled:N===p,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]}),A().length===0&&r.length>0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No delivery challans found on this page."})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No delivery challans found matching your criteria."})})]}),E&&j&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:H,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delivery Challan Details"}),s.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(ke,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Challan Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:j.challanNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Order ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:j.orderId})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Company"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:j.company})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.status==="delivered"?"bg-green-100 text-green-800":j.status==="in_transit"?"bg-blue-200 text-blue-900":j.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Le(j.status),s.jsx("span",{className:"ml-1",children:j.status.replace("_"," ")})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(j.createdDate).toLocaleDateString()})]})]}),j.deliveryDate&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Delivery Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(j.deliveryDate).toLocaleDateString()})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Additional Information"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Tracking:"})," Available in system"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Documents:"})," Invoice attached"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priority:"})," Normal"]})]})]})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:H,children:"Close"})})]})]})}),s.jsx(h0,{isOpen:d,onClose:()=>m(!1),onSuccess:F}),y&&s.jsx(x0,{isOpen:y,onClose:P,onSuccess:q,challan:j})]})},v0=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),[a,l]=b.useState("30d");if(b.useEffect(()=>{(async()=>{try{await new Promise(u=>setTimeout(u,1e3)),t({totalRevenue:285e3,totalOrders:1250,totalCompanies:45,totalChallans:320,monthlyRevenue:[{month:"Jan",amount:45e3},{month:"Feb",amount:52e3},{month:"Mar",amount:48e3},{month:"Apr",amount:61e3},{month:"May",amount:55e3},{month:"Jun",amount:69e3}],companyPerformance:[{company:"TechCorp Solutions",orders:45,revenue:65e3},{company:"GlobalTech Inc.",orders:38,revenue:52e3},{company:"DataFlow Systems",orders:32,revenue:48e3},{company:"InnovateLabs",orders:28,revenue:42e3},{company:"CloudSync Ltd.",orders:25,revenue:38e3}]})}catch(i){console.error("Error fetching report data:",i)}finally{n(!1)}})()},[a]),r)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})});if(!e)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Unable to load report data."})});const o=Math.max(...e.monthlyRevenue.map(c=>c.amount));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"System analytics and performance metrics"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:a,onChange:c=>l(c.target.value),className:"block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"}),s.jsx("option",{value:"1y",children:"Last year"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-green-100 rounded-md",children:s.jsx(Bl,{className:"h-6 w-6 text-green-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),s.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["",e.totalRevenue.toLocaleString()]})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-blue-200 rounded-md",children:s.jsx(gr,{className:"h-6 w-6 text-blue-900"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalOrders.toLocaleString()})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-purple-100 rounded-md",children:s.jsx(xt,{className:"h-6 w-6 text-purple-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Companies"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalCompanies})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-orange-100 rounded-md",children:s.jsx(ht,{className:"h-6 w-6 text-orange-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Delivery Challans"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalChallans})]})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Revenue"}),s.jsx("div",{className:"space-y-3",children:e.monthlyRevenue.map(c=>{const i=c.amount/o*100;return s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 text-sm font-medium text-gray-500",children:c.month}),s.jsx("div",{className:"flex-1 mx-4",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:s.jsx("div",{className:"bg-blue-900 h-4 rounded-full transition-all duration-300",style:{width:`${i}%`}})})}),s.jsxs("div",{className:"w-20 text-sm font-medium text-gray-900 text-right",children:["",c.amount.toLocaleString()]})]},c.month)})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Companies"}),s.jsx("div",{className:"space-y-4",children:e.companyPerformance.map((c,i)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["#",i+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.company}),s.jsxs("p",{className:"text-xs text-gray-500",children:[c.orders," orders"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",c.revenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500",children:"revenue"})]})]},c.company))})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(e.totalOrders/e.totalCompanies*10)/10}),s.jsx("div",{className:"text-sm text-gray-500",children:"Avg Orders per Company"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["",Math.round(e.totalRevenue/e.totalOrders)]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Avg Order Value"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(e.totalChallans/e.totalOrders*100),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Delivery Rate"})]})]})]})]})},b0=()=>{const[e,t]=b.useState("roles"),[r,n]=b.useState(!1),a=[{id:"1",name:"Super Admin",description:"Full system access",permissions:["all"],userCount:1},{id:"2",name:"Company Admin",description:"Manage company operations",permissions:["manage_company","view_reports","manage_users"],userCount:45},{id:"3",name:"Viewer",description:"Read-only access",permissions:["view"],userCount:23}],l=[{id:"1",user:"Super Admin",action:"Login",resource:"System",timestamp:"2024-01-28T10:30:00Z",ipAddress:"192.168.1.100",status:"success"},{id:"2",user:"john@techcorp.com",action:"Create Company",resource:"Companies",timestamp:"2024-01-27T14:15:00Z",ipAddress:"10.0.0.50",status:"success"},{id:"3",user:"admin@globaltech.com",action:"Failed Login",resource:"Authentication",timestamp:"2024-01-26T09:45:00Z",ipAddress:"203.0.113.1",status:"failed"}],o=[{id:"manage_company",label:"Manage Company",description:"Create, edit, and delete companies"},{id:"manage_users",label:"Manage Users",description:"Add, edit, and remove users"},{id:"view_reports",label:"View Reports",description:"Access system reports and analytics"},{id:"manage_orders",label:"Manage Orders",description:"Process and manage orders"},{id:"manage_challans",label:"Manage Delivery Challans",description:"Handle delivery documentation"},{id:"system_settings",label:"System Settings",description:"Modify system configuration"}],c=[{id:"roles",label:"Roles",icon:xt},{id:"permissions",label:"Permissions",icon:Gn},{id:"audit-logs",label:"Audit Logs",icon:ht},{id:"security",label:"Security",icon:ql}],i=()=>{n(!0)},u=f=>{console.log("Edit role:",f)},g=f=>{console.log("Delete role:",f)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage system roles, permissions, and security settings"})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:c.map(f=>{const v=f.icon;return s.jsxs("button",{onClick:()=>t(f.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${e===f.id?"border-blue-900 text-blue-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(v,{className:"h-4 w-4 mr-2"}),f.label]},f.id)})})}),s.jsxs("div",{className:"p-6",children:[e==="roles"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"User Roles"}),s.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800",children:[s.jsx(Gh,{className:"h-4 w-4 mr-2"}),"Add Role"]})]}),s.jsx("div",{className:"space-y-4",children:a.map(f=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[f.userCount," users assigned"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[f.permissions.length," permissions"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>u(f.id),className:"p-2 text-gray-400 hover:text-blue-900",title:"Edit Role",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(f.id),className:"p-2 text-gray-400 hover:text-red-600",title:"Delete Role",disabled:f.name==="Super Admin",children:s.jsx(Vt,{className:"h-4 w-4"})})]})]})},f.id))})]}),e==="permissions"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"System Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(f=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Gn,{className:"h-5 w-5 text-blue-900"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f.label}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description})]})]})},f.id))})]}),e==="audit-logs"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Audit Logs"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(f=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.user}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.action}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.resource}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.timestamp).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.ipAddress}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[f.status==="success"?s.jsx(Bt,{className:"w-4 h-4 mr-1"}):s.jsx(ha,{className:"w-4 h-4 mr-1"}),f.status]})})]},f.id))})]})})]}),e==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Oh,{className:"h-5 w-5 text-yellow-400"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Password Policy"}),s.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:"Enforce strong passwords with minimum 8 characters, uppercase, lowercase, and numbers."})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Security Options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Require 2FA for all admin accounts"})]}),s.jsx("button",{className:"bg-blue-900 text-white px-3 py-1 rounded text-sm",children:"Enable"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Session Timeout"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Auto-logout after 30 minutes of inactivity"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"30 minutes"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Login Attempts"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Maximum failed login attempts before lockout"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"5 attempts"})]})]})]})]})]})]})]})]})},w0=()=>{const{logout:e}=fa(),t=ms(),r=async()=>{await e(),t("/login")},n=[{path:"/dashboard",label:"Dashboard",icon:Uh},{path:"/companies",label:"Companies",icon:zl},{path:"/admins",label:"Company Admins",icon:xt},{path:"/customers",label:"Customers",icon:Bo},{path:"/parts",label:"Parts",icon:Es},{path:"/orders",label:"Orders",icon:gr},{path:"/delivery-challans",label:"Delivery Challans",icon:ht},{path:"/reports",label:"Reports",icon:$l},{path:"/settings",label:"Settings",icon:$u}];return s.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-gradient-to-r from-blue-900 to-blue-800",children:s.jsx("h1",{className:"text-lg font-semibold text-white",children:"Super Admin"})}),s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:n.map(a=>{const l=a.icon;return s.jsxs(Nh,{to:a.path,className:({isActive:o})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 ${o?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx(l,{className:"mr-3 h-5 w-5"}),a.label]},a.path)})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:r,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150",children:[s.jsx(Bh,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})})},j0=()=>{var t;const{user:e}=fa();return s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-[100] w-full lg:ml-64 lg:w-[calc(100%-16rem)]",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"CRM Super Admin Panel"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search...",className:"block w-48 lg:w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("button",{className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx(Mh,{className:"h-6 w-6"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:(t=e==null?void 0:e.name)==null?void 0:t.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"Super Admin"})]})]})]})]})})})},N0=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(w0,{}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx(j0,{}),s.jsx("main",{className:"py-8 pt-20 max-w-full overflow-hidden",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 max-w-full",children:s.jsx("div",{className:"max-w-full overflow-hidden",children:s.jsx(ch,{})})})})]})]}),_0=({children:e})=>{const{isAuthenticated:t,isLoading:r}=fa(),n=Gt();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(ih,{to:"/login",state:{from:n},replace:!0})},k0=({message:e,type:t,onClose:r})=>{const[n,a]=b.useState(!0);b.useEffect(()=>{const i=setTimeout(()=>{a(!1),setTimeout(r,300)},3e3);return()=>clearTimeout(i)},[r]);const l=()=>{switch(t){case"success":return s.jsx(Bt,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(Iu,{className:"w-5 h-5 text-red-500"});case"info":return s.jsx(cc,{className:"w-5 h-5 text-blue-500"});default:return s.jsx(cc,{className:"w-5 h-5 text-blue-500"})}},o=()=>{switch(t){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-blue-50 border-blue-200"}},c=()=>{switch(t){case"success":return"text-green-800";case"error":return"text-red-800";case"info":return"text-blue-800";default:return"text-blue-800"}};return s.jsx("div",{className:`
        fixed bottom-4 right-4 z-50 max-w-sm w-full
        transform transition-all duration-300 ease-in-out
        ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:s.jsxs("div",{className:`
        flex items-center p-4 rounded-lg border shadow-lg
        ${o()}
      `,children:[s.jsx("div",{className:"flex-shrink-0 mr-3",children:l()}),s.jsx("div",{className:`flex-1 text-sm font-medium ${c()}`,children:e}),s.jsx("button",{onClick:()=>{a(!1),setTimeout(r,300)},className:`flex-shrink-0 ml-4 p-1 rounded-full hover:bg-gray-100 ${c()}`,children:s.jsx(ke,{className:"w-4 h-4"})})]})})},C0=()=>{const{toasts:e,removeToast:t}=Fu();return s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(r=>s.jsx(k0,{message:r.message,type:r.type,onClose:()=>t(r.id)},r.id))})};function S0(){return s.jsx(Dh,{children:s.jsxs(Ah,{children:[s.jsx(vh,{children:s.jsxs(uh,{children:[s.jsx(Se,{path:"/login",element:s.jsx(Xh,{})}),s.jsxs(Se,{path:"/",element:s.jsx(_0,{children:s.jsx(N0,{})}),children:[s.jsx(Se,{index:!0,element:s.jsx(uc,{})}),s.jsx(Se,{path:"dashboard",element:s.jsx(uc,{})}),s.jsx(Se,{path:"companies",element:s.jsx(e0,{})}),s.jsx(Se,{path:"companies/:id",element:s.jsx(s0,{})}),s.jsx(Se,{path:"admins",element:s.jsx(a0,{})}),s.jsx(Se,{path:"customers",element:s.jsx(i0,{})}),s.jsx(Se,{path:"parts",element:s.jsx(u0,{})}),s.jsx(Se,{path:"orders",element:s.jsx(f0,{})}),s.jsx(Se,{path:"delivery-challans",element:s.jsx(y0,{})}),s.jsx(Se,{path:"reports",element:s.jsx(v0,{})}),s.jsx(Se,{path:"settings",element:s.jsx(b0,{})})]})]})}),s.jsx(C0,{})]})})}Ba.createRoot(document.getElementById("root")).render(s.jsx(Gl.StrictMode,{children:s.jsx(S0,{})}));
