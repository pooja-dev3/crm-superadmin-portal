function Iu(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Mu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oc={exports:{}},Wn={},ic={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=Symbol.for("react.element"),$u=Symbol.for("react.portal"),zu=Symbol.for("react.fragment"),qu=Symbol.for("react.strict_mode"),Uu=Symbol.for("react.profiler"),Bu=Symbol.for("react.provider"),Vu=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),Wu=Symbol.for("react.suspense"),Qu=Symbol.for("react.memo"),Gu=Symbol.for("react.lazy"),qo=Symbol.iterator;function Ku(e){return e===null||typeof e!="object"?null:(e=qo&&e[qo]||e["@@iterator"],typeof e=="function"?e:null)}var cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dc=Object.assign,uc={};function $s(e,t,r){this.props=e,this.context=t,this.refs=uc,this.updater=r||cc}$s.prototype.isReactComponent={};$s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mc(){}mc.prototype=$s.prototype;function $l(e,t,r){this.props=e,this.context=t,this.refs=uc,this.updater=r||cc}var zl=$l.prototype=new mc;zl.constructor=$l;dc(zl,$s.prototype);zl.isPureReactComponent=!0;var Uo=Array.isArray,pc=Object.prototype.hasOwnProperty,ql={current:null},hc={key:!0,ref:!0,__self:!0,__source:!0};function fc(e,t,r){var n,a={},l=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)pc.call(t,n)&&!hc.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var i=Array(c),u=0;u<c;u++)i[u]=arguments[u+2];a.children=i}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:Or,type:e,key:l,ref:o,props:a,_owner:ql.current}}function Zu(e,t){return{$$typeof:Or,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ul(e){return typeof e=="object"&&e!==null&&e.$$typeof===Or}function Ju(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bo=/\/+/g;function pa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ju(""+e.key):t.toString(36)}function rn(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Or:case $u:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+pa(o,0):n,Uo(a)?(r="",e!=null&&(r=e.replace(Bo,"$&/")+"/"),rn(a,t,r,"",function(u){return u})):a!=null&&(Ul(a)&&(a=Zu(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Bo,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Uo(e))for(var c=0;c<e.length;c++){l=e[c];var i=n+pa(l,c);o+=rn(l,t,r,i,a)}else if(i=Ku(e),typeof i=="function")for(e=i.call(e),c=0;!(l=e.next()).done;)l=l.value,i=n+pa(l,c++),o+=rn(l,t,r,i,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zr(e,t,r){if(e==null)return e;var n=[],a=0;return rn(e,n,"","",function(l){return t.call(r,l,a++)}),n}function Xu(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},nn={transition:null},Yu={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:nn,ReactCurrentOwner:ql};function xc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:zr,forEach:function(e,t,r){zr(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zr(e,function(){t++}),t},toArray:function(e){return zr(e,function(t){return t})||[]},only:function(e){if(!Ul(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=$s;W.Fragment=zu;W.Profiler=Uu;W.PureComponent=$l;W.StrictMode=qu;W.Suspense=Wu;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yu;W.act=xc;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dc({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=ql.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)pc.call(t,i)&&!hc.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){c=Array(i);for(var u=0;u<i;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Or,type:e.type,key:a,ref:l,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:Vu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bu,_context:e},e.Consumer=e};W.createElement=fc;W.createFactory=function(e){var t=fc.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Hu,render:e}};W.isValidElement=Ul;W.lazy=function(e){return{$$typeof:Gu,_payload:{_status:-1,_result:e},_init:Xu}};W.memo=function(e,t){return{$$typeof:Qu,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=nn.transition;nn.transition={};try{e()}finally{nn.transition=t}};W.unstable_act=xc;W.useCallback=function(e,t){return Ee.current.useCallback(e,t)};W.useContext=function(e){return Ee.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ee.current.useEffect(e,t)};W.useId=function(){return Ee.current.useId()};W.useImperativeHandle=function(e,t,r){return Ee.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ee.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ee.current.useReducer(e,t,r)};W.useRef=function(e){return Ee.current.useRef(e)};W.useState=function(e){return Ee.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ee.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ee.current.useTransition()};W.version="18.3.1";ic.exports=W;var v=ic.exports;const Bl=Mu(v),em=Iu({__proto__:null,default:Bl},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=v,sm=Symbol.for("react.element"),rm=Symbol.for("react.fragment"),nm=Object.prototype.hasOwnProperty,am=tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lm={key:!0,ref:!0,__self:!0,__source:!0};function gc(e,t,r){var n,a={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)nm.call(t,n)&&!lm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:sm,type:e,key:l,ref:o,props:a,_owner:am.current}}Wn.Fragment=rm;Wn.jsx=gc;Wn.jsxs=gc;oc.exports=Wn;var s=oc.exports,za={},yc={exports:{}},qe={},vc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,$){var F=E.length;E.push($);e:for(;0<F;){var U=F-1>>>1,Q=E[U];if(0<a(Q,$))E[U]=$,E[F]=Q,F=U;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var $=E[0],F=E.pop();if(F!==$){E[0]=F;e:for(var U=0,Q=E.length,ce=Q>>>1;U<ce;){var I=2*(U+1)-1,B=E[I],J=I+1,ke=E[J];if(0>a(B,F))J<Q&&0>a(ke,B)?(E[U]=ke,E[J]=F,U=J):(E[U]=B,E[I]=F,U=I);else if(J<Q&&0>a(ke,F))E[U]=ke,E[J]=F,U=J;else break e}}return $}function a(E,$){var F=E.sortIndex-$.sortIndex;return F!==0?F:E.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var i=[],u=[],g=1,h=null,y=3,b=!1,N=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(E){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=E)n(u),$.sortIndex=$.expirationTime,t(i,$);else break;$=r(u)}}function x(E){if(C=!1,d(E),!N)if(r(i)!==null)N=!0,D(_);else{var $=r(u);$!==null&&H(x,$.startTime-E)}}function _(E,$){N=!1,C&&(C=!1,f(m),m=-1),b=!0;var F=y;try{for(d($),h=r(i);h!==null&&(!(h.expirationTime>$)||E&&!T());){var U=h.callback;if(typeof U=="function"){h.callback=null,y=h.priorityLevel;var Q=U(h.expirationTime<=$);$=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(i)&&n(i),d($)}else n(i);h=r(i)}if(h!==null)var ce=!0;else{var I=r(u);I!==null&&H(x,I.startTime-$),ce=!1}return ce}finally{h=null,y=F,b=!1}}var j=!1,S=null,m=-1,w=5,P=-1;function T(){return!(e.unstable_now()-P<w)}function A(){if(S!==null){var E=e.unstable_now();P=E;var $=!0;try{$=S(!0,E)}finally{$?L():(j=!1,S=null)}}else j=!1}var L;if(typeof p=="function")L=function(){p(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,X=M.port2;M.port1.onmessage=A,L=function(){X.postMessage(null)}}else L=function(){k(A,0)};function D(E){S=E,j||(j=!0,L())}function H(E,$){m=k(function(){E(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){N||b||(N=!0,D(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(E){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var F=y;y=$;try{return E()}finally{y=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,$){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=y;y=E;try{return $()}finally{y=F}},e.unstable_scheduleCallback=function(E,$,F){var U=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,E){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=F+Q,E={id:g++,callback:$,priorityLevel:E,startTime:F,expirationTime:Q,sortIndex:-1},F>U?(E.sortIndex=F,t(u,E),r(i)===null&&E===r(u)&&(C?(f(m),m=-1):C=!0,H(x,F-U))):(E.sortIndex=Q,t(i,E),N||b||(N=!0,D(_))),E},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(E){var $=y;return function(){var F=y;y=$;try{return E.apply(this,arguments)}finally{y=F}}}})(bc);vc.exports=bc;var om=vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=v,ze=om;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wc=new Set,fr={};function os(e,t){Ds(e,t),Ds(e+"Capture",t)}function Ds(e,t){for(fr[e]=t,e=0;e<t.length;e++)wc.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qa=Object.prototype.hasOwnProperty,cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vo={},Ho={};function dm(e){return qa.call(Ho,e)?!0:qa.call(Vo,e)?!1:cm.test(e)?Ho[e]=!0:(Vo[e]=!0,!1)}function um(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mm(e,t,r,n){if(t===null||typeof t>"u"||um(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,r,n,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){be[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];be[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){be[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){be[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){be[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){be[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){be[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){be[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){be[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vl=/[\-:]([a-z])/g;function Hl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vl,Hl);be[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vl,Hl);be[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vl,Hl);be[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){be[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});be.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){be[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wl(e,t,r,n){var a=be.hasOwnProperty(t)?be[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mm(t,r,a,n)&&(r=null),n||a===null?dm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wt=im.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qr=Symbol.for("react.element"),ms=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),Ql=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),jc=Symbol.for("react.provider"),Nc=Symbol.for("react.context"),Gl=Symbol.for("react.forward_ref"),Ba=Symbol.for("react.suspense"),Va=Symbol.for("react.suspense_list"),Kl=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),_c=Symbol.for("react.offscreen"),Wo=Symbol.iterator;function Qs(e){return e===null||typeof e!="object"?null:(e=Wo&&e[Wo]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,ha;function tr(e){if(ha===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ha=t&&t[1]||""}return`
`+ha+e}var fa=!1;function xa(e,t){if(!e||fa)return"";fa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=n.stack.split(`
`),o=a.length-1,c=l.length-1;1<=o&&0<=c&&a[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==l[c]){var i=`
`+a[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=o&&0<=c);break}}}finally{fa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tr(e):""}function pm(e){switch(e.tag){case 5:return tr(e.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 2:case 15:return e=xa(e.type,!1),e;case 11:return e=xa(e.type.render,!1),e;case 1:return e=xa(e.type,!0),e;default:return""}}function Ha(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ps:return"Fragment";case ms:return"Portal";case Ua:return"Profiler";case Ql:return"StrictMode";case Ba:return"Suspense";case Va:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nc:return(e.displayName||"Context")+".Consumer";case jc:return(e._context.displayName||"Context")+".Provider";case Gl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kl:return t=e.displayName||null,t!==null?t:Ha(e.type)||"Memo";case _t:t=e._payload,e=e._init;try{return Ha(e(t))}catch{}}return null}function hm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ha(t);case 8:return t===Ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fm(e){var t=kc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ur(e){e._valueTracker||(e._valueTracker=fm(e))}function Cc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wa(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sc(e,t){t=t.checked,t!=null&&Wl(e,"checked",t,!1)}function Qa(e,t){Sc(e,t);var r=zt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ga(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ga(e,t.type,zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Go(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ga(e,t,r){(t!=="number"||xn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sr=Array.isArray;function ks(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ko(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(sr(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zt(r)}}function Ec(e,t){var r=zt(t.value),n=zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Br,Ac=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Br.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xm=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(e){xm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});function Dc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function Tc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Dc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var gm=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(e,t){if(t){if(gm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function Zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,Cs=null,Ss=null;function Jo(e){if(e=Ir(e)){if(typeof el!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Jn(t),el(e.stateNode,e.type,t))}}function Lc(e){Cs?Ss?Ss.push(e):Ss=[e]:Cs=e}function Oc(){if(Cs){var e=Cs,t=Ss;if(Ss=Cs=null,Jo(e),t)for(e=0;e<t.length;e++)Jo(t[e])}}function Fc(e,t){return e(t)}function Rc(){}var ga=!1;function Ic(e,t,r){if(ga)return e(t,r);ga=!0;try{return Fc(e,t,r)}finally{ga=!1,(Cs!==null||Ss!==null)&&(Rc(),Oc())}}function gr(e,t){var r=e.stateNode;if(r===null)return null;var n=Jn(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var tl=!1;if(xt)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{tl=!1}function ym(e,t,r,n,a,l,o,c,i){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(g){this.onError(g)}}var lr=!1,gn=null,yn=!1,sl=null,vm={onError:function(e){lr=!0,gn=e}};function bm(e,t,r,n,a,l,o,c,i){lr=!1,gn=null,ym.apply(vm,arguments)}function wm(e,t,r,n,a,l,o,c,i){if(bm.apply(this,arguments),lr){if(lr){var u=gn;lr=!1,gn=null}else throw Error(O(198));yn||(yn=!0,sl=u)}}function is(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xo(e){if(is(e)!==e)throw Error(O(188))}function jm(e){var t=e.alternate;if(!t){if(t=is(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Xo(a),e;if(l===n)return Xo(a),t;l=l.sibling}throw Error(O(188))}if(r.return!==n.return)r=a,n=l;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=l;break}if(c===n){o=!0,n=a,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,n=a;break}if(c===n){o=!0,n=l,r=a;break}c=c.sibling}if(!o)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function $c(e){return e=jm(e),e!==null?zc(e):null}function zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zc(e);if(t!==null)return t;e=e.sibling}return null}var qc=ze.unstable_scheduleCallback,Yo=ze.unstable_cancelCallback,Nm=ze.unstable_shouldYield,_m=ze.unstable_requestPaint,de=ze.unstable_now,km=ze.unstable_getCurrentPriorityLevel,Jl=ze.unstable_ImmediatePriority,Uc=ze.unstable_UserBlockingPriority,vn=ze.unstable_NormalPriority,Cm=ze.unstable_LowPriority,Bc=ze.unstable_IdlePriority,Qn=null,at=null;function Sm(e){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Qn,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Am,Em=Math.log,Pm=Math.LN2;function Am(e){return e>>>=0,e===0?32:31-(Em(e)/Pm|0)|0}var Vr=64,Hr=4194304;function rr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bn(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?n=rr(c):(l&=o,l!==0&&(n=rr(l)))}else o=r&~a,o!==0?n=rr(o):l!==0&&(n=rr(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ye(t),a=1<<r,n|=e[r],t&=~a;return n}function Dm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ye(l),c=1<<o,i=a[o];i===-1?(!(c&r)||c&n)&&(a[o]=Dm(c,t)):i<=t&&(e.expiredLanes|=c),l&=~c}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vc(){var e=Vr;return Vr<<=1,!(Vr&4194240)&&(Vr=64),e}function ya(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=r}function Lm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ye(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function Xl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ye(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Y=0;function Hc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wc,Yl,Qc,Gc,Kc,nl=!1,Wr=[],Dt=null,Tt=null,Lt=null,yr=new Map,vr=new Map,Ct=[],Om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ei(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(t.pointerId)}}function Ks(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Ir(t),t!==null&&Yl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Fm(e,t,r,n,a){switch(t){case"focusin":return Dt=Ks(Dt,e,t,r,n,a),!0;case"dragenter":return Tt=Ks(Tt,e,t,r,n,a),!0;case"mouseover":return Lt=Ks(Lt,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return yr.set(l,Ks(yr.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,vr.set(l,Ks(vr.get(l)||null,e,t,r,n,a)),!0}return!1}function Zc(e){var t=Jt(e.target);if(t!==null){var r=is(t);if(r!==null){if(t=r.tag,t===13){if(t=Mc(r),t!==null){e.blockedOn=t,Kc(e.priority,function(){Qc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function an(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ya=n,r.target.dispatchEvent(n),Ya=null}else return t=Ir(r),t!==null&&Yl(t),e.blockedOn=r,!1;t.shift()}return!0}function ti(e,t,r){an(e)&&r.delete(t)}function Rm(){nl=!1,Dt!==null&&an(Dt)&&(Dt=null),Tt!==null&&an(Tt)&&(Tt=null),Lt!==null&&an(Lt)&&(Lt=null),yr.forEach(ti),vr.forEach(ti)}function Zs(e,t){e.blockedOn===t&&(e.blockedOn=null,nl||(nl=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Rm)))}function br(e){function t(a){return Zs(a,e)}if(0<Wr.length){Zs(Wr[0],e);for(var r=1;r<Wr.length;r++){var n=Wr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dt!==null&&Zs(Dt,e),Tt!==null&&Zs(Tt,e),Lt!==null&&Zs(Lt,e),yr.forEach(t),vr.forEach(t),r=0;r<Ct.length;r++)n=Ct[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)Zc(r),r.blockedOn===null&&Ct.shift()}var Es=wt.ReactCurrentBatchConfig,wn=!0;function Im(e,t,r,n){var a=Y,l=Es.transition;Es.transition=null;try{Y=1,eo(e,t,r,n)}finally{Y=a,Es.transition=l}}function Mm(e,t,r,n){var a=Y,l=Es.transition;Es.transition=null;try{Y=4,eo(e,t,r,n)}finally{Y=a,Es.transition=l}}function eo(e,t,r,n){if(wn){var a=al(e,t,r,n);if(a===null)Ea(e,t,n,jn,r),ei(e,n);else if(Fm(a,e,t,r,n))n.stopPropagation();else if(ei(e,n),t&4&&-1<Om.indexOf(e)){for(;a!==null;){var l=Ir(a);if(l!==null&&Wc(l),l=al(e,t,r,n),l===null&&Ea(e,t,n,jn,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Ea(e,t,n,null,r)}}var jn=null;function al(e,t,r,n){if(jn=null,e=Zl(n),e=Jt(e),e!==null)if(t=is(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jn=e,null}function Jc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(km()){case Jl:return 1;case Uc:return 4;case vn:case Cm:return 16;case Bc:return 536870912;default:return 16}default:return 16}}var Et=null,to=null,ln=null;function Xc(){if(ln)return ln;var e,t=to,r=t.length,n,a="value"in Et?Et.value:Et.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[l-n];n++);return ln=a.slice(e,1<n?1-n:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qr(){return!0}function si(){return!1}function Ue(e){function t(r,n,a,l,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Qr:si,this.isPropagationStopped=si,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Ue(zs),Rr=oe({},zs,{view:0,detail:0}),$m=Ue(Rr),va,ba,Js,Gn=oe({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(va=e.screenX-Js.screenX,ba=e.screenY-Js.screenY):ba=va=0,Js=e),va)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),ri=Ue(Gn),zm=oe({},Gn,{dataTransfer:0}),qm=Ue(zm),Um=oe({},Rr,{relatedTarget:0}),wa=Ue(Um),Bm=oe({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Vm=Ue(Bm),Hm=oe({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wm=Ue(Hm),Qm=oe({},zs,{data:0}),ni=Ue(Qm),Gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zm[e])?!!t[e]:!1}function ro(){return Jm}var Xm=oe({},Rr,{key:function(e){if(e.key){var t=Gm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=on(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Km[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(e){return e.type==="keypress"?on(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?on(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ym=Ue(Xm),ep=oe({},Gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ai=Ue(ep),tp=oe({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),sp=Ue(tp),rp=oe({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),np=Ue(rp),ap=oe({},Gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lp=Ue(ap),op=[9,13,27,32],no=xt&&"CompositionEvent"in window,or=null;xt&&"documentMode"in document&&(or=document.documentMode);var ip=xt&&"TextEvent"in window&&!or,Yc=xt&&(!no||or&&8<or&&11>=or),li=String.fromCharCode(32),oi=!1;function ed(e,t){switch(e){case"keyup":return op.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hs=!1;function cp(e,t){switch(e){case"compositionend":return td(t);case"keypress":return t.which!==32?null:(oi=!0,li);case"textInput":return e=t.data,e===li&&oi?null:e;default:return null}}function dp(e,t){if(hs)return e==="compositionend"||!no&&ed(e,t)?(e=Xc(),ln=to=Et=null,hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yc&&t.locale!=="ko"?null:t.data;default:return null}}var up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!up[e.type]:t==="textarea"}function sd(e,t,r,n){Lc(n),t=Nn(t,"onChange"),0<t.length&&(r=new so("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ir=null,wr=null;function mp(e){pd(e,0)}function Kn(e){var t=gs(e);if(Cc(t))return e}function pp(e,t){if(e==="change")return t}var rd=!1;if(xt){var ja;if(xt){var Na="oninput"in document;if(!Na){var ci=document.createElement("div");ci.setAttribute("oninput","return;"),Na=typeof ci.oninput=="function"}ja=Na}else ja=!1;rd=ja&&(!document.documentMode||9<document.documentMode)}function di(){ir&&(ir.detachEvent("onpropertychange",nd),wr=ir=null)}function nd(e){if(e.propertyName==="value"&&Kn(wr)){var t=[];sd(t,wr,e,Zl(e)),Ic(mp,t)}}function hp(e,t,r){e==="focusin"?(di(),ir=t,wr=r,ir.attachEvent("onpropertychange",nd)):e==="focusout"&&di()}function fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kn(wr)}function xp(e,t){if(e==="click")return Kn(t)}function gp(e,t){if(e==="input"||e==="change")return Kn(t)}function yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:yp;function jr(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!qa.call(t,a)||!tt(e[a],t[a]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mi(e,t){var r=ui(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ui(r)}}function ad(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ad(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ld(){for(var e=window,t=xn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xn(e.document)}return t}function ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vp(e){var t=ld(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ad(r.ownerDocument.documentElement,r)){if(n!==null&&ao(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=mi(r,l);var o=mi(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bp=xt&&"documentMode"in document&&11>=document.documentMode,fs=null,ll=null,cr=null,ol=!1;function pi(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ol||fs==null||fs!==xn(n)||(n=fs,"selectionStart"in n&&ao(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cr&&jr(cr,n)||(cr=n,n=Nn(ll,"onSelect"),0<n.length&&(t=new so("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fs)))}function Gr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xs={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionend:Gr("Transition","TransitionEnd")},_a={},od={};xt&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Zn(e){if(_a[e])return _a[e];if(!xs[e])return e;var t=xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in od)return _a[e]=t[r];return e}var id=Zn("animationend"),cd=Zn("animationiteration"),dd=Zn("animationstart"),ud=Zn("transitionend"),md=new Map,hi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){md.set(e,t),os(t,[e])}for(var ka=0;ka<hi.length;ka++){var Ca=hi[ka],wp=Ca.toLowerCase(),jp=Ca[0].toUpperCase()+Ca.slice(1);Bt(wp,"on"+jp)}Bt(id,"onAnimationEnd");Bt(cd,"onAnimationIteration");Bt(dd,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(ud,"onTransitionEnd");Ds("onMouseEnter",["mouseout","mouseover"]);Ds("onMouseLeave",["mouseout","mouseover"]);Ds("onPointerEnter",["pointerout","pointerover"]);Ds("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Np=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function fi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wm(n,t,void 0,e),e.currentTarget=null}function pd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],i=c.instance,u=c.currentTarget;if(c=c.listener,i!==l&&a.isPropagationStopped())break e;fi(a,c,u),l=i}else for(o=0;o<n.length;o++){if(c=n[o],i=c.instance,u=c.currentTarget,c=c.listener,i!==l&&a.isPropagationStopped())break e;fi(a,c,u),l=i}}}if(yn)throw e=sl,yn=!1,sl=null,e}function te(e,t){var r=t[ml];r===void 0&&(r=t[ml]=new Set);var n=e+"__bubble";r.has(n)||(hd(t,e,2,!1),r.add(n))}function Sa(e,t,r){var n=0;t&&(n|=4),hd(r,e,n,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[Kr]){e[Kr]=!0,wc.forEach(function(r){r!=="selectionchange"&&(Np.has(r)||Sa(r,!1,e),Sa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kr]||(t[Kr]=!0,Sa("selectionchange",!1,t))}}function hd(e,t,r,n){switch(Jc(t)){case 1:var a=Im;break;case 4:a=Mm;break;default:a=eo}r=a.bind(null,t,r,e),a=void 0,!tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ea(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===a||i.nodeType===8&&i.parentNode===a))return;o=o.return}for(;c!==null;){if(o=Jt(c),o===null)return;if(i=o.tag,i===5||i===6){n=l=o;continue e}c=c.parentNode}}n=n.return}Ic(function(){var u=l,g=Zl(r),h=[];e:{var y=md.get(e);if(y!==void 0){var b=so,N=e;switch(e){case"keypress":if(on(r)===0)break e;case"keydown":case"keyup":b=Ym;break;case"focusin":N="focus",b=wa;break;case"focusout":N="blur",b=wa;break;case"beforeblur":case"afterblur":b=wa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=sp;break;case id:case cd:case dd:b=Vm;break;case ud:b=np;break;case"scroll":b=$m;break;case"wheel":b=lp;break;case"copy":case"cut":case"paste":b=Wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=ai}var C=(t&4)!==0,k=!C&&e==="scroll",f=C?y!==null?y+"Capture":null:y;C=[];for(var p=u,d;p!==null;){d=p;var x=d.stateNode;if(d.tag===5&&x!==null&&(d=x,f!==null&&(x=gr(p,f),x!=null&&C.push(_r(p,x,d)))),k)break;p=p.return}0<C.length&&(y=new b(y,N,null,r,g),h.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&r!==Ya&&(N=r.relatedTarget||r.fromElement)&&(Jt(N)||N[gt]))break e;if((b||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,b?(N=r.relatedTarget||r.toElement,b=u,N=N?Jt(N):null,N!==null&&(k=is(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(b=null,N=u),b!==N)){if(C=ri,x="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(C=ai,x="onPointerLeave",f="onPointerEnter",p="pointer"),k=b==null?y:gs(b),d=N==null?y:gs(N),y=new C(x,p+"leave",b,r,g),y.target=k,y.relatedTarget=d,x=null,Jt(g)===u&&(C=new C(f,p+"enter",N,r,g),C.target=d,C.relatedTarget=k,x=C),k=x,b&&N)t:{for(C=b,f=N,p=0,d=C;d;d=us(d))p++;for(d=0,x=f;x;x=us(x))d++;for(;0<p-d;)C=us(C),p--;for(;0<d-p;)f=us(f),d--;for(;p--;){if(C===f||f!==null&&C===f.alternate)break t;C=us(C),f=us(f)}C=null}else C=null;b!==null&&xi(h,y,b,C,!1),N!==null&&k!==null&&xi(h,k,N,C,!0)}}e:{if(y=u?gs(u):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var _=pp;else if(ii(y))if(rd)_=gp;else{_=fp;var j=hp}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(_=xp);if(_&&(_=_(e,u))){sd(h,_,r,g);break e}j&&j(e,y,u),e==="focusout"&&(j=y._wrapperState)&&j.controlled&&y.type==="number"&&Ga(y,"number",y.value)}switch(j=u?gs(u):window,e){case"focusin":(ii(j)||j.contentEditable==="true")&&(fs=j,ll=u,cr=null);break;case"focusout":cr=ll=fs=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,pi(h,r,g);break;case"selectionchange":if(bp)break;case"keydown":case"keyup":pi(h,r,g)}var S;if(no)e:{switch(e){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else hs?ed(e,r)&&(m="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(m="onCompositionStart");m&&(Yc&&r.locale!=="ko"&&(hs||m!=="onCompositionStart"?m==="onCompositionEnd"&&hs&&(S=Xc()):(Et=g,to="value"in Et?Et.value:Et.textContent,hs=!0)),j=Nn(u,m),0<j.length&&(m=new ni(m,e,null,r,g),h.push({event:m,listeners:j}),S?m.data=S:(S=td(r),S!==null&&(m.data=S)))),(S=ip?cp(e,r):dp(e,r))&&(u=Nn(u,"onBeforeInput"),0<u.length&&(g=new ni("onBeforeInput","beforeinput",null,r,g),h.push({event:g,listeners:u}),g.data=S))}pd(h,t)})}function _r(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Nn(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=gr(e,r),l!=null&&n.unshift(_r(e,l,a)),l=gr(e,t),l!=null&&n.push(_r(e,l,a))),e=e.return}return n}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xi(e,t,r,n,a){for(var l=t._reactName,o=[];r!==null&&r!==n;){var c=r,i=c.alternate,u=c.stateNode;if(i!==null&&i===n)break;c.tag===5&&u!==null&&(c=u,a?(i=gr(r,l),i!=null&&o.unshift(_r(r,i,c))):a||(i=gr(r,l),i!=null&&o.push(_r(r,i,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var _p=/\r\n?/g,kp=/\u0000|\uFFFD/g;function gi(e){return(typeof e=="string"?e:""+e).replace(_p,`
`).replace(kp,"")}function Zr(e,t,r){if(t=gi(t),gi(e)!==t&&r)throw Error(O(425))}function _n(){}var il=null,cl=null;function dl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,Cp=typeof clearTimeout=="function"?clearTimeout:void 0,yi=typeof Promise=="function"?Promise:void 0,Sp=typeof queueMicrotask=="function"?queueMicrotask:typeof yi<"u"?function(e){return yi.resolve(null).then(e).catch(Ep)}:ul;function Ep(e){setTimeout(function(){throw e})}function Pa(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),br(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);br(t)}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qs=Math.random().toString(36).slice(2),nt="__reactFiber$"+qs,kr="__reactProps$"+qs,gt="__reactContainer$"+qs,ml="__reactEvents$"+qs,Pp="__reactListeners$"+qs,Ap="__reactHandles$"+qs;function Jt(e){var t=e[nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gt]||r[nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vi(e);e!==null;){if(r=e[nt])return r;e=vi(e)}return t}e=r,r=e.parentNode}return null}function Ir(e){return e=e[nt]||e[gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Jn(e){return e[kr]||null}var pl=[],ys=-1;function Vt(e){return{current:e}}function se(e){0>ys||(e.current=pl[ys],pl[ys]=null,ys--)}function ee(e,t){ys++,pl[ys]=e.current,e.current=t}var qt={},_e=Vt(qt),Oe=Vt(!1),ss=qt;function Ts(e,t){var r=e.type.contextTypes;if(!r)return qt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fe(e){return e=e.childContextTypes,e!=null}function kn(){se(Oe),se(_e)}function bi(e,t,r){if(_e.current!==qt)throw Error(O(168));ee(_e,t),ee(Oe,r)}function fd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(O(108,hm(e)||"Unknown",a));return oe({},r,n)}function Cn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,ss=_e.current,ee(_e,e),ee(Oe,Oe.current),!0}function wi(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=fd(e,t,ss),n.__reactInternalMemoizedMergedChildContext=e,se(Oe),se(_e),ee(_e,e)):se(Oe),ee(Oe,r)}var mt=null,Xn=!1,Aa=!1;function xd(e){mt===null?mt=[e]:mt.push(e)}function Dp(e){Xn=!0,xd(e)}function Ht(){if(!Aa&&mt!==null){Aa=!0;var e=0,t=Y;try{var r=mt;for(Y=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mt=null,Xn=!1}catch(a){throw mt!==null&&(mt=mt.slice(e+1)),qc(Jl,Ht),a}finally{Y=t,Aa=!1}}return null}var vs=[],bs=0,Sn=null,En=0,Be=[],Ve=0,rs=null,pt=1,ht="";function Gt(e,t){vs[bs++]=En,vs[bs++]=Sn,Sn=e,En=t}function gd(e,t,r){Be[Ve++]=pt,Be[Ve++]=ht,Be[Ve++]=rs,rs=e;var n=pt;e=ht;var a=32-Ye(n)-1;n&=~(1<<a),r+=1;var l=32-Ye(t)+a;if(30<l){var o=a-a%5;l=(n&(1<<o)-1).toString(32),n>>=o,a-=o,pt=1<<32-Ye(t)+a|r<<a|n,ht=l+e}else pt=1<<l|r<<a|n,ht=e}function lo(e){e.return!==null&&(Gt(e,1),gd(e,1,0))}function oo(e){for(;e===Sn;)Sn=vs[--bs],vs[bs]=null,En=vs[--bs],vs[bs]=null;for(;e===rs;)rs=Be[--Ve],Be[Ve]=null,ht=Be[--Ve],Be[Ve]=null,pt=Be[--Ve],Be[Ve]=null}var $e=null,Me=null,re=!1,Xe=null;function yd(e,t){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ji(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Me=Ot(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rs!==null?{id:pt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$e=e,Me=null,!0):!1;default:return!1}}function hl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fl(e){if(re){var t=Me;if(t){var r=t;if(!ji(e,t)){if(hl(e))throw Error(O(418));t=Ot(r.nextSibling);var n=$e;t&&ji(e,t)?yd(n,r):(e.flags=e.flags&-4097|2,re=!1,$e=e)}}else{if(hl(e))throw Error(O(418));e.flags=e.flags&-4097|2,re=!1,$e=e}}}function Ni(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function Jr(e){if(e!==$e)return!1;if(!re)return Ni(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dl(e.type,e.memoizedProps)),t&&(t=Me)){if(hl(e))throw vd(),Error(O(418));for(;t;)yd(e,t),t=Ot(t.nextSibling)}if(Ni(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Me=Ot(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=$e?Ot(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=Me;e;)e=Ot(e.nextSibling)}function Ls(){Me=$e=null,re=!1}function io(e){Xe===null?Xe=[e]:Xe.push(e)}var Tp=wt.ReactCurrentBatchConfig;function Xs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=a.refs;o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function Xr(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _i(e){var t=e._init;return t(e._payload)}function bd(e){function t(f,p){if(e){var d=f.deletions;d===null?(f.deletions=[p],f.flags|=16):d.push(p)}}function r(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function n(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function a(f,p){return f=Mt(f,p),f.index=0,f.sibling=null,f}function l(f,p,d){return f.index=d,e?(d=f.alternate,d!==null?(d=d.index,d<p?(f.flags|=2,p):d):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,p,d,x){return p===null||p.tag!==6?(p=Ia(d,f.mode,x),p.return=f,p):(p=a(p,d),p.return=f,p)}function i(f,p,d,x){var _=d.type;return _===ps?g(f,p,d.props.children,x,d.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===_t&&_i(_)===p.type)?(x=a(p,d.props),x.ref=Xs(f,p,d),x.return=f,x):(x=fn(d.type,d.key,d.props,null,f.mode,x),x.ref=Xs(f,p,d),x.return=f,x)}function u(f,p,d,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==d.containerInfo||p.stateNode.implementation!==d.implementation?(p=Ma(d,f.mode,x),p.return=f,p):(p=a(p,d.children||[]),p.return=f,p)}function g(f,p,d,x,_){return p===null||p.tag!==7?(p=ts(d,f.mode,x,_),p.return=f,p):(p=a(p,d),p.return=f,p)}function h(f,p,d){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ia(""+p,f.mode,d),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case qr:return d=fn(p.type,p.key,p.props,null,f.mode,d),d.ref=Xs(f,null,p),d.return=f,d;case ms:return p=Ma(p,f.mode,d),p.return=f,p;case _t:var x=p._init;return h(f,x(p._payload),d)}if(sr(p)||Qs(p))return p=ts(p,f.mode,d,null),p.return=f,p;Xr(f,p)}return null}function y(f,p,d,x){var _=p!==null?p.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return _!==null?null:c(f,p,""+d,x);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case qr:return d.key===_?i(f,p,d,x):null;case ms:return d.key===_?u(f,p,d,x):null;case _t:return _=d._init,y(f,p,_(d._payload),x)}if(sr(d)||Qs(d))return _!==null?null:g(f,p,d,x,null);Xr(f,d)}return null}function b(f,p,d,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(d)||null,c(p,f,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qr:return f=f.get(x.key===null?d:x.key)||null,i(p,f,x,_);case ms:return f=f.get(x.key===null?d:x.key)||null,u(p,f,x,_);case _t:var j=x._init;return b(f,p,d,j(x._payload),_)}if(sr(x)||Qs(x))return f=f.get(d)||null,g(p,f,x,_,null);Xr(p,x)}return null}function N(f,p,d,x){for(var _=null,j=null,S=p,m=p=0,w=null;S!==null&&m<d.length;m++){S.index>m?(w=S,S=null):w=S.sibling;var P=y(f,S,d[m],x);if(P===null){S===null&&(S=w);break}e&&S&&P.alternate===null&&t(f,S),p=l(P,p,m),j===null?_=P:j.sibling=P,j=P,S=w}if(m===d.length)return r(f,S),re&&Gt(f,m),_;if(S===null){for(;m<d.length;m++)S=h(f,d[m],x),S!==null&&(p=l(S,p,m),j===null?_=S:j.sibling=S,j=S);return re&&Gt(f,m),_}for(S=n(f,S);m<d.length;m++)w=b(S,f,m,d[m],x),w!==null&&(e&&w.alternate!==null&&S.delete(w.key===null?m:w.key),p=l(w,p,m),j===null?_=w:j.sibling=w,j=w);return e&&S.forEach(function(T){return t(f,T)}),re&&Gt(f,m),_}function C(f,p,d,x){var _=Qs(d);if(typeof _!="function")throw Error(O(150));if(d=_.call(d),d==null)throw Error(O(151));for(var j=_=null,S=p,m=p=0,w=null,P=d.next();S!==null&&!P.done;m++,P=d.next()){S.index>m?(w=S,S=null):w=S.sibling;var T=y(f,S,P.value,x);if(T===null){S===null&&(S=w);break}e&&S&&T.alternate===null&&t(f,S),p=l(T,p,m),j===null?_=T:j.sibling=T,j=T,S=w}if(P.done)return r(f,S),re&&Gt(f,m),_;if(S===null){for(;!P.done;m++,P=d.next())P=h(f,P.value,x),P!==null&&(p=l(P,p,m),j===null?_=P:j.sibling=P,j=P);return re&&Gt(f,m),_}for(S=n(f,S);!P.done;m++,P=d.next())P=b(S,f,m,P.value,x),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?m:P.key),p=l(P,p,m),j===null?_=P:j.sibling=P,j=P);return e&&S.forEach(function(A){return t(f,A)}),re&&Gt(f,m),_}function k(f,p,d,x){if(typeof d=="object"&&d!==null&&d.type===ps&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case qr:e:{for(var _=d.key,j=p;j!==null;){if(j.key===_){if(_=d.type,_===ps){if(j.tag===7){r(f,j.sibling),p=a(j,d.props.children),p.return=f,f=p;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===_t&&_i(_)===j.type){r(f,j.sibling),p=a(j,d.props),p.ref=Xs(f,j,d),p.return=f,f=p;break e}r(f,j);break}else t(f,j);j=j.sibling}d.type===ps?(p=ts(d.props.children,f.mode,x,d.key),p.return=f,f=p):(x=fn(d.type,d.key,d.props,null,f.mode,x),x.ref=Xs(f,p,d),x.return=f,f=x)}return o(f);case ms:e:{for(j=d.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===d.containerInfo&&p.stateNode.implementation===d.implementation){r(f,p.sibling),p=a(p,d.children||[]),p.return=f,f=p;break e}else{r(f,p);break}else t(f,p);p=p.sibling}p=Ma(d,f.mode,x),p.return=f,f=p}return o(f);case _t:return j=d._init,k(f,p,j(d._payload),x)}if(sr(d))return N(f,p,d,x);if(Qs(d))return C(f,p,d,x);Xr(f,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,p!==null&&p.tag===6?(r(f,p.sibling),p=a(p,d),p.return=f,f=p):(r(f,p),p=Ia(d,f.mode,x),p.return=f,f=p),o(f)):r(f,p)}return k}var Os=bd(!0),wd=bd(!1),Pn=Vt(null),An=null,ws=null,co=null;function uo(){co=ws=An=null}function mo(e){var t=Pn.current;se(Pn),e._currentValue=t}function xl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t){An=e,co=ws=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(co!==e)if(e={context:e,memoizedValue:t,next:null},ws===null){if(An===null)throw Error(O(308));ws=e,An.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Xt=null;function po(e){Xt===null?Xt=[e]:Xt.push(e)}function jd(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,po(t)):(r.next=a.next,a.next=r),t.interleaved=r,yt(e,n)}function yt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kt=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,yt(e,r)}return a=n.interleaved,a===null?(t.next=t,po(n)):(t.next=a.next,a.next=t),n.interleaved=t,yt(e,r)}function cn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xl(e,r)}}function ki(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Dn(e,t,r,n){var a=e.updateQueue;kt=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var i=c,u=i.next;i.next=null,o===null?l=u:o.next=u,o=i;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==o&&(c===null?g.firstBaseUpdate=u:c.next=u,g.lastBaseUpdate=i))}if(l!==null){var h=a.baseState;o=0,g=u=i=null,c=l;do{var y=c.lane,b=c.eventTime;if((n&y)===y){g!==null&&(g=g.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=e,C=c;switch(y=t,b=r,C.tag){case 1:if(N=C.payload,typeof N=="function"){h=N.call(b,h,y);break e}h=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=C.payload,y=typeof N=="function"?N.call(b,h,y):N,y==null)break e;h=oe({},h,y);break e;case 2:kt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[c]:y.push(c))}else b={eventTime:b,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(u=g=b,i=h):g=g.next=b,o|=y;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;y=c,c=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(1);if(g===null&&(i=h),a.baseState=i,a.firstBaseUpdate=u,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);as|=o,e.lanes=o,e.memoizedState=h}}function Ci(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(O(191,a));a.call(n)}}}var Mr={},lt=Vt(Mr),Cr=Vt(Mr),Sr=Vt(Mr);function Yt(e){if(e===Mr)throw Error(O(174));return e}function fo(e,t){switch(ee(Sr,t),ee(Cr,e),ee(lt,Mr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Za(t,e)}se(lt),ee(lt,t)}function Fs(){se(lt),se(Cr),se(Sr)}function _d(e){Yt(Sr.current);var t=Yt(lt.current),r=Za(t,e.type);t!==r&&(ee(Cr,e),ee(lt,r))}function xo(e){Cr.current===e&&(se(lt),se(Cr))}var ne=Vt(0);function Tn(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=[];function go(){for(var e=0;e<Da.length;e++)Da[e]._workInProgressVersionPrimary=null;Da.length=0}var dn=wt.ReactCurrentDispatcher,Ta=wt.ReactCurrentBatchConfig,ns=0,ae=null,he=null,xe=null,Ln=!1,dr=!1,Er=0,Lp=0;function we(){throw Error(O(321))}function yo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tt(e[r],t[r]))return!1;return!0}function vo(e,t,r,n,a,l){if(ns=l,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dn.current=e===null||e.memoizedState===null?Ip:Mp,e=r(n,a),dr){l=0;do{if(dr=!1,Er=0,25<=l)throw Error(O(301));l+=1,xe=he=null,t.updateQueue=null,dn.current=$p,e=r(n,a)}while(dr)}if(dn.current=On,t=he!==null&&he.next!==null,ns=0,xe=he=ae=null,Ln=!1,t)throw Error(O(300));return e}function bo(){var e=Er!==0;return Er=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ae.memoizedState=xe=e:xe=xe.next=e,xe}function Ge(){if(he===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=xe===null?ae.memoizedState:xe.next;if(t!==null)xe=t,he=e;else{if(e===null)throw Error(O(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},xe===null?ae.memoizedState=xe=e:xe=xe.next=e}return xe}function Pr(e,t){return typeof t=="function"?t(e):t}function La(e){var t=Ge(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=he,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var c=o=null,i=null,u=l;do{var g=u.lane;if((ns&g)===g)i!==null&&(i=i.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};i===null?(c=i=h,o=n):i=i.next=h,ae.lanes|=g,as|=g}u=u.next}while(u!==null&&u!==l);i===null?o=n:i.next=c,tt(n,t.memoizedState)||(Le=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=i,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,ae.lanes|=l,as|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oa(e){var t=Ge(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);tt(l,t.memoizedState)||(Le=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function kd(){}function Cd(e,t){var r=ae,n=Ge(),a=t(),l=!tt(n.memoizedState,a);if(l&&(n.memoizedState=a,Le=!0),n=n.queue,wo(Pd.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||xe!==null&&xe.memoizedState.tag&1){if(r.flags|=2048,Ar(9,Ed.bind(null,r,n,a,t),void 0,null),ge===null)throw Error(O(349));ns&30||Sd(r,t,a)}return a}function Sd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ed(e,t,r,n){t.value=r,t.getSnapshot=n,Ad(t)&&Dd(e)}function Pd(e,t,r){return r(function(){Ad(t)&&Dd(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tt(e,r)}catch{return!0}}function Dd(e){var t=yt(e,1);t!==null&&et(t,e,1,-1)}function Si(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:e},t.queue=e,e=e.dispatch=Rp.bind(null,ae,e),[t.memoizedState,e]}function Ar(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Td(){return Ge().memoizedState}function un(e,t,r,n){var a=rt();ae.flags|=e,a.memoizedState=Ar(1|t,r,void 0,n===void 0?null:n)}function Yn(e,t,r,n){var a=Ge();n=n===void 0?null:n;var l=void 0;if(he!==null){var o=he.memoizedState;if(l=o.destroy,n!==null&&yo(n,o.deps)){a.memoizedState=Ar(t,r,l,n);return}}ae.flags|=e,a.memoizedState=Ar(1|t,r,l,n)}function Ei(e,t){return un(8390656,8,e,t)}function wo(e,t){return Yn(2048,8,e,t)}function Ld(e,t){return Yn(4,2,e,t)}function Od(e,t){return Yn(4,4,e,t)}function Fd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rd(e,t,r){return r=r!=null?r.concat([e]):null,Yn(4,4,Fd.bind(null,t,e),r)}function jo(){}function Id(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Md(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $d(e,t,r){return ns&21?(tt(r,t)||(r=Vc(),ae.lanes|=r,as|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=r)}function Op(e,t){var r=Y;Y=r!==0&&4>r?r:4,e(!0);var n=Ta.transition;Ta.transition={};try{e(!1),t()}finally{Y=r,Ta.transition=n}}function zd(){return Ge().memoizedState}function Fp(e,t,r){var n=It(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qd(e))Ud(t,r);else if(r=jd(e,t,r,n),r!==null){var a=Se();et(r,e,n,a),Bd(r,t,n)}}function Rp(e,t,r){var n=It(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qd(e))Ud(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,r);if(a.hasEagerState=!0,a.eagerState=c,tt(c,o)){var i=t.interleaved;i===null?(a.next=a,po(t)):(a.next=i.next,i.next=a),t.interleaved=a;return}}catch{}finally{}r=jd(e,t,a,n),r!==null&&(a=Se(),et(r,e,n,a),Bd(r,t,n))}}function qd(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Ud(e,t){dr=Ln=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xl(e,r)}}var On={readContext:Qe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Ip={readContext:Qe,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:Ei,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,un(4194308,4,Fd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return un(4194308,4,e,t)},useInsertionEffect:function(e,t){return un(4,2,e,t)},useMemo:function(e,t){var r=rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Fp.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:Si,useDebugValue:jo,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=Si(!1),t=e[0];return e=Op.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,a=rt();if(re){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),ge===null)throw Error(O(349));ns&30||Sd(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Ei(Pd.bind(null,n,l,e),[e]),n.flags|=2048,Ar(9,Ed.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=rt(),t=ge.identifierPrefix;if(re){var r=ht,n=pt;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Er++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Lp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mp={readContext:Qe,useCallback:Id,useContext:Qe,useEffect:wo,useImperativeHandle:Rd,useInsertionEffect:Ld,useLayoutEffect:Od,useMemo:Md,useReducer:La,useRef:Td,useState:function(){return La(Pr)},useDebugValue:jo,useDeferredValue:function(e){var t=Ge();return $d(t,he.memoizedState,e)},useTransition:function(){var e=La(Pr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:kd,useSyncExternalStore:Cd,useId:zd,unstable_isNewReconciler:!1},$p={readContext:Qe,useCallback:Id,useContext:Qe,useEffect:wo,useImperativeHandle:Rd,useInsertionEffect:Ld,useLayoutEffect:Od,useMemo:Md,useReducer:Oa,useRef:Td,useState:function(){return Oa(Pr)},useDebugValue:jo,useDeferredValue:function(e){var t=Ge();return he===null?t.memoizedState=e:$d(t,he.memoizedState,e)},useTransition:function(){var e=Oa(Pr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:kd,useSyncExternalStore:Cd,useId:zd,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ea={isMounted:function(e){return(e=e._reactInternals)?is(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Se(),a=It(e),l=ft(n,a);l.payload=t,r!=null&&(l.callback=r),t=Ft(e,l,a),t!==null&&(et(t,e,a,n),cn(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Se(),a=It(e),l=ft(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Ft(e,l,a),t!==null&&(et(t,e,a,n),cn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Se(),n=It(e),a=ft(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ft(e,a,n),t!==null&&(et(t,e,n,r),cn(t,e,n))}};function Pi(e,t,r,n,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,o):t.prototype&&t.prototype.isPureReactComponent?!jr(r,n)||!jr(a,l):!0}function Vd(e,t,r){var n=!1,a=qt,l=t.contextType;return typeof l=="object"&&l!==null?l=Qe(l):(a=Fe(t)?ss:_e.current,n=t.contextTypes,l=(n=n!=null)?Ts(e,a):qt),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ea,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ai(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ea.enqueueReplaceState(t,t.state,null)}function yl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ho(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Qe(l):(l=Fe(t)?ss:_e.current,a.context=Ts(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(gl(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ea.enqueueReplaceState(a,a.state,null),Dn(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var r="",n=t;do r+=pm(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Fa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zp=typeof WeakMap=="function"?WeakMap:Map;function Hd(e,t,r){r=ft(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Rn||(Rn=!0,Pl=n),vl(e,t)},r}function Wd(e,t,r){r=ft(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){vl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){vl(e,t),typeof n!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Di(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zp;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=eh.bind(null,e,t,r),t.then(e,e))}function Ti(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Li(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ft(-1,1),t.tag=2,Ft(r,t,1))),r.lanes|=1),e)}var qp=wt.ReactCurrentOwner,Le=!1;function Ce(e,t,r,n){t.child=e===null?wd(t,null,r,n):Os(t,e.child,r,n)}function Oi(e,t,r,n,a){r=r.render;var l=t.ref;return Ps(t,a),n=vo(e,t,r,n,l,a),r=bo(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vt(e,t,a)):(re&&r&&lo(t),t.flags|=1,Ce(e,t,n,a),t.child)}function Fi(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!Ao(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Qd(e,t,l,n,a)):(e=fn(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:jr,r(o,n)&&e.ref===t.ref)return vt(e,t,a)}return t.flags|=1,e=Mt(l,n),e.ref=t.ref,e.return=t,t.child=e}function Qd(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(jr(l,n)&&e.ref===t.ref)if(Le=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,vt(e,t,a)}return bl(e,t,r,n,a)}function Gd(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Ns,Ie),Ie|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Ns,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ee(Ns,Ie),Ie|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,ee(Ns,Ie),Ie|=n;return Ce(e,t,a,r),t.child}function Kd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bl(e,t,r,n,a){var l=Fe(r)?ss:_e.current;return l=Ts(t,l),Ps(t,a),r=vo(e,t,r,n,l,a),n=bo(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vt(e,t,a)):(re&&n&&lo(t),t.flags|=1,Ce(e,t,r,a),t.child)}function Ri(e,t,r,n,a){if(Fe(r)){var l=!0;Cn(t)}else l=!1;if(Ps(t,a),t.stateNode===null)mn(e,t),Vd(t,r,n),yl(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var i=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=Fe(r)?ss:_e.current,u=Ts(t,u));var g=r.getDerivedStateFromProps,h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||i!==u)&&Ai(t,o,n,u),kt=!1;var y=t.memoizedState;o.state=y,Dn(t,n,o,a),i=t.memoizedState,c!==n||y!==i||Oe.current||kt?(typeof g=="function"&&(gl(t,r,g,n),i=t.memoizedState),(c=kt||Pi(t,r,c,n,y,i,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),o.props=n,o.state=i,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Nd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ze(t.type,c),o.props=u,h=t.pendingProps,y=o.context,i=r.contextType,typeof i=="object"&&i!==null?i=Qe(i):(i=Fe(r)?ss:_e.current,i=Ts(t,i));var b=r.getDerivedStateFromProps;(g=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||y!==i)&&Ai(t,o,n,i),kt=!1,y=t.memoizedState,o.state=y,Dn(t,n,o,a);var N=t.memoizedState;c!==h||y!==N||Oe.current||kt?(typeof b=="function"&&(gl(t,r,b,n),N=t.memoizedState),(u=kt||Pi(t,r,u,n,y,N,i)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,N,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,N,i)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),o.props=n,o.state=N,o.context=i,n=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return wl(e,t,r,n,l,a)}function wl(e,t,r,n,a,l){Kd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&wi(t,r,!1),vt(e,t,l);n=t.stateNode,qp.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Os(t,e.child,null,l),t.child=Os(t,null,c,l)):Ce(e,t,c,l),t.memoizedState=n.state,a&&wi(t,r,!0),t.child}function Zd(e){var t=e.stateNode;t.pendingContext?bi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(e,t.context,!1),fo(e,t.containerInfo)}function Ii(e,t,r,n,a){return Ls(),io(a),t.flags|=256,Ce(e,t,r,n),t.child}var jl={dehydrated:null,treeContext:null,retryLane:0};function Nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,t,r){var n=t.pendingProps,a=ne.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ee(ne,a&1),e===null)return fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=ra(o,n,0,null),e=ts(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Nl(r),t.memoizedState=jl,e):No(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Up(e,t,o,n,c,a,r);if(l){l=n.fallback,o=t.mode,a=e.child,c=a.sibling;var i={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=i,t.deletions=null):(n=Mt(a,i),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=Mt(c,l):(l=ts(l,o,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=e.child.memoizedState,o=o===null?Nl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=jl,n}return l=e.child,e=l.sibling,n=Mt(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function No(e,t){return t=ra({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yr(e,t,r,n){return n!==null&&io(n),Os(t,e.child,null,r),e=No(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Up(e,t,r,n,a,l,o){if(r)return t.flags&256?(t.flags&=-257,n=Fa(Error(O(422))),Yr(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=ra({mode:"visible",children:n.children},a,0,null),l=ts(l,a,o,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Os(t,e.child,null,o),t.child.memoizedState=Nl(o),t.memoizedState=jl,l);if(!(t.mode&1))return Yr(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,l=Error(O(419)),n=Fa(l,n,void 0),Yr(e,t,o,n)}if(c=(o&e.childLanes)!==0,Le||c){if(n=ge,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,yt(e,a),et(n,e,a,-1))}return Po(),n=Fa(Error(O(421))),Yr(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=th.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Me=Ot(a.nextSibling),$e=t,re=!0,Xe=null,e!==null&&(Be[Ve++]=pt,Be[Ve++]=ht,Be[Ve++]=rs,pt=e.id,ht=e.overflow,rs=t),t=No(t,n.children),t.flags|=4096,t)}function Mi(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xl(e.return,t,r)}function Ra(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function Xd(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(Ce(e,t,n.children,r),n=ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mi(e,r,t);else if(e.tag===19)Mi(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(ne,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Tn(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ra(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Tn(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ra(t,!0,r,null,l);break;case"together":Ra(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),as|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=Mt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bp(e,t,r){switch(t.tag){case 3:Zd(t),Ls();break;case 5:_d(t);break;case 1:Fe(t.type)&&Cn(t);break;case 4:fo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ee(Pn,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?Jd(e,t,r):(ee(ne,ne.current&1),e=vt(e,t,r),e!==null?e.sibling:null);ee(ne,ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Xd(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ee(ne,ne.current),n)break;return null;case 22:case 23:return t.lanes=0,Gd(e,t,r)}return vt(e,t,r)}var Yd,_l,eu,tu;Yd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_l=function(){};eu=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Yt(lt.current);var l=null;switch(r){case"input":a=Wa(e,a),n=Wa(e,n),l=[];break;case"select":a=oe({},a,{value:void 0}),n=oe({},n,{value:void 0}),l=[];break;case"textarea":a=Ka(e,a),n=Ka(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_n)}Ja(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var i=n[u];if(c=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&i!==c&&(i!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in i)i.hasOwnProperty(o)&&c[o]!==i[o]&&(r||(r={}),r[o]=i[o])}else r||(l||(l=[]),l.push(u,r)),r=i;else u==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(l=l||[]).push(u,i)):u==="children"?typeof i!="string"&&typeof i!="number"||(l=l||[]).push(u,""+i):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fr.hasOwnProperty(u)?(i!=null&&u==="onScroll"&&te("scroll",e),l||c===i||(l=[])):(l=l||[]).push(u,i))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};tu=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ys(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vp(e,t,r){var n=t.pendingProps;switch(oo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Fe(t.type)&&kn(),je(t),null;case 3:return n=t.stateNode,Fs(),se(Oe),se(_e),go(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(Tl(Xe),Xe=null))),_l(e,t),je(t),null;case 5:xo(t);var a=Yt(Sr.current);if(r=t.type,e!==null&&t.stateNode!=null)eu(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return je(t),null}if(e=Yt(lt.current),Jr(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[nt]=t,n[kr]=l,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(a=0;a<nr.length;a++)te(nr[a],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":Qo(n,l),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},te("invalid",n);break;case"textarea":Ko(n,l),te("invalid",n)}Ja(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?n.textContent!==c&&(l.suppressHydrationWarning!==!0&&Zr(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Zr(n.textContent,c,e),a=["children",""+c]):fr.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":Ur(n),Go(n,l,!0);break;case"textarea":Ur(n),Zo(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=_n)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[nt]=t,e[kr]=n,Yd(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xa(r,n),r){case"dialog":te("cancel",e),te("close",e),a=n;break;case"iframe":case"object":case"embed":te("load",e),a=n;break;case"video":case"audio":for(a=0;a<nr.length;a++)te(nr[a],e);a=n;break;case"source":te("error",e),a=n;break;case"img":case"image":case"link":te("error",e),te("load",e),a=n;break;case"details":te("toggle",e),a=n;break;case"input":Qo(e,n),a=Wa(e,n),te("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":Ko(e,n),a=Ka(e,n),te("invalid",e);break;default:a=n}Ja(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var i=c[l];l==="style"?Tc(e,i):l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Ac(e,i)):l==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&xr(e,i):typeof i=="number"&&xr(e,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(fr.hasOwnProperty(l)?i!=null&&l==="onScroll"&&te("scroll",e):i!=null&&Wl(e,l,i,o))}switch(r){case"input":Ur(e),Go(e,n,!1);break;case"textarea":Ur(e),Zo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zt(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?ks(e,!!n.multiple,l,!1):n.defaultValue!=null&&ks(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_n)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)tu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=Yt(Sr.current),Yt(lt.current),Jr(t)){if(n=t.stateNode,r=t.memoizedProps,n[nt]=t,(l=n.nodeValue!==r)&&(e=$e,e!==null))switch(e.tag){case 3:Zr(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zr(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=t,t.stateNode=n}return je(t),null;case 13:if(se(ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Me!==null&&t.mode&1&&!(t.flags&128))vd(),Ls(),t.flags|=98560,l=!1;else if(l=Jr(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[nt]=t}else Ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),l=!1}else Xe!==null&&(Tl(Xe),Xe=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?fe===0&&(fe=3):Po())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Fs(),_l(e,t),e===null&&Nr(t.stateNode.containerInfo),je(t),null;case 10:return mo(t.type._context),je(t),null;case 17:return Fe(t.type)&&kn(),je(t),null;case 19:if(se(ne),l=t.memoizedState,l===null)return je(t),null;if(n=(t.flags&128)!==0,o=l.rendering,o===null)if(n)Ys(l,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Tn(e),o!==null){for(t.flags|=128,Ys(l,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(ne,ne.current&1|2),t.child}e=e.sibling}l.tail!==null&&de()>Is&&(t.flags|=128,n=!0,Ys(l,!1),t.lanes=4194304)}else{if(!n)if(e=Tn(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ys(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!re)return je(t),null}else 2*de()-l.renderingStartTime>Is&&r!==1073741824&&(t.flags|=128,n=!0,Ys(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=de(),t.sibling=null,r=ne.current,ee(ne,n?r&1|2:r&1),t):(je(t),null);case 22:case 23:return Eo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ie&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Hp(e,t){switch(oo(t),t.tag){case 1:return Fe(t.type)&&kn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fs(),se(Oe),se(_e),go(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xo(t),null;case 13:if(se(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ne),null;case 4:return Fs(),null;case 10:return mo(t.type._context),null;case 22:case 23:return Eo(),null;case 24:return null;default:return null}}var en=!1,Ne=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,z=null;function js(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ie(e,t,n)}else r.current=null}function kl(e,t,r){try{r()}catch(n){ie(e,t,n)}}var $i=!1;function Qp(e,t){if(il=wn,e=ld(),ao(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,c=-1,i=-1,u=0,g=0,h=e,y=null;t:for(;;){for(var b;h!==r||a!==0&&h.nodeType!==3||(c=o+a),h!==l||n!==0&&h.nodeType!==3||(i=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(b=h.firstChild)!==null;)y=h,h=b;for(;;){if(h===e)break t;if(y===r&&++u===a&&(c=o),y===l&&++g===n&&(i=o),(b=h.nextSibling)!==null)break;h=y,y=h.parentNode}h=b}r=c===-1||i===-1?null:{start:c,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(cl={focusedElem:e,selectionRange:r},wn=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var C=N.memoizedProps,k=N.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?C:Ze(t.type,C),k);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(x){ie(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return N=$i,$i=!1,N}function ur(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&kl(t,r,l)}a=a.next}while(a!==n)}}function ta(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Cl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function su(e){var t=e.alternate;t!==null&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[kr],delete t[ml],delete t[Pp],delete t[Ap])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return e.tag===5||e.tag===3||e.tag===4}function zi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_n));else if(n!==4&&(e=e.child,e!==null))for(Sl(e,t,r),e=e.sibling;e!==null;)Sl(e,t,r),e=e.sibling}function El(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(El(e,t,r),e=e.sibling;e!==null;)El(e,t,r),e=e.sibling}var ye=null,Je=!1;function Nt(e,t,r){for(r=r.child;r!==null;)nu(e,t,r),r=r.sibling}function nu(e,t,r){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Qn,r)}catch{}switch(r.tag){case 5:Ne||js(r,t);case 6:var n=ye,a=Je;ye=null,Nt(e,t,r),ye=n,Je=a,ye!==null&&(Je?(e=ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(Je?(e=ye,r=r.stateNode,e.nodeType===8?Pa(e.parentNode,r):e.nodeType===1&&Pa(e,r),br(e)):Pa(ye,r.stateNode));break;case 4:n=ye,a=Je,ye=r.stateNode.containerInfo,Je=!0,Nt(e,t,r),ye=n,Je=a;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&kl(r,t,o),a=a.next}while(a!==n)}Nt(e,t,r);break;case 1:if(!Ne&&(js(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){ie(r,t,c)}Nt(e,t,r);break;case 21:Nt(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,Nt(e,t,r),Ne=n):Nt(e,t,r);break;default:Nt(e,t,r)}}function qi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Wp),t.forEach(function(n){var a=sh.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:ye=c.stateNode,Je=!1;break e;case 3:ye=c.stateNode.containerInfo,Je=!0;break e;case 4:ye=c.stateNode.containerInfo,Je=!0;break e}c=c.return}if(ye===null)throw Error(O(160));nu(l,o,a),ye=null,Je=!1;var i=a.alternate;i!==null&&(i.return=null),a.return=null}catch(u){ie(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)au(t,e),t=t.sibling}function au(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),st(e),n&4){try{ur(3,e,e.return),ta(3,e)}catch(C){ie(e,e.return,C)}try{ur(5,e,e.return)}catch(C){ie(e,e.return,C)}}break;case 1:Ke(t,e),st(e),n&512&&r!==null&&js(r,r.return);break;case 5:if(Ke(t,e),st(e),n&512&&r!==null&&js(r,r.return),e.flags&32){var a=e.stateNode;try{xr(a,"")}catch(C){ie(e,e.return,C)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Sc(a,l),Xa(c,o);var u=Xa(c,l);for(o=0;o<i.length;o+=2){var g=i[o],h=i[o+1];g==="style"?Tc(a,h):g==="dangerouslySetInnerHTML"?Ac(a,h):g==="children"?xr(a,h):Wl(a,g,h,u)}switch(c){case"input":Qa(a,l);break;case"textarea":Ec(a,l);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?ks(a,!!l.multiple,b,!1):y!==!!l.multiple&&(l.defaultValue!=null?ks(a,!!l.multiple,l.defaultValue,!0):ks(a,!!l.multiple,l.multiple?[]:"",!1))}a[kr]=l}catch(C){ie(e,e.return,C)}}break;case 6:if(Ke(t,e),st(e),n&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(C){ie(e,e.return,C)}}break;case 3:if(Ke(t,e),st(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(C){ie(e,e.return,C)}break;case 4:Ke(t,e),st(e);break;case 13:Ke(t,e),st(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Co=de())),n&4&&qi(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||g,Ke(t,e),Ne=u):Ke(t,e),st(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!g&&e.mode&1)for(z=e,g=e.child;g!==null;){for(h=z=g;z!==null;){switch(y=z,b=y.child,y.tag){case 0:case 11:case 14:case 15:ur(4,y,y.return);break;case 1:js(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(C){ie(n,r,C)}}break;case 5:js(y,y.return);break;case 22:if(y.memoizedState!==null){Bi(h);continue}}b!==null?(b.return=y,z=b):Bi(h)}g=g.sibling}e:for(g=null,h=e;;){if(h.tag===5){if(g===null){g=h;try{a=h.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=h.stateNode,i=h.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=Dc("display",o))}catch(C){ie(e,e.return,C)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(C){ie(e,e.return,C)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(t,e),st(e),n&4&&qi(e);break;case 21:break;default:Ke(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ru(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(xr(a,""),n.flags&=-33);var l=zi(e);El(e,l,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=zi(e);Sl(e,c,o);break;default:throw Error(O(161))}}catch(i){ie(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gp(e,t,r){z=e,lu(e)}function lu(e,t,r){for(var n=(e.mode&1)!==0;z!==null;){var a=z,l=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||en;if(!o){var c=a.alternate,i=c!==null&&c.memoizedState!==null||Ne;c=en;var u=Ne;if(en=o,(Ne=i)&&!u)for(z=a;z!==null;)o=z,i=o.child,o.tag===22&&o.memoizedState!==null?Vi(a):i!==null?(i.return=o,z=i):Vi(a);for(;l!==null;)z=l,lu(l),l=l.sibling;z=a,en=c,Ne=u}Ui(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,z=l):Ui(e)}}function Ui(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||ta(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ci(t,l,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ci(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&br(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ne||t.flags&512&&Cl(t)}catch(y){ie(t,t.return,y)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function Bi(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function Vi(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ta(4,t)}catch(i){ie(t,r,i)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(i){ie(t,a,i)}}var l=t.return;try{Cl(t)}catch(i){ie(t,l,i)}break;case 5:var o=t.return;try{Cl(t)}catch(i){ie(t,o,i)}}}catch(i){ie(t,t.return,i)}if(t===e){z=null;break}var c=t.sibling;if(c!==null){c.return=t.return,z=c;break}z=t.return}}var Kp=Math.ceil,Fn=wt.ReactCurrentDispatcher,_o=wt.ReactCurrentOwner,We=wt.ReactCurrentBatchConfig,K=0,ge=null,pe=null,ve=0,Ie=0,Ns=Vt(0),fe=0,Dr=null,as=0,sa=0,ko=0,mr=null,Te=null,Co=0,Is=1/0,ut=null,Rn=!1,Pl=null,Rt=null,tn=!1,Pt=null,In=0,pr=0,Al=null,pn=-1,hn=0;function Se(){return K&6?de():pn!==-1?pn:pn=de()}function It(e){return e.mode&1?K&2&&ve!==0?ve&-ve:Tp.transition!==null?(hn===0&&(hn=Vc()),hn):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Jc(e.type)),e):1}function et(e,t,r,n){if(50<pr)throw pr=0,Al=null,Error(O(185));Fr(e,r,n),(!(K&2)||e!==ge)&&(e===ge&&(!(K&2)&&(sa|=r),fe===4&&St(e,ve)),Re(e,n),r===1&&K===0&&!(t.mode&1)&&(Is=de()+500,Xn&&Ht()))}function Re(e,t){var r=e.callbackNode;Tm(e,t);var n=bn(e,e===ge?ve:0);if(n===0)r!==null&&Yo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yo(r),t===1)e.tag===0?Dp(Hi.bind(null,e)):xd(Hi.bind(null,e)),Sp(function(){!(K&6)&&Ht()}),r=null;else{switch(Hc(n)){case 1:r=Jl;break;case 4:r=Uc;break;case 16:r=vn;break;case 536870912:r=Bc;break;default:r=vn}r=hu(r,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ou(e,t){if(pn=-1,hn=0,K&6)throw Error(O(327));var r=e.callbackNode;if(As()&&e.callbackNode!==r)return null;var n=bn(e,e===ge?ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mn(e,n);else{t=n;var a=K;K|=2;var l=cu();(ge!==e||ve!==t)&&(ut=null,Is=de()+500,es(e,t));do try{Xp();break}catch(c){iu(e,c)}while(1);uo(),Fn.current=l,K=a,pe!==null?t=0:(ge=null,ve=0,t=fe)}if(t!==0){if(t===2&&(a=rl(e),a!==0&&(n=a,t=Dl(e,a))),t===1)throw r=Dr,es(e,0),St(e,n),Re(e,de()),r;if(t===6)St(e,n);else{if(a=e.current.alternate,!(n&30)&&!Zp(a)&&(t=Mn(e,n),t===2&&(l=rl(e),l!==0&&(n=l,t=Dl(e,l))),t===1))throw r=Dr,es(e,0),St(e,n),Re(e,de()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Kt(e,Te,ut);break;case 3:if(St(e,n),(n&130023424)===n&&(t=Co+500-de(),10<t)){if(bn(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Se(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ul(Kt.bind(null,e,Te,ut),t);break}Kt(e,Te,ut);break;case 4:if(St(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ye(n);l=1<<o,o=t[o],o>a&&(a=o),n&=~l}if(n=a,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Kp(n/1960))-n,10<n){e.timeoutHandle=ul(Kt.bind(null,e,Te,ut),n);break}Kt(e,Te,ut);break;case 5:Kt(e,Te,ut);break;default:throw Error(O(329))}}}return Re(e,de()),e.callbackNode===r?ou.bind(null,e):null}function Dl(e,t){var r=mr;return e.current.memoizedState.isDehydrated&&(es(e,t).flags|=256),e=Mn(e,t),e!==2&&(t=Te,Te=r,t!==null&&Tl(t)),e}function Tl(e){Te===null?Te=e:Te.push.apply(Te,e)}function Zp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!tt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~ko,t&=~sa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ye(t),n=1<<r;e[r]=-1,t&=~n}}function Hi(e){if(K&6)throw Error(O(327));As();var t=bn(e,0);if(!(t&1))return Re(e,de()),null;var r=Mn(e,t);if(e.tag!==0&&r===2){var n=rl(e);n!==0&&(t=n,r=Dl(e,n))}if(r===1)throw r=Dr,es(e,0),St(e,t),Re(e,de()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,Te,ut),Re(e,de()),null}function So(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(Is=de()+500,Xn&&Ht())}}function ls(e){Pt!==null&&Pt.tag===0&&!(K&6)&&As();var t=K;K|=1;var r=We.transition,n=Y;try{if(We.transition=null,Y=1,e)return e()}finally{Y=n,We.transition=r,K=t,!(K&6)&&Ht()}}function Eo(){Ie=Ns.current,se(Ns)}function es(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Cp(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(oo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kn();break;case 3:Fs(),se(Oe),se(_e),go();break;case 5:xo(n);break;case 4:Fs();break;case 13:se(ne);break;case 19:se(ne);break;case 10:mo(n.type._context);break;case 22:case 23:Eo()}r=r.return}if(ge=e,pe=e=Mt(e.current,null),ve=Ie=t,fe=0,Dr=null,ko=sa=as=0,Te=mr=null,Xt!==null){for(t=0;t<Xt.length;t++)if(r=Xt[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,n.next=o}r.pending=n}Xt=null}return e}function iu(e,t){do{var r=pe;try{if(uo(),dn.current=On,Ln){for(var n=ae.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ln=!1}if(ns=0,xe=he=ae=null,dr=!1,Er=0,_o.current=null,r===null||r.return===null){fe=1,Dr=t,pe=null;break}e:{var l=e,o=r.return,c=r,i=t;if(t=ve,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var u=i,g=c,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Ti(o);if(b!==null){b.flags&=-257,Li(b,o,c,l,t),b.mode&1&&Di(l,u,t),t=b,i=u;var N=t.updateQueue;if(N===null){var C=new Set;C.add(i),t.updateQueue=C}else N.add(i);break e}else{if(!(t&1)){Di(l,u,t),Po();break e}i=Error(O(426))}}else if(re&&c.mode&1){var k=Ti(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Li(k,o,c,l,t),io(Rs(i,c));break e}}l=i=Rs(i,c),fe!==4&&(fe=2),mr===null?mr=[l]:mr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=Hd(l,i,t);ki(l,f);break e;case 1:c=i;var p=l.type,d=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rt===null||!Rt.has(d)))){l.flags|=65536,t&=-t,l.lanes|=t;var x=Wd(l,c,t);ki(l,x);break e}}l=l.return}while(l!==null)}uu(r)}catch(_){t=_,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(1)}function cu(){var e=Fn.current;return Fn.current=On,e===null?On:e}function Po(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(as&268435455)&&!(sa&268435455)||St(ge,ve)}function Mn(e,t){var r=K;K|=2;var n=cu();(ge!==e||ve!==t)&&(ut=null,es(e,t));do try{Jp();break}catch(a){iu(e,a)}while(1);if(uo(),K=r,Fn.current=n,pe!==null)throw Error(O(261));return ge=null,ve=0,fe}function Jp(){for(;pe!==null;)du(pe)}function Xp(){for(;pe!==null&&!Nm();)du(pe)}function du(e){var t=pu(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?uu(e):pe=t,_o.current=null}function uu(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Hp(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,pe=null;return}}else if(r=Vp(r,t,Ie),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);fe===0&&(fe=5)}function Kt(e,t,r){var n=Y,a=We.transition;try{We.transition=null,Y=1,Yp(e,t,r,n)}finally{We.transition=a,Y=n}return null}function Yp(e,t,r,n){do As();while(Pt!==null);if(K&6)throw Error(O(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Lm(e,l),e===ge&&(pe=ge=null,ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tn||(tn=!0,hu(vn,function(){return As(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=We.transition,We.transition=null;var o=Y;Y=1;var c=K;K|=4,_o.current=null,Qp(e,r),au(r,e),vp(cl),wn=!!il,cl=il=null,e.current=r,Gp(r),_m(),K=c,Y=o,We.transition=l}else e.current=r;if(tn&&(tn=!1,Pt=e,In=a),l=e.pendingLanes,l===0&&(Rt=null),Sm(r.stateNode),Re(e,de()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Rn)throw Rn=!1,e=Pl,Pl=null,e;return In&1&&e.tag!==0&&As(),l=e.pendingLanes,l&1?e===Al?pr++:(pr=0,Al=e):pr=0,Ht(),null}function As(){if(Pt!==null){var e=Hc(In),t=We.transition,r=Y;try{if(We.transition=null,Y=16>e?16:e,Pt===null)var n=!1;else{if(e=Pt,Pt=null,In=0,K&6)throw Error(O(331));var a=K;for(K|=4,z=e.current;z!==null;){var l=z,o=l.child;if(z.flags&16){var c=l.deletions;if(c!==null){for(var i=0;i<c.length;i++){var u=c[i];for(z=u;z!==null;){var g=z;switch(g.tag){case 0:case 11:case 15:ur(8,g,l)}var h=g.child;if(h!==null)h.return=g,z=h;else for(;z!==null;){g=z;var y=g.sibling,b=g.return;if(su(g),g===u){z=null;break}if(y!==null){y.return=b,z=y;break}z=b}}}var N=l.alternate;if(N!==null){var C=N.child;if(C!==null){N.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}z=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,z=o;else e:for(;z!==null;){if(l=z,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ur(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,z=f;break e}z=l.return}}var p=e.current;for(z=p;z!==null;){o=z;var d=o.child;if(o.subtreeFlags&2064&&d!==null)d.return=o,z=d;else e:for(o=p;z!==null;){if(c=z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ta(9,c)}}catch(_){ie(c,c.return,_)}if(c===o){z=null;break e}var x=c.sibling;if(x!==null){x.return=c.return,z=x;break e}z=c.return}}if(K=a,Ht(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Qn,e)}catch{}n=!0}return n}finally{Y=r,We.transition=t}}return!1}function Wi(e,t,r){t=Rs(r,t),t=Hd(e,t,1),e=Ft(e,t,1),t=Se(),e!==null&&(Fr(e,1,t),Re(e,t))}function ie(e,t,r){if(e.tag===3)Wi(e,e,r);else for(;t!==null;){if(t.tag===3){Wi(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rt===null||!Rt.has(n))){e=Rs(r,e),e=Wd(t,e,1),t=Ft(t,e,1),e=Se(),t!==null&&(Fr(t,1,e),Re(t,e));break}}t=t.return}}function eh(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&r,ge===e&&(ve&r)===r&&(fe===4||fe===3&&(ve&130023424)===ve&&500>de()-Co?es(e,0):ko|=r),Re(e,t)}function mu(e,t){t===0&&(e.mode&1?(t=Hr,Hr<<=1,!(Hr&130023424)&&(Hr=4194304)):t=1);var r=Se();e=yt(e,t),e!==null&&(Fr(e,t,r),Re(e,r))}function th(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),mu(e,r)}function sh(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),mu(e,r)}var pu;pu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Le=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Le=!1,Bp(e,t,r);Le=!!(e.flags&131072)}else Le=!1,re&&t.flags&1048576&&gd(t,En,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mn(e,t),e=t.pendingProps;var a=Ts(t,_e.current);Ps(t,r),a=vo(null,t,n,e,a,r);var l=bo();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(n)?(l=!0,Cn(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ho(t),a.updater=ea,t.stateNode=a,a._reactInternals=t,yl(t,n,e,r),t=wl(null,t,n,!0,l,r)):(t.tag=0,re&&l&&lo(t),Ce(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mn(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=nh(n),e=Ze(n,e),a){case 0:t=bl(null,t,n,e,r);break e;case 1:t=Ri(null,t,n,e,r);break e;case 11:t=Oi(null,t,n,e,r);break e;case 14:t=Fi(null,t,n,Ze(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),bl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),Ri(e,t,n,a,r);case 3:e:{if(Zd(t),e===null)throw Error(O(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Nd(e,t),Dn(t,n,null,r);var o=t.memoizedState;if(n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Rs(Error(O(423)),t),t=Ii(e,t,n,r,a);break e}else if(n!==a){a=Rs(Error(O(424)),t),t=Ii(e,t,n,r,a);break e}else for(Me=Ot(t.stateNode.containerInfo.firstChild),$e=t,re=!0,Xe=null,r=wd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ls(),n===a){t=vt(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return _d(t),e===null&&fl(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,dl(n,a)?o=null:l!==null&&dl(n,l)&&(t.flags|=32),Kd(e,t),Ce(e,t,o,r),t.child;case 6:return e===null&&fl(t),null;case 13:return Jd(e,t,r);case 4:return fo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Os(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),Oi(e,t,n,a,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,ee(Pn,n._currentValue),n._currentValue=o,l!==null)if(tt(l.value,o)){if(l.children===a.children&&!Oe.current){t=vt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var i=c.firstContext;i!==null;){if(i.context===n){if(l.tag===1){i=ft(-1,r&-r),i.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i}}l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),xl(l.return,r,t),c.lanes|=r;break}i=i.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(O(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),xl(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ce(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ps(t,r),a=Qe(a),n=n(a),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,a=Ze(n,t.pendingProps),a=Ze(n.type,a),Fi(e,t,n,a,r);case 15:return Qd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ze(n,a),mn(e,t),t.tag=1,Fe(n)?(e=!0,Cn(t)):e=!1,Ps(t,r),Vd(t,n,a),yl(t,n,a,r),wl(null,t,n,!0,e,r);case 19:return Xd(e,t,r);case 22:return Gd(e,t,r)}throw Error(O(156,t.tag))};function hu(e,t){return qc(e,t)}function rh(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,r,n){return new rh(e,t,r,n)}function Ao(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nh(e){if(typeof e=="function")return Ao(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gl)return 11;if(e===Kl)return 14}return 2}function Mt(e,t){var r=e.alternate;return r===null?(r=He(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fn(e,t,r,n,a,l){var o=2;if(n=e,typeof e=="function")Ao(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ps:return ts(r.children,a,l,t);case Ql:o=8,a|=8;break;case Ua:return e=He(12,r,t,a|2),e.elementType=Ua,e.lanes=l,e;case Ba:return e=He(13,r,t,a),e.elementType=Ba,e.lanes=l,e;case Va:return e=He(19,r,t,a),e.elementType=Va,e.lanes=l,e;case _c:return ra(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jc:o=10;break e;case Nc:o=9;break e;case Gl:o=11;break e;case Kl:o=14;break e;case _t:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=He(o,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function ts(e,t,r,n){return e=He(7,e,n,t),e.lanes=r,e}function ra(e,t,r,n){return e=He(22,e,n,t),e.elementType=_c,e.lanes=r,e.stateNode={isHidden:!1},e}function Ia(e,t,r){return e=He(6,e,null,t),e.lanes=r,e}function Ma(e,t,r){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ah(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Do(e,t,r,n,a,l,o,c,i){return e=new ah(e,t,r,c,i),t===1?(t=1,l===!0&&(t|=8)):t=0,l=He(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ho(l),e}function lh(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function fu(e){if(!e)return qt;e=e._reactInternals;e:{if(is(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Fe(r))return fd(e,r,t)}return t}function xu(e,t,r,n,a,l,o,c,i){return e=Do(r,n,!0,e,a,l,o,c,i),e.context=fu(null),r=e.current,n=Se(),a=It(r),l=ft(n,a),l.callback=t??null,Ft(r,l,a),e.current.lanes=a,Fr(e,a,n),Re(e,n),e}function na(e,t,r,n){var a=t.current,l=Se(),o=It(a);return r=fu(r),t.context===null?t.context=r:t.pendingContext=r,t=ft(l,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ft(a,t,o),e!==null&&(et(e,a,o,l),cn(e,a,o)),o}function $n(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qi(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function To(e,t){Qi(e,t),(e=e.alternate)&&Qi(e,t)}function oh(){return null}var gu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lo(e){this._internalRoot=e}aa.prototype.render=Lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));na(e,t,null,null)};aa.prototype.unmount=Lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ls(function(){na(null,e,null,null)}),t[gt]=null}};function aa(e){this._internalRoot=e}aa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ct.length&&t!==0&&t<Ct[r].priority;r++);Ct.splice(r,0,e),r===0&&Zc(e)}};function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gi(){}function ih(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var u=$n(o);l.call(u)}}var o=xu(t,n,e,0,null,!1,!1,"",Gi);return e._reactRootContainer=o,e[gt]=o.current,Nr(e.nodeType===8?e.parentNode:e),ls(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var u=$n(i);c.call(u)}}var i=Do(e,0,!1,null,null,!1,!1,"",Gi);return e._reactRootContainer=i,e[gt]=i.current,Nr(e.nodeType===8?e.parentNode:e),ls(function(){na(t,i,r,n)}),i}function oa(e,t,r,n,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var c=a;a=function(){var i=$n(o);c.call(i)}}na(t,o,e,a)}else o=ih(r,t,e,a,n);return $n(o)}Wc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rr(t.pendingLanes);r!==0&&(Xl(t,r|1),Re(t,de()),!(K&6)&&(Is=de()+500,Ht()))}break;case 13:ls(function(){var n=yt(e,1);if(n!==null){var a=Se();et(n,e,1,a)}}),To(e,1)}};Yl=function(e){if(e.tag===13){var t=yt(e,134217728);if(t!==null){var r=Se();et(t,e,134217728,r)}To(e,134217728)}};Qc=function(e){if(e.tag===13){var t=It(e),r=yt(e,t);if(r!==null){var n=Se();et(r,e,t,n)}To(e,t)}};Gc=function(){return Y};Kc=function(e,t){var r=Y;try{return Y=e,t()}finally{Y=r}};el=function(e,t,r){switch(t){case"input":if(Qa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Jn(n);if(!a)throw Error(O(90));Cc(n),Qa(n,a)}}}break;case"textarea":Ec(e,r);break;case"select":t=r.value,t!=null&&ks(e,!!r.multiple,t,!1)}};Fc=So;Rc=ls;var ch={usingClientEntryPoint:!1,Events:[Ir,gs,Jn,Lc,Oc,So]},er={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dh={bundleType:er.bundleType,version:er.version,rendererPackageName:er.rendererPackageName,rendererConfig:er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$c(e),e===null?null:e.stateNode},findFiberByHostInstance:er.findFiberByHostInstance||oh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sn.isDisabled&&sn.supportsFiber)try{Qn=sn.inject(dh),at=sn}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ch;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oo(t))throw Error(O(200));return lh(e,t,null,r)};qe.createRoot=function(e,t){if(!Oo(e))throw Error(O(299));var r=!1,n="",a=gu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Do(e,1,!1,null,null,r,!1,n,a),e[gt]=t.current,Nr(e.nodeType===8?e.parentNode:e),new Lo(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=$c(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return ls(e)};qe.hydrate=function(e,t,r){if(!la(t))throw Error(O(200));return oa(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!Oo(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",o=gu;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=xu(t,null,e,1,r??null,a,!1,l,o),e[gt]=t.current,Nr(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new aa(t)};qe.render=function(e,t,r){if(!la(t))throw Error(O(200));return oa(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!la(e))throw Error(O(40));return e._reactRootContainer?(ls(function(){oa(null,null,e,!1,function(){e._reactRootContainer=null,e[gt]=null})}),!0):!1};qe.unstable_batchedUpdates=So;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!la(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return oa(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function yu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yu)}catch(e){console.error(e)}}yu(),yc.exports=qe;var uh=yc.exports,Ki=uh;za.createRoot=Ki.createRoot,za.hydrateRoot=Ki.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tr.apply(this,arguments)}var At;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(At||(At={}));const Zi="popstate";function mh(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:o,hash:c}=n.location;return Ll("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:zn(a)}return hh(t,r,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ph(){return Math.random().toString(36).substr(2,8)}function Ji(e,t){return{usr:e.state,key:e.key,idx:t}}function Ll(e,t,r,n){return r===void 0&&(r=null),Tr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Us(t):t,{state:r,key:t&&t.key||n||ph()})}function zn(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Us(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hh(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,o=a.history,c=At.Pop,i=null,u=g();u==null&&(u=0,o.replaceState(Tr({},o.state,{idx:u}),""));function g(){return(o.state||{idx:null}).idx}function h(){c=At.Pop;let k=g(),f=k==null?null:k-u;u=k,i&&i({action:c,location:C.location,delta:f})}function y(k,f){c=At.Push;let p=Ll(C.location,k,f);r&&r(p,k),u=g()+1;let d=Ji(p,u),x=C.createHref(p);try{o.pushState(d,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(x)}l&&i&&i({action:c,location:C.location,delta:1})}function b(k,f){c=At.Replace;let p=Ll(C.location,k,f);r&&r(p,k),u=g();let d=Ji(p,u),x=C.createHref(p);o.replaceState(d,"",x),l&&i&&i({action:c,location:C.location,delta:0})}function N(k){let f=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof k=="string"?k:zn(k);return p=p.replace(/ $/,"%20"),le(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let C={get action(){return c},get location(){return e(a,o)},listen(k){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(Zi,h),i=k,()=>{a.removeEventListener(Zi,h),i=null}},createHref(k){return t(a,k)},createURL:N,encodeLocation(k){let f=N(k);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:y,replace:b,go(k){return o.go(k)}};return C}var Xi;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xi||(Xi={}));function fh(e,t,r){return r===void 0&&(r="/"),xh(e,t,r,!1)}function xh(e,t,r,n){let a=typeof t=="string"?Us(t):t,l=Ms(a.pathname||"/",r);if(l==null)return null;let o=vu(e);gh(o);let c=null;for(let i=0;c==null&&i<o.length;++i){let u=Eh(l);c=Ch(o[i],u,n)}return c}function vu(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,o,c)=>{let i={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};i.relativePath.startsWith("/")&&(le(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(n.length));let u=$t([n,i.relativePath]),g=r.concat(i);l.children&&l.children.length>0&&(le(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vu(l.children,t,g,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:_h(u,l.index),routesMeta:g})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,o);else for(let i of bu(l.path))a(l,o,i)}),t}function bu(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let o=bu(n.join("/")),c=[];return c.push(...o.map(i=>i===""?l:[l,i].join("/"))),a&&c.push(...o),c.map(i=>e.startsWith("/")&&i===""?"/":i)}function gh(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:kh(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yh=/^:[\w-]+$/,vh=3,bh=2,wh=1,jh=10,Nh=-2,Yi=e=>e==="*";function _h(e,t){let r=e.split("/"),n=r.length;return r.some(Yi)&&(n+=Nh),t&&(n+=bh),r.filter(a=>!Yi(a)).reduce((a,l)=>a+(yh.test(l)?vh:l===""?wh:jh),n)}function kh(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Ch(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},l="/",o=[];for(let c=0;c<n.length;++c){let i=n[c],u=c===n.length-1,g=l==="/"?t:t.slice(l.length)||"/",h=qn({path:i.relativePath,caseSensitive:i.caseSensitive,end:u},g),y=i.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=qn({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},g)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:$t([l,h.pathname]),pathnameBase:Lh($t([l,h.pathnameBase])),route:y}),h.pathnameBase!=="/"&&(l=$t([l,h.pathnameBase]))}return o}function qn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Sh(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((u,g,h)=>{let{paramName:y,isOptional:b}=g;if(y==="*"){let C=c[h]||"";o=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const N=c[h];return b&&!N?u[y]=void 0:u[y]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:o,pattern:e}}function Sh(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Fo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,i)=>(n.push({paramName:c,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Eh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Ph=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ah=e=>Ph.test(e);function Dh(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Us(e):e,l;if(r)if(Ah(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Fo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?l=ec(r.substring(1),"/"):l=ec(r,t)}else l=t;return{pathname:l,search:Oh(n),hash:Fh(a)}}function ec(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $a(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Th(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ro(e,t){let r=Th(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Io(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Us(e):(a=Tr({},e),le(!a.pathname||!a.pathname.includes("?"),$a("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),$a("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),$a("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,c;if(o==null)c=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),h-=1;a.pathname=y.join("/")}c=h>=0?t[h]:"/"}let i=Dh(a,c),u=o&&o!=="/"&&o.endsWith("/"),g=(l||o===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(u||g)&&(i.pathname+="/"),i}const $t=e=>e.join("/").replace(/\/\/+/g,"/"),Lh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wu=["post","put","patch","delete"];new Set(wu);const Ih=["get",...wu];new Set(Ih);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lr(){return Lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lr.apply(this,arguments)}const ia=v.createContext(null),ju=v.createContext(null),jt=v.createContext(null),ca=v.createContext(null),dt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Nu=v.createContext(null);function Mh(e,t){let{relative:r}=t===void 0?{}:t;Bs()||le(!1);let{basename:n,navigator:a}=v.useContext(jt),{hash:l,pathname:o,search:c}=da(e,{relative:r}),i=o;return n!=="/"&&(i=o==="/"?n:$t([n,o])),a.createHref({pathname:i,search:c,hash:l})}function Bs(){return v.useContext(ca)!=null}function Wt(){return Bs()||le(!1),v.useContext(ca).location}function _u(e){v.useContext(jt).static||v.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=v.useContext(dt);return e?ef():$h()}function $h(){Bs()||le(!1);let e=v.useContext(ia),{basename:t,future:r,navigator:n}=v.useContext(jt),{matches:a}=v.useContext(dt),{pathname:l}=Wt(),o=JSON.stringify(Ro(a,r.v7_relativeSplatPath)),c=v.useRef(!1);return _u(()=>{c.current=!0}),v.useCallback(function(u,g){if(g===void 0&&(g={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let h=Io(u,JSON.parse(o),l,g.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$t([t,h.pathname])),(g.replace?n.replace:n.push)(h,g.state,g)},[t,n,o,l,e])}const zh=v.createContext(null);function qh(e){let t=v.useContext(dt).outlet;return t&&v.createElement(zh.Provider,{value:e},t)}function Uh(){let{matches:e}=v.useContext(dt),t=e[e.length-1];return t?t.params:{}}function da(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(jt),{matches:a}=v.useContext(dt),{pathname:l}=Wt(),o=JSON.stringify(Ro(a,n.v7_relativeSplatPath));return v.useMemo(()=>Io(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function Bh(e,t){return Vh(e,t)}function Vh(e,t,r,n){Bs()||le(!1);let{navigator:a}=v.useContext(jt),{matches:l}=v.useContext(dt),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let u=Wt(),g;if(t){var h;let k=typeof t=="string"?Us(t):t;i==="/"||(h=k.pathname)!=null&&h.startsWith(i)||le(!1),g=k}else g=u;let y=g.pathname||"/",b=y;if(i!=="/"){let k=i.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=fh(e,{pathname:b}),C=Kh(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:$t([i,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?i:$t([i,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,n);return t&&C?v.createElement(ca.Provider,{value:{location:Lr({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:At.Pop}},C):C}function Hh(){let e=Yh(),t=Rh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,l)}const Wh=v.createElement(Hh,null);class Qh extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(dt.Provider,{value:this.props.routeContext},v.createElement(Nu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gh(e){let{routeContext:t,match:r,children:n}=e,a=v.useContext(ia);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(dt.Provider,{value:t},n)}function Kh(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let g=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);g>=0||le(!1),o=o.slice(0,Math.min(o.length,g+1))}let i=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let h=o[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=g),h.route.id){let{loaderData:y,errors:b}=r,N=h.route.loader&&y[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||N){i=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((g,h,y)=>{let b,N=!1,C=null,k=null;r&&(b=c&&h.route.id?c[h.route.id]:void 0,C=h.route.errorElement||Wh,i&&(u<0&&y===0?(tf("route-fallback",!1),N=!0,k=null):u===y&&(N=!0,k=h.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,y+1)),p=()=>{let d;return b?d=C:N?d=k:h.route.Component?d=v.createElement(h.route.Component,null):h.route.element?d=h.route.element:d=g,v.createElement(Gh,{match:h,routeContext:{outlet:g,matches:f,isDataRoute:r!=null},children:d})};return r&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?v.createElement(Qh,{location:r.location,revalidation:r.revalidation,component:C,error:b,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var ku=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ku||{}),Un=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Un||{});function Zh(e){let t=v.useContext(ia);return t||le(!1),t}function Jh(e){let t=v.useContext(ju);return t||le(!1),t}function Xh(e){let t=v.useContext(dt);return t||le(!1),t}function Cu(e){let t=Xh(),r=t.matches[t.matches.length-1];return r.route.id||le(!1),r.route.id}function Yh(){var e;let t=v.useContext(Nu),r=Jh(Un.UseRouteError),n=Cu(Un.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ef(){let{router:e}=Zh(ku.UseNavigateStable),t=Cu(Un.UseNavigateStable),r=v.useRef(!1);return _u(()=>{r.current=!0}),v.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Lr({fromRouteId:t},l)))},[e,t])}const tc={};function tf(e,t,r){!t&&!tc[e]&&(tc[e]=!0)}function sf(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function rf(e){let{to:t,replace:r,state:n,relative:a}=e;Bs()||le(!1);let{future:l,static:o}=v.useContext(jt),{matches:c}=v.useContext(dt),{pathname:i}=Wt(),u=Qt(),g=Io(t,Ro(c,l.v7_relativeSplatPath),i,a==="path"),h=JSON.stringify(g);return v.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:a}),[u,h,a,r,n]),null}function nf(e){return qh(e.context)}function De(e){le(!1)}function af(e){let{basename:t="/",children:r=null,location:n,navigationType:a=At.Pop,navigator:l,static:o=!1,future:c}=e;Bs()&&le(!1);let i=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:i,navigator:l,static:o,future:Lr({v7_relativeSplatPath:!1},c)}),[i,c,l,o]);typeof n=="string"&&(n=Us(n));let{pathname:g="/",search:h="",hash:y="",state:b=null,key:N="default"}=n,C=v.useMemo(()=>{let k=Ms(g,i);return k==null?null:{location:{pathname:k,search:h,hash:y,state:b,key:N},navigationType:a}},[i,g,h,y,b,N,a]);return C==null?null:v.createElement(jt.Provider,{value:u},v.createElement(ca.Provider,{children:r,value:C}))}function lf(e){let{children:t,location:r}=e;return Bh(Ol(t),r)}new Promise(()=>{});function Ol(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let l=[...t,a];if(n.type===v.Fragment){r.push.apply(r,Ol(n.props.children,l));return}n.type!==De&&le(!1),!n.props.index||!n.props.children||le(!1);let o={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ol(n.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bn.apply(this,arguments)}function Su(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function of(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cf(e,t){return e.button===0&&(!t||t==="_self")&&!of(e)}const df=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uf=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],mf="6";try{window.__reactRouterVersion=mf}catch{}const pf=v.createContext({isTransitioning:!1}),hf="startTransition",sc=em[hf];function ff(e){let{basename:t,children:r,future:n,window:a}=e,l=v.useRef();l.current==null&&(l.current=mh({window:a,v5Compat:!0}));let o=l.current,[c,i]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},g=v.useCallback(h=>{u&&sc?sc(()=>i(h)):i(h)},[i,u]);return v.useLayoutEffect(()=>o.listen(g),[o,g]),v.useEffect(()=>sf(n),[n]),v.createElement(af,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const xf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yf=v.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:o,state:c,target:i,to:u,preventScrollReset:g,viewTransition:h}=t,y=Su(t,df),{basename:b}=v.useContext(jt),N,C=!1;if(typeof u=="string"&&gf.test(u)&&(N=u,xf))try{let d=new URL(window.location.href),x=u.startsWith("//")?new URL(d.protocol+u):new URL(u),_=Ms(x.pathname,b);x.origin===d.origin&&_!=null?u=_+x.search+x.hash:C=!0}catch{}let k=Mh(u,{relative:a}),f=wf(u,{replace:o,state:c,target:i,preventScrollReset:g,relative:a,viewTransition:h});function p(d){n&&n(d),d.defaultPrevented||f(d)}return v.createElement("a",Bn({},y,{href:N||k,onClick:C||l?n:p,ref:r,target:i}))}),vf=v.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:l="",end:o=!1,style:c,to:i,viewTransition:u,children:g}=t,h=Su(t,uf),y=da(i,{relative:h.relative}),b=Wt(),N=v.useContext(ju),{navigator:C,basename:k}=v.useContext(jt),f=N!=null&&jf(y)&&u===!0,p=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,d=b.pathname,x=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(d=d.toLowerCase(),x=x?x.toLowerCase():null,p=p.toLowerCase()),x&&k&&(x=Ms(x,k)||x);const _=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=d===p||!o&&d.startsWith(p)&&d.charAt(_)==="/",S=x!=null&&(x===p||!o&&x.startsWith(p)&&x.charAt(p.length)==="/"),m={isActive:j,isPending:S,isTransitioning:f},w=j?n:void 0,P;typeof l=="function"?P=l(m):P=[l,j?"active":null,S?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let T=typeof c=="function"?c(m):c;return v.createElement(yf,Bn({},h,{"aria-current":w,className:P,ref:r,style:T,to:i,viewTransition:u}),typeof g=="function"?g(m):g)});var Fl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fl||(Fl={}));var rc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rc||(rc={}));function bf(e){let t=v.useContext(ia);return t||le(!1),t}function wf(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:o,viewTransition:c}=t===void 0?{}:t,i=Qt(),u=Wt(),g=da(e,{relative:o});return v.useCallback(h=>{if(cf(h,r)){h.preventDefault();let y=n!==void 0?n:zn(u)===zn(g);i(e,{replace:y,state:a,preventScrollReset:l,relative:o,viewTransition:c})}},[u,i,g,n,a,r,e,l,o,c])}function jf(e,t){t===void 0&&(t={});let r=v.useContext(pf);r==null&&le(!1);let{basename:n}=bf(Fl.useViewTransitionState),a=da(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=Ms(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ms(r.nextLocation.pathname,n)||r.nextLocation.pathname;return qn(a.pathname,o)!=null||qn(a.pathname,l)!=null}const Nf={BASE_URL:"https://erp.rslsolution.org/public/api"},_f=Nf.BASE_URL;class kf{constructor(t){this.baseURL=t,this.defaultHeaders={"Content-Type":"application/json"}}getAuthHeaders(){const t=localStorage.getItem("auth_token");return t?{Authorization:`Bearer ${t}`}:{}}async request(t,r={}){const n=`${this.baseURL}${t}`,a={...this.defaultHeaders,...this.getAuthHeaders(),...r.headers};try{const l=await fetch(n,{...r,headers:a});if(!l.ok){let o;const c=await l.text();try{o=JSON.parse(c)}catch(g){console.error("Failed to parse error response as JSON:",g),o={rawResponse:c}}console.error("API Error Response:",o),console.error("Status:",l.status),console.error("Status Text:",l.statusText);const i=l.headers.get("content-type");if(i&&i.includes("text/html"))throw new Error(`Server returned HTML error page instead of JSON. Status: ${l.status}. Raw response: ${c.substring(0,200)}...`);l.status===401&&localStorage.removeItem("auth_token");let u=`HTTP error! status: ${l.status}`;throw l.status>=500?o.error?u=`Server error: ${o.error}`:u="Internal server error. Please check server logs.":l.status===422&&o.errors?u=`Validation errors: ${Object.values(o.errors).flat().join(", ")}`:o.message&&(u=o.message),new Error(u)}try{const o=l.headers.get("content-type");if(o&&o.includes("text/html")){const i=await l.text();throw console.error("Server returned HTML instead of JSON:",i.substring(0,200)),new Error(`Server returned HTML error page instead of JSON. Status: ${l.status}. This usually means the API endpoint doesn't exist or there's a server error.`)}const c=await l.json();return console.log("API Success Response:",c),c}catch(o){throw console.error("API Request Failed:",o),o instanceof Error&&o.message.includes("Failed to fetch")?t.includes("192.168.1.22")?new Error("Unable to connect to API server. Please ensure the backend server is running on http://192.168.1.22:8000"):new Error("Network error: Unable to reach the API server"):o}}catch(l){throw console.error("API Request Failed:",l),l instanceof Error&&l.message.includes("Failed to fetch")?t.includes("192.168.1.22")?new Error("Unable to connect to API server. Please ensure the backend server is running on http://192.168.1.22:8000"):new Error("Network error: Unable to reach the API server"):l}}mockResponse(t,r){return new Promise((n,a)=>{setTimeout(()=>{t==="/auth/login"&&r.method==="POST"?n({success:!0,message:"Login successful",token:"mock-jwt-token-12345",user:{id:1,name:"Super Admin",email:"superadmin@example.com",role:"superadmin"}}):n(t==="/auth/me"?{success:!0,data:{id:1,name:"Super Admin",email:"superadmin@example.com",role:"admin"}}:t==="/auth/logout"?{success:!0,message:"Logout successful"}:{success:!0,data:[]})},500)})}async get(t){return this.request(t,{method:"GET"})}async post(t,r){return console.log("API POST Request:",t,r),this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(t,r){return this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0})}async patch(t,r){return this.request(t,{method:"PATCH",body:r?JSON.stringify(r):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}const R=new kf(_f),nc={login:async(e,t)=>R.post("/auth/login",{email:e,password:t}),getCurrentUser:async()=>R.get("/auth/me"),logout:async()=>R.post("/auth/logout"),adminOnly:async()=>R.get("/auth/admin-only"),supervisorArea:async()=>R.get("/auth/supervisor-area")},Zt={getToken:()=>localStorage.getItem("auth_token"),setToken:e=>{localStorage.setItem("auth_token",e)},removeToken:()=>{localStorage.removeItem("auth_token")},isAuthenticated:()=>!!Zt.getToken()},Eu=v.createContext(void 0),ua=()=>{const e=v.useContext(Eu);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Cf=({children:e})=>{const[t,r]=v.useState(null),[n,a]=v.useState(!0);v.useEffect(()=>{const i=Zt.getToken(),u=localStorage.getItem("auth_user");if(i&&u){console.log("Found token and user data, validating...");try{const g=JSON.parse(u);if(i&&i.length>10)try{const h=i.split(".");if(h.length===3){const y=JSON.parse(atob(h[1])),b=Date.now()/1e3;y.exp&&y.exp>b?(console.log("JWT token is valid and not expired"),r(g)):y.exp&&y.exp<=b?(console.log("JWT token is expired, logging out"),Zt.removeToken(),localStorage.removeItem("auth_user"),r(null)):(console.log("JWT token has no expiration, assuming valid"),r(g))}else console.log("Token is not JWT format, but appears valid"),r(g)}catch{console.log("Token is not decodable as JWT, but keeping it as valid"),r(g)}else console.log("Token is too short or empty, logging out"),Zt.removeToken(),localStorage.removeItem("auth_user"),r(null)}catch{console.log("Failed to parse stored user data, logging out"),Zt.removeToken(),localStorage.removeItem("auth_user"),r(null)}}else i&&!u?(console.log("Token exists but no user data, keeping token"),r(null)):(console.log("No token found, user not authenticated"),r(null));a(!1)},[]);const c={user:t,login:async(i,u)=>{a(!0);try{const g=await nc.login(i,u);if(console.log("Login response:",g),g.success&&g.token&&g.user){const{token:h,user:y}=g;return Zt.setToken(h),localStorage.setItem("auth_user",JSON.stringify(y)),r(y),a(!1),!0}else return console.error("Login failed - response structure:",g),a(!1),!1}catch(g){return console.error("Login error:",g),a(!1),!1}},logout:async()=>{try{await nc.logout()}catch(i){console.error("Logout error:",i)}finally{Zt.removeToken(),localStorage.removeItem("auth_user"),r(null)}},isAuthenticated:!!t,isLoading:n};return s.jsx(Eu.Provider,{value:c,children:e})},Pu=v.createContext(void 0),Au=()=>{const e=v.useContext(Pu);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");return e},Sf=({children:e})=>{const[t,r]=v.useState([]),l={toasts:t,addToast:(o,c)=>{const i=Date.now().toString();r(u=>[...u,{id:i,message:o,type:c}])},removeToast:o=>{r(c=>c.filter(i=>i.id!==o))}};return s.jsx(Pu.Provider,{value:l,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ef={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:i,...u},g)=>v.createElement("svg",{ref:g,...Ef,width:a,height:a,stroke:n,strokeWidth:o?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Pf(e)}`,c].join(" "),...u},[...t.map(([h,y])=>v.createElement(h,y)),...Array.isArray(i)?i:[i]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=V("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=V("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=V("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=V("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=V("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=V("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=V("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=V("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=V("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=V("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=V("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Gf=()=>{var x,_;const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,l]=v.useState(!1),[o,c]=v.useState(""),[i,u]=v.useState(!1),[g,h]=v.useState({}),{login:y}=ua(),b=Qt(),C=((_=(x=Wt().state)==null?void 0:x.from)==null?void 0:_.pathname)||"/dashboard",k=()=>{const j={};return e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?e.length>254&&(j.email="Email address is too long"):j.email="Please enter a valid email address":j.email="Email is required",r.trim()?r.length<6?j.password="Password must be at least 6 characters long":r.length>128?j.password="Password is too long":/(?=.*[a-z])/.test(r)?/(?=.*\d)/.test(r)||(j.password="Password must contain at least one number"):j.password="Password must contain at least one lowercase letter":j.password="Password is required",h(j),Object.keys(j).length===0},f=()=>{l(!a)},p=(j,S)=>{j==="email"?t(S):n(S),g[j]&&h(m=>({...m,[j]:void 0})),o&&c("")},d=async j=>{if(j.preventDefault(),!!k()){c(""),u(!0);try{await y(e,r)?b(C,{replace:!0}):c("Invalid email or password")}catch{c("An error occurred during login. Please try again.")}finally{u(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),s.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-4000"})]}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-white rounded-full opacity-60"}),s.jsx("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-white rounded-full opacity-40"}),s.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-3 h-3 bg-white rounded-full opacity-30"}),s.jsx("div",{className:"absolute top-1/2 right-1/4 w-2 h-2 bg-white rounded-full opacity-50"}),s.jsx("div",{className:"absolute bottom-1/3 right-1/2 w-1 h-1 bg-white rounded-full opacity-60"})]}),s.jsxs("div",{className:"relative min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md mb-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 border border-white/20",children:s.jsx(Hn,{className:"w-10 h-10 text-white"})}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Sign in to your Super Admin account"})]})}),s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 transform hover:scale-105 transition-all duration-300",children:[s.jsxs("form",{className:"space-y-6",onSubmit:d,children:[s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ml,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:j=>p("email",j.target.value),className:`appearance-none block w-full pl-10 pr-3 py-3 bg-white/5 border rounded-xl placeholder-blue-200 text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:bg-white/10 transition-all duration-200 sm:text-sm backdrop-blur-sm ${g.email?"border-red-400 focus:ring-red-400/50 focus:border-red-400":"border-white/20 focus:ring-white/50 focus:border-white/50"}`,placeholder:"Enter your email"})]}),g.email&&s.jsxs("div",{className:"mt-2 text-red-300 text-xs flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-xs",children:"!"})}),g.email]})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Il,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),s.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:j=>p("password",j.target.value),className:`appearance-none block w-full pl-10 pr-12 py-3 bg-white/5 border rounded-xl placeholder-blue-200 text-white focus:outline-none focus:ring-2 focus:bg-white/10 transition-all duration-200 sm:text-sm backdrop-blur-sm ${g.password?"border-red-400 focus:ring-red-400/50 focus:border-red-400":"border-white/20 focus:ring-white/50 focus:border-white/50"}`,placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:f,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-blue-300 hover:text-white focus:outline-none focus:text-white transition-all duration-200 p-1 rounded-lg hover:bg-white/10","aria-label":a?"Hide password":"Show password",children:a?s.jsx(Rf,{className:"h-5 w-5"}):s.jsx($r,{className:"h-5 w-5"})})]}),g.password&&s.jsxs("div",{className:"mt-2 text-red-300 text-xs flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-xs",children:"!"})}),g.password]})]}),o&&s.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-3 backdrop-blur-sm",children:s.jsxs("div",{className:"text-red-100 text-sm text-center flex items-center justify-center",children:[s.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-xs",children:"!"})}),o]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-blue-900 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-900 mr-2"}),"Signing in..."]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hn,{className:"w-5 h-5 mr-2"}),"Login as Super Admin"]})})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-white/20"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-3 bg-blue-900/50 text-blue-200 rounded-full border border-white/20 backdrop-blur-sm",children:"Demo Credentials"})})]}),s.jsx("div",{className:"mt-4 p-4 bg-white/5 rounded-xl border border-white/10 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center text-blue-100 text-sm space-y-1",children:[s.jsxs("p",{className:"flex items-center justify-center",children:[s.jsx(Ml,{className:"w-4 h-4 mr-2"}),"superadmin@example.com"]}),s.jsxs("p",{className:"flex items-center justify-center",children:[s.jsx(Il,{className:"w-4 h-4 mr-2"}),"superadmin123"]})]})})]})]})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-blue-200 text-sm",children:" 2024 CRM Super Admin Panel. Secure access only."})})]})]})},Z={getDashboard:()=>R.get("/superadmin/dashboard"),getCompanies:()=>R.get("/superadmin/companies"),getCompany:e=>R.get(`/superadmin/companies/${e}`),createCompany:e=>R.post("/superadmin/companies",e),updateCompany:(e,t)=>R.put(`/superadmin/companies/${e}`,t),deleteCompany:e=>R.delete(`/superadmin/companies/${e}`),getCompanyUsers:()=>R.get("/superadmin/company-users"),getCompanyUser:e=>R.get(`/superadmin/company-users/${e}`),createCompanyUser:e=>R.post("/superadmin/company-users",e),updateCompanyUser:(e,t)=>R.put(`/superadmin/company-users/${e}`,t),deleteCompanyUser:e=>R.delete(`/superadmin/company-users/${e}`),getUsersByRole:e=>R.get(`/superadmin/company-users/by-role/${e}`),getCustomers:()=>R.get("/superadmin/customers"),getCustomer:e=>R.get(`/superadmin/customers/${e}`),createCustomer:e=>R.post("/superadmin/customers",e),updateCustomer:(e,t)=>R.put(`/superadmin/customers/${e}`,t),deleteCustomer:e=>R.delete(`/superadmin/customers/${e}`),searchCustomers:e=>R.get(`/superadmin/customers/search?q=${e}`),getParts:()=>R.get("/superadmin/parts"),getPart:e=>R.get(`/superadmin/parts/${e}`),createPart:e=>R.post("/superadmin/parts",e),updatePart:(e,t)=>R.put(`/superadmin/parts/${e}`,t),deletePart:e=>R.delete(`/superadmin/parts/${e}`),searchParts:e=>R.get(`/superadmin/parts/search?description=${e}`),getOrders:()=>R.get("/superadmin/orders"),getOrder:e=>R.get(`/superadmin/orders/${e}`),createOrder:e=>R.post("/superadmin/orders",e),updateOrder:(e,t)=>R.put(`/superadmin/orders/${e}`,t),deleteOrder:e=>R.delete(`/superadmin/orders/${e}`),searchOrders:e=>R.get(`/superadmin/orders/search?po_no=${e}`),getOrdersByCustomer:e=>R.get(`/superadmin/orders/by-customer/${e}`),getOrdersByPart:e=>R.get(`/superadmin/orders/by-part/${e}`),getDeliveryChallans:(e=1)=>R.get(`/superadmin/delivery-challans?page=${e}`),getDeliveryChallan:e=>R.get(`/superadmin/delivery-challans/${e}`),createDeliveryChallan:e=>R.post("/superadmin/delivery-challans",e),updateDeliveryChallan:(e,t)=>R.put(`/superadmin/delivery-challans/${e}`,t),deleteDeliveryChallan:e=>R.delete(`/superadmin/delivery-challans/${e}`),getDeliveryChallansByPart:e=>R.get(`/superadmin/delivery-challans/by-part?part_id=${e}`),login:e=>R.post("/auth/login",e),getMe:()=>R.get("/auth/me"),logout:()=>R.post("/auth/logout")},lc=()=>{const[e,t]=v.useState({totalCompanies:0,totalCompanyUsers:0,totalCustomers:0,totalParts:0,totalOrders:0,totalDeliveryChallans:0,systemHealth:0,activeUsers:0,roleSummary:{superadmin:0,admin:0,supervisor:0,operator:0}}),[r,n]=v.useState({labels:[],values:[]}),[a,l]=v.useState(!0),o=Qt(),c=()=>{o("/companies")},i=()=>{o("/reports")},u=()=>{o("/orders")};v.useEffect(()=>{(async()=>{try{const y=await Z.getDashboard();if(y.success&&y.data){const{summary:C,role_summary:k}=y.data,f={totalCompanies:C.total_companies||0,totalCompanyUsers:C.total_company_users||0,totalCustomers:C.total_customers||0,totalParts:C.total_parts||0,totalOrders:C.total_orders||0,totalDeliveryChallans:C.total_delivery_challans||0,systemHealth:98.7,activeUsers:C.total_company_users||0,roleSummary:{superadmin:(k==null?void 0:k.superadmin)||0,admin:(k==null?void 0:k.admin)||0,supervisor:(k==null?void 0:k.supervisor)||0,operator:(k==null?void 0:k.operator)||0}};t(f)}else t({totalCompanies:18,totalCompanyUsers:32,totalCustomers:6,totalParts:6,totalOrders:9,totalDeliveryChallans:3,systemHealth:98.7,activeUsers:32,roleSummary:{superadmin:1,admin:8,supervisor:11,operator:13}});const b=[{month:"Jan",revenue:35e3,orders:95,growth:8.2},{month:"Feb",revenue:42e3,orders:110,growth:20},{month:"Mar",revenue:38e3,orders:105,growth:-9.5},{month:"Apr",revenue:51e3,orders:135,growth:34.2},{month:"May",revenue:47e3,orders:125,growth:-7.8},{month:"Jun",revenue:72e3,orders:180,growth:53.2},{month:"Jul",revenue:68e3,orders:175,growth:-5.6},{month:"Aug",revenue:75e3,orders:190,growth:10.3},{month:"Sep",revenue:71e3,orders:185,growth:-5.3},{month:"Oct",revenue:78e3,orders:195,growth:9.9},{month:"Nov",revenue:82e3,orders:205,growth:5.1},{month:"Dec",revenue:89e3,orders:220,growth:8.5}];n({labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],values:[25,32,28,45,38,52,48,65,58,72,68,85],colors:["#1e40af","#3b82f6","#60a5fa","#93c5fd","#bfdbfe","#dbeafe","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#1e40af","#1e3a8a"]})}catch(y){console.error("Error fetching dashboard stats:",y)}finally{l(!1)}})()},[]);const g=[{title:"Total Companies",value:e.totalCompanies,icon:Rl,color:"text-blue-600",bgColor:"bg-gradient-to-r from-blue-500 to-blue-600",trend:8.3,trendLabel:"new this month"},{title:"Total Customers",value:e.totalCustomers,icon:it,color:"text-purple-600",bgColor:"bg-gradient-to-r from-purple-500 to-purple-600",trend:15.2,trendLabel:"vs last week"},{title:"System Health",value:`${e.systemHealth}%`,icon:Af,color:"text-emerald-600",bgColor:"bg-gradient-to-r from-emerald-500 to-emerald-600",trend:.5,trendLabel:"uptime score"},{title:"Total Parts",value:e.totalParts,icon:ot,color:"text-orange-600",bgColor:"bg-gradient-to-r from-orange-500 to-orange-600",trend:5.2,trendLabel:"vs last month"},{title:"Total Orders",value:e.totalOrders,icon:hr,color:"text-indigo-600",bgColor:"bg-gradient-to-r from-indigo-500 to-indigo-600",trend:12.8,trendLabel:"this month"},{title:"Delivery Challans",value:e.totalDeliveryChallans,icon:ot,color:"text-green-600",bgColor:"bg-gradient-to-r from-green-500 to-green-600",trend:8.5,trendLabel:"this month"}];return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6 animate-fade-in-scale",children:[s.jsxs("div",{className:"animate-slide-in-up",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Welcome to the CRM Super Admin Panel. Here's an overview of your system."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 animate-slide-in-up",style:{animationDelay:"200ms"},children:g.map((h,y)=>{const b=h.icon,N=h.trend&&h.trend>0?Ou:Uf,C=h.trend&&h.trend>0?"text-green-600":"text-red-600";return s.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-100",style:{animationDelay:`${y*100}ms`},children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-xl ${h.bgColor} shadow-lg`,children:s.jsx(b,{className:"h-7 w-7 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:h.title}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900 mt-1",children:h.value})]})]}),h.trend&&s.jsxs("div",{className:`flex items-center ${C}`,children:[s.jsx(N,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm font-semibold",children:[Math.abs(h.trend),"%"]})]})]}),h.trendLabel&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:h.trendLabel})]})},h.title)})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-slide-in-up",style:{animationDelay:"400ms"},children:s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100 lg:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Overview"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Key performance metrics"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.totalCompanies}),s.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"companies"})]})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Mo,{className:"h-6 w-6 text-blue-600"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.totalOrders}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Orders"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.totalDeliveryChallans}),s.jsx("div",{className:"text-sm text-gray-500",children:"Delivery Challans"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.totalParts}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Parts"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.totalCustomers}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Customers"})]})]})]})}),s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100 animate-slide-in-up",style:{animationDelay:"600ms"},children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Qf,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Quick Actions"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("button",{onClick:c,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rl,{className:"h-6 w-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900",children:"Add New Company"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Register a new company account"})]})]})}),s.jsx("button",{onClick:i,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(it,{className:"h-6 w-6 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-green-900",children:"View Reports"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Generate system analytics"})]})]})}),s.jsx("button",{onClick:u,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(hr,{className:"h-6 w-6 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-900",children:"Process Orders"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Review pending orders"})]})]})})]})]}),s.jsx("div",{className:"bg-white shadow-lg rounded-xl border border-gray-100 animate-slide-in-up",style:{animationDelay:"800ms"},children:s.jsxs("div",{className:"px-6 py-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Vn,{className:"h-5 w-5 text-blue-600 mr-2"}),"Recent Activity"]}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-green-50 border border-green-100 hover:bg-green-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Vs,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New company registered"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:'"TechCorp Solutions" joined the platform with admin access'}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"2 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-green-600 font-medium",children:"Success"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-blue-50 border border-blue-100 hover:bg-blue-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(hr,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Order completed"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Order #ORD-12345 processed successfully for GlobalTech Inc."}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"4 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-blue-600 font-medium",children:"2,450.00"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-orange-50 border border-orange-100 hover:bg-orange-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(ot,{className:"w-5 h-5 text-orange-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Delivery challan generated"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"DC-001 created and dispatched for InnovateLabs order"}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"6 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-orange-600 font-medium",children:"In Transit"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-purple-50 border border-purple-100 hover:bg-purple-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(it,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"User permissions updated"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Admin privileges granted to new team member at DataFlow Systems"}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"8 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-purple-600 font-medium",children:"Security"})]})]})]})]})]})})]})},Kf=({isOpen:e,onClose:t,onSubmit:r})=>{const[n,a]=v.useState({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),[l,o]=v.useState(!1),[c,i]=v.useState({}),u=b=>{const{name:N,value:C,type:k}=b.target;a(f=>({...f,[N]:k==="checkbox"?b.target.checked:C})),c[N]&&i(f=>({...f,[N]:void 0}))},g=()=>{const b={};return n.company_name.trim()?n.company_name.trim().length<2?b.company_name="Company name must be at least 2 characters":n.company_name.trim().length>200?b.company_name="Company name must be less than 200 characters":/^[a-zA-Z0-9\s&.,'-]+$/.test(n.company_name.trim())||(b.company_name="Company name contains invalid characters"):b.company_name="Company name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.email.trim().length>255&&(b.email="Email must be less than 255 characters"):b.email="Invalid email format":b.email="Email is required",n.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(n.phone.replace(/\s/g,""))?n.phone.replace(/\D/g,"").length<10?b.phone="Phone number must be at least 10 digits":n.phone.replace(/\D/g,"").length>15&&(b.phone="Phone number must be less than 15 digits"):b.phone="Invalid phone number format":b.phone="Phone number is required",n.address.trim()?n.address.trim().length<10?b.address="Address must be at least 10 characters":n.address.trim().length>500&&(b.address="Address must be less than 500 characters"):b.address="Address is required",n.gst_no.trim()?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$/.test(n.gst_no.replace(/\s/g,"").toUpperCase())?n.gst_no.replace(/\s/g,"").length!==15&&(b.gst_no="GST number must be exactly 15 characters"):b.gst_no="Invalid GST number format (e.g., 27ABCDE1234F1Z5)":b.gst_no="GST number is required",i(b),Object.keys(b).length===0},h=async b=>{if(b.preventDefault(),!!g()){o(!0);try{await r(n),a({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),i({}),t()}catch(N){console.error("Error submitting form:",N)}finally{o(!1)}}},y=()=>{a({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),i({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Company"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("form",{id:"company-form",onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company_name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",id:"company_name",name:"company_name",value:n.company_name,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.company_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter company name"}),c.company_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.company_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.email?"border-red-300":"border-gray-300"}`,placeholder:"company@example.com"}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:n.address,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.phone?"border-red-300":"border-gray-300"}`,placeholder:"+1-555-0123"}),c.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:n.gst_no,onChange:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"GST1234567890"}),c.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.gst_no})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:n.is_active,onChange:u,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",form:"company-form",disabled:l,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:l?"Adding...":"Add Company"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:y,children:"Cancel"})]})]})]})}):null},Fu=({isOpen:e,onClose:t,onSubmit:r,company:n})=>{const[a,l]=v.useState({comp_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),[o,c]=v.useState(!1),[i,u]=v.useState({});v.useEffect(()=>{n&&l({comp_name:n.comp_name,email:n.email,address:n.address,phone:n.phone,gst_no:n.gst_no,is_active:n.is_active})},[n]);const g=N=>{const{name:C,value:k,type:f}=N.target;l(p=>({...p,[C]:f==="checkbox"?N.target.checked:k})),i[C]&&u(p=>({...p,[C]:void 0}))},h=()=>{const N={};return a.comp_name.trim()?a.comp_name.trim().length<2?N.comp_name="Company name must be at least 2 characters":a.comp_name.trim().length>200?N.comp_name="Company name must be less than 200 characters":/^[a-zA-Z0-9\s&.,'-]+$/.test(a.comp_name.trim())||(N.comp_name="Company name contains invalid characters"):N.comp_name="Company name is required",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.email.trim().length>255&&(N.email="Email must be less than 255 characters"):N.email="Invalid email format":N.email="Email is required",a.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phone.replace(/\s/g,""))?a.phone.replace(/\D/g,"").length<10?N.phone="Phone number must be at least 10 digits":a.phone.replace(/\D/g,"").length>15&&(N.phone="Phone number must be less than 15 digits"):N.phone="Invalid phone number format":N.phone="Phone number is required",a.address.trim()?a.address.trim().length<10?N.address="Address must be at least 10 characters":a.address.trim().length>500&&(N.address="Address must be less than 500 characters"):N.address="Address is required",a.gst_no.trim()?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$/.test(a.gst_no.replace(/\s/g,"").toUpperCase())?a.gst_no.replace(/\s/g,"").length!==15&&(N.gst_no="GST number must be exactly 15 characters"):N.gst_no="Invalid GST number format (e.g., 27ABCDE1234F1Z5)":N.gst_no="GST number is required",u(N),Object.keys(N).length===0},y=async N=>{if(N.preventDefault(),!!h()){c(!0);try{await r(a),t()}catch(C){console.error("Error submitting form:",C)}finally{c(!1)}}},b=()=>{u({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Company"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("form",{id:"edit-company-form",onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",id:"comp_name",name:"comp_name",value:a.comp_name,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.comp_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter company name"}),i.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.email?"border-red-300":"border-gray-300"}`,placeholder:"company@example.com"}),i.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:a.address,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.phone?"border-red-300":"border-gray-300"}`,placeholder:"+1-555-0123"}),i.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:a.gst_no,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"GST1234567890"}),i.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.gst_no})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:g,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",form:"edit-company-form",disabled:o,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:o?"Updating...":"Update Company"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:b,children:"Cancel"})]})]})]})})},Zf=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState("all"),[i,u]=v.useState(!0),[g,h]=v.useState(!1),[y,b]=v.useState(!1),[N,C]=v.useState(null),{addToast:k}=Au(),f=Qt();v.useEffect(()=>{(async()=>{try{const w=await Z.getCompanies();let P=[];w.success&&(Array.isArray(w.data)?P=w.data:w.data&&Array.isArray(w.data.data)&&(P=w.data.data));const A=P.map(L=>({id:L.id,comp_name:L.comp_name||L.company_name||"",email:L.email||"",address:L.address||"",phone:L.phno||L.phone||"",gst_no:L.gst||L.gst_no||"",code:L.code||L.company_code||"",phno:L.phno||L.phone||"",is_active:L.status==="active"||L.is_active||!1,created_at:L.created_at||new Date().toISOString(),updated_at:L.updated_at||new Date().toISOString()})).sort((L,M)=>new Date(M.created_at).getTime()-new Date(L.created_at).getTime());t(A),n(A)}catch(w){console.error("Error fetching companies:",w),t([]),n([])}finally{u(!1)}})()},[]),v.useEffect(()=>{let m=e;a&&(m=m.filter(w=>w.comp_name.toLowerCase().includes(a.toLowerCase())||w.email.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(m=m.filter(w=>o==="active"?w.is_active:!w.is_active)),n(m)},[e,a,o]);const p=m=>{C(m),b(!0)},d=async m=>{try{const w=!m.is_active,P=`Are you sure you want to ${w?"activate":"deactivate"} "${m.comp_name}"?`;window.confirm(P)&&((await Z.updateCompany(m.id,{...m,is_active:w})).success?(t(A=>A.map(L=>L.id===m.id?{...L,is_active:w}:L)),k(`Company ${w?"activated":"deactivated"} successfully`,"success")):k("Failed to update company status","error"))}catch(w){console.error("Error toggling company status:",w),k("Error updating company status","error")}},x=async m=>{const w=e.find(P=>P.id.toString()===m);if(w){const P=`Are you sure you want to delete "${w.comp_name}"? This action cannot be undone.`;if(confirm(P))try{if((await Z.deleteCompany(parseInt(m))).success){const A=await Z.getCompanies();if(A.success){let L=[];Array.isArray(A.data)?L=A.data:A.data&&Array.isArray(A.data.data)&&(L=A.data.data);const X=L.map(D=>({id:D.id,comp_name:D.comp_name||D.company_name||"",email:D.email||"",address:D.address||"",phone:D.phno||D.phone||"",gst_no:D.gst||D.gst_no||"",code:D.code||D.company_code||"",phno:D.phno||D.phone||"",is_active:D.status==="active"||D.is_active||!1,created_at:D.created_at||new Date().toISOString(),updated_at:D.updated_at||new Date().toISOString()})).sort((D,H)=>new Date(H.created_at).getTime()-new Date(D.created_at).getTime());t(X),n(X)}}}catch(T){console.error("Error deleting company:",T),alert("Failed to delete company")}}},_=()=>{h(!0)},j=async m=>{try{if((await Z.createCompany({comp_name:m.company_name||m.comp_name,code:m.code||m.company_code,email:m.email,address:m.address,phno:m.phone||m.phno,gst_no:m.gst_no||m.gst,status:m.is_active?"active":"inactive"})).success){const P=await Z.getCompanies();if(P.success){let T=[];Array.isArray(P.data)?T=P.data:P.data&&Array.isArray(P.data.data)&&(T=P.data.data);const L=T.map(M=>({id:M.id,comp_name:M.comp_name||M.company_name||"",email:M.email||"",address:M.address||"",phone:M.phno||M.phone||"",gst_no:M.gst||M.gst_no||"",code:M.code||M.company_code||"",is_active:M.status==="active"||M.is_active||!1,created_at:M.created_at||new Date().toISOString(),updated_at:M.updated_at||new Date().toISOString()})).sort((M,X)=>new Date(X.created_at).getTime()-new Date(M.created_at).getTime());t(L),n(L)}h(!1)}}catch(w){console.error("Error creating company:",w),alert(w instanceof Error?w.message:"Failed to create company")}},S=async m=>{if(N)try{if((await Z.updateCompany(N.id,{comp_name:m.company_name,email:m.email,address:m.address,phno:m.phone,gst:m.gst_no,status:m.is_active?"active":"inactive"})).success){b(!1),C(null);const P=await Z.getCompanies();if(P.success){let T=[];Array.isArray(P.data)?T=P.data:P.data&&Array.isArray(P.data.data)&&(T=P.data.data);const L=T.map(M=>({id:M.id,comp_name:M.comp_name||M.company_name||"",email:M.email||"",address:M.address||"",phone:M.phno||M.phone||"",gst_no:M.gst||M.gst_no||"",code:M.code||M.company_code||"",is_active:M.status==="active"||M.is_active||!1,created_at:M.created_at||new Date().toISOString(),updated_at:M.updated_at||new Date().toISOString()})).sort((M,X)=>new Date(X.created_at).getTime()-new Date(M.created_at).getTime());t(L),n(L)}}}catch(w){console.error("Error updating company:",w),alert(w instanceof Error?w.message:"Failed to update company")}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Companies"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all companies in the system"})]}),s.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ds,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search companies...",value:a,onChange:m=>l(m.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:m=>c(m.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.comp_name})})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.code||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[m.is_active?s.jsx("span",{className:"w-4 h-4 mr-1",children:""}):s.jsx("span",{className:"w-4 h-4 mr-1",children:""}),m.is_active?"Active":"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.address||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(m.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>d(m),className:`p-1 rounded transition-colors ${m.is_active?"text-orange-600 hover:text-orange-900 hover:bg-orange-50":"text-green-600 hover:text-green-900 hover:bg-green-50"}`,title:m.is_active?"Deactivate Company":"Activate Company",children:m.is_active?s.jsx(zf,{className:"h-4 w-4"}):s.jsx(qf,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>f(`/companies/${m.id}`),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:s.jsx($r,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>p(m),className:"text-yellow-600 hover:text-yellow-900 p-1",title:"Edit",children:s.jsx(cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>x(m.id.toString()),className:"p-1 text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(Ut,{className:"h-4 w-4"})})]})})]},m.id))})]})})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No companies found matching your criteria."})})]}),g&&s.jsx(Kf,{isOpen:g,onClose:()=>h(!1),onSubmit:j}),y&&s.jsx(Fu,{isOpen:y,onClose:()=>{b(!1),C(null)},onSubmit:S,company:N})]})},ct={getAllCustomers:async()=>R.get("/customers"),getCustomerById:async e=>R.get(`/customers/${e}`),createCustomer:async e=>R.post("/customers",e),updateCustomer:async(e,t)=>R.put(`/customers/${e}`,t),toggleCustomerStatus:async e=>R.patch(`/customers/${e}/toggle-status`),deleteCustomer:async e=>R.delete(`/customers/${e}`),searchCustomers:async e=>R.get(`/customers?search=${encodeURIComponent(e)}`)},Ws={getAllParts:async()=>R.get("/parts"),createPart:async e=>R.post("/parts",e),updatePart:async(e,t)=>R.put(`/parts/${e}`,t),deletePart:async e=>R.delete(`/parts/${e}`),searchParts:async e=>R.get(`/parts/search?description=${encodeURIComponent(e)}`)},bt={getAllCompanies:async()=>R.get("/companies"),getCompanyById:async e=>R.get(`/companies/${e}`),createCompany:async e=>R.post("/companies",e),updateCompany:async(e,t)=>R.put(`/companies/${e}`,t),toggleCompanyStatus:async e=>R.patch(`/companies/${e}/toggle-status`),deleteCompany:async e=>R.delete(`/companies/${e}`)},ma={getAllOrders:async()=>{const e=Date.now();return R.get(`/orders?t=${e}`)},getOrderById:async e=>R.get(`/orders/${e}`),createOrder:async e=>R.post("/orders",e),updateOrder:async(e,t)=>R.put(`/orders/${e}`,t),deleteOrder:async e=>R.delete(`/orders/${e}`),searchOrdersByCompany:async e=>R.get(`/orders/search?company=${encodeURIComponent(e)}`)},Jf={getAllDeliveryChallans:async()=>R.get("/delivery-challans"),getDeliveryChallanById:async e=>R.get(`/delivery-challans/${e}`),createDeliveryChallan:async e=>R.post("/delivery-challans",e),updateDeliveryChallan:async(e,t)=>R.put(`/delivery-challans/${e}`,t),deleteDeliveryChallan:async e=>R.delete(`/delivery-challans/${e}`),searchDeliveryChallans:async e=>R.get(`/delivery-challans/search?challanNumber=${encodeURIComponent(e)}`)},Ru={getAllAdmins:async()=>R.get("/company-users"),getAdminById:async e=>R.get(`/company-users/${e}`),createAdmin:async e=>R.post("/company-users",e),updateAdmin:async(e,t)=>R.put(`/company-users/${e}`,t),toggleAdminStatus:async e=>R.patch(`/company-users/${e}/toggle-status`),deleteAdmin:async e=>R.delete(`/company-users/${e}`),resetPassword:async(e,t)=>R.post(`/company-users/${e}/reset-password`,{password:t})},Xf=()=>{const{id:e}=Uh(),t=Qt(),[r,n]=v.useState(null),[a,l]=v.useState(!0),[o,c]=v.useState(!1),[i,u]=v.useState("overview"),[g,h]=v.useState([]),[y,b]=v.useState([]),[N,C]=v.useState([]),[k,f]=v.useState([]),[p,d]=v.useState([]),[x,_]=v.useState([]),[j,S]=v.useState(!1);v.useState(void 0),v.useEffect(()=>{e&&m(e)},[e]);const m=async E=>{var $;try{const F=await bt.getCompanyById(parseInt(E));if(console.log("Company API Response:",F),F.success){console.log("Company Data:",F.data);const U=(($=F.data)==null?void 0:$.company)||F.data;console.log("Processed Company Data:",U);const Q=(U==null?void 0:U.status)==="active"||(U==null?void 0:U.is_active)===!0;console.log("Company Status:",Q),console.log("Final Status Value:",Q),console.log("Company Status Type:",typeof Q),n(U),await new Promise(ce=>setTimeout(ce,100)),await w(U)}else console.error("Company API Error:",F),n(null)}catch(F){console.error("Error fetching company:",F),n(null)}finally{l(!1)}},w=async E=>{var $,F,U,Q;try{S(!0);const[ce,I,B,J,ke]=await Promise.all([ct.getAllCustomers(),ma.getAllOrders(),Jf.getAllDeliveryChallans(),Ws.getAllParts(),Ru.getAllAdmins()]);if(ce.success){const ue=(Array.isArray(ce.data)?ce.data:(($=ce.data)==null?void 0:$.data)||[]).filter(G=>G.comp_name===E.comp_name);h(ue)}if(I.success){const ue=(Array.isArray(I.data)?I.data:((F=I.data)==null?void 0:F.data)||[]).filter(G=>{var me;return((me=G.customer)==null?void 0:me.name)===E.comp_name||G.comp_name===E.comp_name});b(ue)}if(B.success){const ue=(Array.isArray(B.data)?B.data:((U=B.data)==null?void 0:U.data)||[]).filter(G=>G.comp_name===E.comp_name||G.to===E.comp_name||G.company===E.comp_name);C(ue)}if(J.success&&J.data){const ue=(Array.isArray(J.data)?J.data:[]).filter(G=>{var me;return((me=G.customer)==null?void 0:me.name)===E.comp_name});f(ue)}if(ke.success){const q=Array.isArray(ke.data)?ke.data:((Q=ke.data)==null?void 0:Q.data)||[],ue=q.filter(me=>me.company_name===E.comp_name&&(me.role==="supervisor"||me.role==="manager")),G=q.filter(me=>me.company_name===E.comp_name&&me.role==="operator");d(ue),_(G)}}catch(ce){console.error("Error fetching company data:",ce)}finally{S(!1)}},P=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[s.jsx("div",{className:"bg-blue-900 px-6 py-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.comp_name)||""}),s.jsx("div",{className:"flex items-center mt-2",children:(()=>{const E=(r==null?void 0:r.status)==="active"||(r==null?void 0:r.is_active)===!0;return console.log("Render Status Check:",E,r==null?void 0:r.status,r==null?void 0:r.is_active),E})()?s.jsxs("span",{className:"flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Vs,{className:"w-4 h-4 mr-1"}),"Active"]}):s.jsxs("span",{className:"flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(zo,{className:"w-4 h-4 mr-1"}),"Inactive"]})})]})})}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ml,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.email)||""})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Tu,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.phone)||(r==null?void 0:r.phno)||"No phone provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx($f,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Address"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.address)||"No address provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(ot,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"GST Number"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.gst_no)||""})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Customers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Delivery Challans"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Staff"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.length+x.length})]})]})]}),T=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Customers (",g.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(E=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.contact_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.address}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E.address}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.created_at).toLocaleDateString()})]},E.id))})]}),g.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No customers found for this company"})]})]}),A=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Orders (",y.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(E=>{var $,F;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.po_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(($=E.customer)==null?void 0:$.name)||`Customer ${E.customer_id}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((F=E.part)==null?void 0:F.part_description)||`Part ${E.part_id}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.po_qty}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",E.price]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.po_received?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:E.po_received?"Received":"Pending"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.po_date?new Date(E.po_date).toLocaleDateString():"N/A"})]},E.id)})})]}),y.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders found for this company"})]})]}),L=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Delivery Challans (",N.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(E=>{var $;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.challan_no||E.challanNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.to||E.comp_name||E.company}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.part_no||(($=E.part)==null?void 0:$.part_description)||E.partDescription||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.challan_date||E.createdDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.status==="delivered"?"bg-green-100 text-green-800":E.status==="in_transit"?"bg-blue-100 text-blue-800":E.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:E.status||"pending"})})]},E.id)})})]}),N.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No delivery challans found for this company"})]})]}),M=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Parts (",k.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drawing No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rev No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Wt"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thickness"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(E=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.drawing_no}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E.part_description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.rev_no||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.net_wt||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.thickness||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.raw_material||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.lead_time||"N/A"})]},E.id))})]}),k.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No parts found for this company"})]})]}),X=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Supervisors (",p.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(E=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_active?"Active":"Inactive"})})]},E.email))})]}),p.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No supervisors found for this company"})]})]}),D=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Operators (",x.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(E=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_active?"Active":"Inactive"})})]},E.email))})]}),x.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No operators found for this company"})]})]}),H=async E=>{if(r)try{(await bt.updateCompany(r.id,{comp_name:E.comp_name,email:E.email,address:E.address,phno:E.phone,gst:E.gst_no,status:E.is_active?"active":"inactive"})).success&&(c(!1),await m(r.id.toString()))}catch($){console.error("Error updating company:",$),alert("Failed to update company")}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading company details..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex items-center justify-between h-16",children:s.jsx("div",{className:"flex items-center",children:s.jsxs("button",{onClick:()=>t("/companies"),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[s.jsx(Tf,{className:"h-5 w-5 mr-2"}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Company Details"})]})})})})}),s.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:ot},{id:"customers",label:"Customers",icon:it},{id:"orders",label:"Orders",icon:_s},{id:"challans",label:"Delivery Challans",icon:ot},{id:"parts",label:"Parts",icon:Lu},{id:"supervisors",label:"Supervisors",icon:it},{id:"operators",label:"Operators",icon:it}].map(E=>s.jsxs("button",{onClick:()=>u(E.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===E.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(E.icon,{className:"h-4 w-4 mr-2"}),E.label]},E.id))})}),s.jsxs("div",{children:[i==="overview"&&P(),i==="customers"&&T(),i==="orders"&&A(),i==="challans"&&L(),i==="parts"&&M(),i==="supervisors"&&X(),i==="operators"&&D()]})]})}),o&&s.jsx(Fu,{isOpen:o,onClose:()=>c(!1),onSubmit:H,company:r})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Company not found"}),s.jsx("button",{onClick:()=>t("/companies"),className:"px-4 py-2 bg-blue-900 text-white rounded-md hover:bg-blue-800",children:"Back to Companies"})]})})},Yf=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=v.useState({name:"",email:"",phone:"",role:"admin",comp_code:"",password:"",password_confirmation:"",is_active:!0}),[l,o]=v.useState(!1),[c,i]=v.useState({}),[u,g]=v.useState([]),[h,y]=v.useState(null),[b,N]=v.useState(!1),C=_=>{const{name:j,value:S,type:m}=_.target;a(w=>({...w,[j]:m==="checkbox"?_.target.checked:S})),c[j]&&i(w=>({...w,[j]:""}))},k=async _=>{const j=_.target.value,S=u.find(m=>m.id.toString()===j);S?(y(S),a(m=>({...m,comp_code:S.code}))):(y(null),a(m=>({...m,comp_code:""})))};v.useEffect(()=>{e&&f()},[e]);const f=async()=>{N(!0);try{console.log("Fetching companies from API...");const _=await Z.getCompanies();if(console.log("Companies API response:",_),_.success&&Array.isArray(_.data)){const j=_.data;console.log("Companies data extracted:",j),g(j)}else console.error("Invalid response structure:",_),g([])}catch(_){console.error("Error fetching companies:",_),g([])}finally{N(!1)}},p=()=>{const _={};return n.name.trim()?n.name.trim().length<2?_.name="Name must be at least 2 characters":n.name.trim().length>100?_.name="Name must be less than 100 characters":/^[a-zA-Z\s]+$/.test(n.name.trim())||(_.name="Name can only contain letters and spaces"):_.name="Name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.email.trim().length>255&&(_.email="Email must be less than 255 characters"):_.email="Invalid email format":_.email="Email is required",n.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(n.phone.replace(/\s/g,""))?n.phone.replace(/\D/g,"").length<10?_.phone="Phone number must be at least 10 digits":n.phone.replace(/\D/g,"").length>15&&(_.phone="Phone number must be less than 15 digits"):_.phone="Invalid phone number format":_.phone="Phone is required",n.role?["admin","supervisor","operator"].includes(n.role)||(_.role="Invalid role selected"):_.role="Role is required",n.password.trim()?n.password.length<8?_.password="Password must be at least 8 characters":n.password.length>128?_.password="Password must be less than 128 characters":/(?=.*[a-z])/.test(n.password)?/(?=.*[A-Z])/.test(n.password)?/(?=.*\d)/.test(n.password)?/(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(n.password)||(_.password="Password must contain at least one special character"):_.password="Password must contain at least one number":_.password="Password must contain at least one uppercase letter":_.password="Password must contain at least one lowercase letter":_.password="Password is required",n.password_confirmation.trim()?n.password!==n.password_confirmation&&(_.password_confirmation="Passwords do not match"):_.password_confirmation="Password confirmation is required",h&&!h.comp_name&&(_.comp_code="Invalid company selected"),i(_),Object.keys(_).length===0},d=async _=>{if(_.preventDefault(),!!p()){o(!0);try{const j={name:n.name,email:n.email,phone:n.phone,role:n.role,comp_name:(h==null?void 0:h.comp_name)||"",comp_code:n.comp_code,password:n.password,password_confirmation:n.password_confirmation,is_active:n.is_active};(await Z.createCompanyUser(j)).success&&(r(),x())}catch(j){console.error("Error creating admin:",j),alert("Failed to create admin")}finally{o(!1)}}},x=()=>{l||(a({name:"",email:"",phone:"",role:"admin",comp_code:"",password:"",password_confirmation:"",is_active:!0}),y(null),i({}),t())};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:x}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto scrollbar-hide",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Admin"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create a new administrator account"})]}),s.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",disabled:l,children:s.jsx(Ae,{className:"h-6 w-6"})})]})}),s.jsxs("form",{onSubmit:d,className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.name?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Enter full name"}),c.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.email?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"admin@example.com"}),c.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.phone?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"+1234567890"}),c.phone&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.phone]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),s.jsxs("select",{value:(h==null?void 0:h.id)||"",onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.comp_code?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l||b,children:[s.jsx("option",{value:"",children:"Select Company"}),u.map(_=>s.jsx("option",{value:_.id,children:_.comp_name},_.id))]}),h&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Company Code:"})," ",h.code]})}),c.comp_code&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.comp_code]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),s.jsxs("select",{name:"role",value:n.role,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.role?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,children:[s.jsx("option",{value:"",children:"Select Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"supervisor",children:"Supervisor"}),s.jsx("option",{value:"operator",children:"Operator"})]}),c.role&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.role]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),s.jsx("input",{type:"password",name:"password",value:n.password,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.password?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Min. 6 characters"}),c.password&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.password]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),s.jsx("input",{type:"password",name:"password_confirmation",value:n.password_confirmation,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.password_confirmation?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Re-enter password"}),c.password_confirmation&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.password_confirmation]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:C,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:l}),s.jsxs("label",{className:"ml-3 block text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Active Account"}),s.jsx("span",{className:"text-gray-500 ml-1",children:"- User can login immediately"})]})]})}),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"* Required fields"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:x,className:"px-5 py-2.5 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 disabled:opacity-50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 disabled:opacity-50 transition-colors flex items-center",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Admin"})]})]})]})]})]})}):null},ex=({isOpen:e,onClose:t,onSuccess:r,admin:n})=>{const[a,l]=v.useState({name:n.name,email:n.email,phone:n.phone,role:n.role,is_active:n.is_active,comp_code:""}),[o,c]=v.useState([]),[i,u]=v.useState(null),[g,h]=v.useState(""),[y,b]=v.useState(!1),[N,C]=v.useState({}),k=S=>{const{name:m,value:w,type:P}=S.target;l(T=>({...T,[m]:P==="checkbox"?S.target.checked:w})),N[m]&&C(T=>({...T,[m]:""}))},f=async S=>{const m=S.target.value,w=o.find(P=>P.id.toString()===m);w?(u(w),l(P=>({...P,comp_code:w.code}))):(u(null),l(P=>({...P,comp_code:""})))},p=async()=>{try{const S=await Z.getCompanies();S.success&&Array.isArray(S.data)&&c(S.data)}catch(S){console.error("Error fetching companies:",S)}};Bl.useEffect(()=>{e&&p()},[e]);const d=S=>{h(S.target.value),N.newPassword&&C(m=>({...m,newPassword:""}))},x=()=>{var m,w,P;const S={};return(m=a.name)!=null&&m.trim()?a.name.trim().length<2?S.name="Name must be at least 2 characters":a.name.trim().length>100?S.name="Name must be less than 100 characters":/^[a-zA-Z\s]+$/.test(a.name.trim())||(S.name="Name can only contain letters and spaces"):S.name="Name is required",(w=a.email)!=null&&w.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.email.trim().length>255&&(S.email="Email must be less than 255 characters"):S.email="Invalid email format":S.email="Email is required",(P=a.phone)!=null&&P.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phone.replace(/\s/g,""))?a.phone.replace(/\D/g,"").length<10?S.phone="Phone number must be at least 10 digits":a.phone.replace(/\D/g,"").length>15&&(S.phone="Phone number must be less than 15 digits"):S.phone="Invalid phone number format":S.phone="Phone is required",a.role?["admin","supervisor","operator"].includes(a.role)||(S.role="Invalid role selected"):S.role="Role is required",g&&(g.length<8?S.newPassword="Password must be at least 8 characters":g.length>128?S.newPassword="Password must be less than 128 characters":/(?=.*[a-z])/.test(g)?/(?=.*[A-Z])/.test(g)?/(?=.*\d)/.test(g)?/(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(g)||(S.newPassword="Password must contain at least one special character"):S.newPassword="Password must contain at least one number":S.newPassword="Password must contain at least one uppercase letter":S.newPassword="Password must contain at least one lowercase letter"),i&&!i.comp_name&&(S.comp_code="Invalid company selected"),C(S),Object.keys(S).length===0},_=async S=>{if(S.preventDefault(),!!x()){b(!0);try{const m={name:a.name,email:a.email,phone:a.phone,role:a.role,is_active:a.is_active,comp_name:(i==null?void 0:i.comp_name)||"",comp_code:a.comp_code};(await Z.updateCompanyUser(n.id,m)).success&&(g&&await Z.updateCompanyUser(n.id,{password:g}),r())}catch(m){console.error("Error updating admin:",m),alert("Failed to update admin")}finally{b(!1)}}},j=()=>{y||(l({name:n.name,email:n.email,phone:n.phone,role:n.role,is_active:n.is_active,comp_code:""}),h(""),C({}),t())};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Admin"}),s.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",disabled:y,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:a.name,onChange:k,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.name?"border-red-500":"border-gray-300"}`,disabled:y}),N.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:k,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.email?"border-red-500":"border-gray-300"}`,disabled:y}),N.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:k,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.phone?"border-red-500":"border-gray-300"}`,disabled:y}),N.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),s.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:f,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.comp_code?"border-red-500":"border-gray-300"}`,disabled:y,children:[s.jsx("option",{value:"",children:"Select Company"}),o.map(S=>s.jsx("option",{value:S.id,children:S.comp_name},S.id))]}),i&&s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Company Code: ",s.jsx("span",{className:"font-medium",children:i.code})]}),N.comp_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.comp_code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role *"}),s.jsxs("select",{name:"role",value:a.role,onChange:k,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.role?"border-red-500":"border-gray-300"}`,disabled:y,children:[s.jsx("option",{value:"",children:"Select Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"super_admin",children:"Super Admin"}),s.jsx("option",{value:"manager",children:"Manager"})]}),N.role&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.role})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_active",id:"is_active",checked:a.is_active,onChange:k,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:y}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Reset Password"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (leave empty to keep current)"}),s.jsx("input",{type:"password",name:"newPassword",value:g,onChange:d,placeholder:"Enter new password",className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.newPassword?"border-red-500":"border-gray-300"}`,disabled:y}),N.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.newPassword})]})})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:y,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Updating...":"Update Admin"}),s.jsx("button",{type:"button",onClick:j,disabled:y,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})})}):null},tx=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState("all"),[i,u]=v.useState("all"),[g,h]=v.useState(!0),[y,b]=v.useState(!1),[N,C]=v.useState(!1),[k,f]=v.useState(null);v.useEffect(()=>{p()},[]);const p=async()=>{try{const m=await Z.getCompanyUsers();console.log("Company Admins API Response:",m);let w=[];m.success&&Array.isArray(m.data)&&(w=m.data),w.sort((P,T)=>new Date(T.created_at).getTime()-new Date(P.created_at).getTime()),t(w),n(w)}catch(m){console.error("Error fetching admins:",m),t([]),n([])}finally{h(!1)}};v.useEffect(()=>{let m=e;a&&(m=m.filter(w=>w.name&&w.name.toLowerCase().includes(a.toLowerCase())||w.email&&w.email.toLowerCase().includes(a.toLowerCase())||w.phone&&w.phone.toLowerCase().includes(a.toLowerCase())||w.company&&w.company.comp_name&&w.company.comp_name.toLowerCase().includes(a.toLowerCase())||w.role&&w.role.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(m=m.filter(w=>o==="active"?w.is_active:!w.is_active)),i!=="all"&&(m=m.filter(w=>w.company&&w.company.comp_name===i)),n(m)},[e,a,o,i]);const d=async m=>{const w=e.find(T=>T.id===m),P=w==null?void 0:w.is_active;try{(await Z.updateCompanyUser(m,{is_active:!P})).success&&await p()}catch(T){console.error("Error toggling admin status:",T),alert("Failed to update admin status")}},x=m=>{f(m),C(!0)},_=async m=>{if(window.confirm("Are you sure you want to delete this admin?"))try{(await Z.deleteCompanyUser(m)).success&&await p()}catch(w){console.error("Error deleting admin:",w),alert("Failed to delete admin")}},j=async()=>{b(!1),await p()},S=async()=>{C(!1),f(null),await p()};return g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Company Admins"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all company administrators in the system"})]}),s.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Add Admin"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ds,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search admins...",value:a,onChange:m=>l(m.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:m=>u(m.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"}),Array.from(new Set(e.filter(m=>m.company).map(m=>m.company.comp_name))).sort().map(m=>s.jsx("option",{value:m,children:m},m))]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:m=>c(m.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-900 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:m.name.split(" ").map(w=>w[0]).join("")})})}),s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.company?m.company.comp_name:"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.role==="admin"?"bg-blue-100 text-blue-800":m.role==="supervisor"?"bg-purple-100 text-purple-800":m.role==="operator"?"bg-gray-100 text-gray-800":m.role==="superadmin"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:m.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[m.is_active?s.jsx(Vs,{className:"w-4 h-4 mr-1"}):s.jsx(zo,{className:"w-4 h-4 mr-1"}),m.is_active?"Active":"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(m.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>x(m),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Admin",children:s.jsx(cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>_(m.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Admin",children:s.jsx(Ut,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(m.id),className:`p-1 ${m.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:m.is_active?"Deactivate Admin":"Activate Admin",children:s.jsx(Hf,{className:"h-4 w-4"})})]})})]},m.id))})]})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No company admins found matching your criteria."})})]}),y&&s.jsx(Yf,{isOpen:y,onClose:()=>b(!1),onSuccess:j}),N&&k&&s.jsx(ex,{isOpen:N,onClose:()=>C(!1),onSuccess:S,admin:k})]})})},sx=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=v.useState({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:""}),[l,o]=v.useState([]),[c,i]=v.useState(!1),[u,g]=v.useState({});v.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{const f=await bt.getAllCompanies();f.success&&Array.isArray(f.data)?o(f.data):o([])}catch(f){console.error("Error fetching companies:",f),o([])}},y=f=>{const{name:p,value:d}=f.target;a(x=>({...x,[p]:d})),u[p]&&g(x=>({...x,[p]:void 0}))},b=f=>{const p=l.find(d=>d.comp_name===f.target.value);p&&a(d=>({...d,comp_name:p.comp_name,comp_code:p.code})),u.comp_name&&g(d=>({...d,comp_name:void 0}))},N=()=>{const f={};return n.name.trim()||(f.name="Customer name is required"),n.address.trim()||(f.address="Address is required"),n.contact_no.trim()||(f.contact_no="Contact number is required"),n.gst_no.trim()||(f.gst_no="GST number is required"),n.comp_name.trim()||(f.comp_name="Company selection is required"),g(f),Object.keys(f).length===0},C=async f=>{if(f.preventDefault(),!!N()){i(!0);try{(await ct.createCustomer(n)).success&&(r(),k())}catch(p){console.error("Error creating customer:",p)}finally{i(!1)}}},k=()=>{a({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:""}),g({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:k,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:C,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Customer"}),s.jsx("button",{type:"button",onClick:k,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter customer name"}),u.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:y,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.address?"border-red-300":"border-gray-300"}`,placeholder:"Enter complete address"}),u.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.address})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact_no",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),s.jsx("input",{type:"text",id:"contact_no",name:"contact_no",value:n.contact_no,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.contact_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter contact number"}),u.contact_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.contact_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:n.gst_no,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter GST number"}),u.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.gst_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${u.comp_name?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a company"}),l.length>0?l.map(f=>s.jsx("option",{value:f.comp_name,children:f.comp_name},f.id)):s.jsx("option",{value:"",disabled:!0,children:"No companies available"})]}),u.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_code",className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",id:"comp_code",name:"comp_code",value:n.comp_code,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md shadow-sm bg-gray-50 text-gray-600 sm:text-sm",placeholder:"Auto-populated from company selection"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Company code is auto-populated when you select a company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:c,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating...":"Create Customer"}),s.jsx("button",{type:"button",onClick:k,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})]})}):null},rx=({isOpen:e,onClose:t,onSuccess:r,customer:n})=>{const[a,l]=v.useState({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:"",is_active:!0}),[o,c]=v.useState([]),[i,u]=v.useState(!1),[g,h]=v.useState({});v.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{const d=await bt.getAllCompanies();d.success&&Array.isArray(d.data)?c(d.data):c([])}catch(d){console.error("Error fetching companies:",d),c([])}};v.useEffect(()=>{n&&e&&(l({name:n.name,address:n.address,contact_no:n.contact_no,gst_no:n.gst_no,comp_code:n.comp_code,comp_name:n.comp_name,is_active:n.is_active}),h({}))},[n,e]);const b=d=>{const{name:x,value:_}=d.target;l(j=>({...j,[x]:_})),g[x]&&h(j=>({...j,[x]:void 0}))},N=d=>{const x=o.find(_=>_.comp_name===d.target.value);x&&l(_=>({..._,comp_name:x.comp_name,comp_code:x.code})),g.comp_name&&h(_=>({..._,comp_name:void 0}))},C=d=>{const{name:x,checked:_}=d.target;l(j=>({...j,[x]:_}))},k=()=>{var x,_,j,S,m;const d={};return(x=a.name)!=null&&x.trim()||(d.name="Customer name is required"),(_=a.address)!=null&&_.trim()||(d.address="Address is required"),(j=a.contact_no)!=null&&j.trim()||(d.contact_no="Contact number is required"),(S=a.gst_no)!=null&&S.trim()||(d.gst_no="GST number is required"),(m=a.comp_name)!=null&&m.trim()||(d.comp_name="Company selection is required"),h(d),Object.keys(d).length===0},f=async d=>{if(d.preventDefault(),!(!k()||!n)){u(!0);try{(await ct.updateCustomer(n.id,a)).success&&(r(),p())}catch(x){console.error("Error updating customer:",x),alert("Failed to update customer")}finally{u(!1)}}},p=()=>{l({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:"",is_active:!0}),h({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:p,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Customer"}),s.jsx("button",{type:"button",onClick:p,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:i,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter customer name",disabled:i}),g.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",value:a.address,onChange:b,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.address?"border-red-300":"border-gray-300"}`,placeholder:"Enter complete address",disabled:i}),g.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.address})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact_no",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),s.jsx("input",{type:"text",id:"contact_no",name:"contact_no",value:a.contact_no,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.contact_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter contact number",disabled:i}),g.contact_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.contact_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:a.gst_no,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter GST number",disabled:i}),g.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.gst_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:a.comp_name,onChange:N,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.comp_name?"border-red-300":"border-gray-300"}`,disabled:i,children:[s.jsx("option",{value:"",children:"Select a company"}),o.map(d=>s.jsx("option",{value:d.comp_name,children:d.comp_name},d.id))]}),g.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_code",className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",id:"comp_code",name:"comp_code",value:a.comp_code,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md shadow-sm bg-gray-50 text-gray-600 sm:text-sm",placeholder:"Auto-populated from company selection",disabled:i}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Company code is auto-populated when you select a company"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:C,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:i}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Customer"}),s.jsx("button",{type:"button",onClick:p,disabled:i,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},nx=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState(!0),[i,u]=v.useState(null),[g,h]=v.useState(!1),[y,b]=v.useState(!1);v.useEffect(()=>{N()},[]),v.useEffect(()=>{let x=e;a&&(x=x.filter(_=>_.name.toLowerCase().includes(a.toLowerCase())||_.address.toLowerCase().includes(a.toLowerCase())||_.contact_no.toLowerCase().includes(a.toLowerCase())||_.gst_no.toLowerCase().includes(a.toLowerCase()))),n(x)},[e,a]);const N=async()=>{c(!0);try{const x=await Z.getCustomers();if(console.log("Customers API Response:",x),x.success)if(Array.isArray(x.data)){const _=x.data.sort((j,S)=>new Date(S.created_at).getTime()-new Date(j.created_at).getTime());t(_),n(_)}else if(x.data&&Array.isArray(x.data.data)){const _=x.data.data.sort((j,S)=>new Date(S.created_at).getTime()-new Date(j.created_at).getTime());t(_),n(_)}else t([]),n([]);else t([]),n([])}catch(x){console.error("Error fetching customers:",x),t([]),n([])}finally{c(!1)}},C=()=>{N(),h(!1)},k=x=>{u(x),b(!0)},f=()=>{b(!1),u(null)},p=()=>{N()},d=async(x,_)=>{if(window.confirm(`Are you sure you want to delete customer "${_}"? This action cannot be undone.`))try{(await Z.deleteCustomer(x)).success&&await N()}catch(j){console.error("Error deleting customer:",j),alert("Failed to delete customer")}};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Manage all customers in the system  Total: ",e.length]})]}),s.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Add Customer"]})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search customers by name, address, contact, or GST...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-900 focus:border-transparent",value:a,onChange:x=>l(x.target.value)})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GST Number"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parts Count"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx($o,{className:"h-8 w-8 text-blue-900"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),s.jsx("div",{className:"text-sm text-gray-500",children:x.address})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tu,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{className:"text-sm text-gray-900",children:x.contact_no})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ot,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{className:"text-sm text-gray-900",children:x.gst_no})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:x.parts_count||0})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(x.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>k(x),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Customer",children:s.jsx(cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(x.id,x.name),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Customer",children:s.jsx(Ut,{className:"h-4 w-4"})})]})})]},x.id))})]})})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No customers found matching your criteria."})}),g&&s.jsx(sx,{isOpen:g,onClose:()=>h(!1),onSuccess:C}),y&&s.jsx(rx,{isOpen:y,onClose:f,onSuccess:p,customer:i})]})})},ax=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=v.useState({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),[l,o]=v.useState([]),[c,i]=v.useState([]),[u,g]=v.useState(!1),[h,y]=v.useState(!1),[b,N]=v.useState({});v.useEffect(()=>{e&&(k(),C())},[e]);const C=async()=>{try{const j=await bt.getAllCompanies();j.success&&Array.isArray(j.data)?i(j.data):i([])}catch(j){console.error("Error fetching companies:",j)}},k=async()=>{y(!0);try{console.log("Fetching customers for parts modal...");const j=await ct.getAllCustomers();console.log("Customers API response:",j),j.success?Array.isArray(j.data)?(console.log("Setting customers from direct array:",j.data),console.log("First customer object:",j.data[0]),o(j.data)):j.data&&Array.isArray(j.data.data)?(console.log("Setting customers from paginated data:",j.data.data),console.log("First customer object:",j.data.data[0]),o(j.data.data)):(console.log("No customers data found in response"),o([])):(console.log("Customers API response not successful"),o([]))}catch(j){console.error("Error fetching customers:",j),o([])}finally{y(!1)}},f=j=>{const{name:S,value:m,type:w}=j.target;if(w==="checkbox"){const P=j.target.checked;a(T=>({...T,[S]:P}))}else if(w==="number"){const P=m===""?void 0:Number(m);a(T=>({...T,[S]:P}))}else if(S==="customer_id"){const P=m===""?0:Number(m);a(T=>({...T,[S]:P}))}else a(P=>({...P,[S]:m}));b[S]&&N(P=>({...P,[S]:void 0}))},p=j=>{a(S=>({...S,comp_name:j.target.value})),b.comp_name&&N(S=>({...S,comp_name:void 0}))},d=()=>{const j={};return n.customer_id||(j.customer_id="Customer is required"),n.comp_name.trim()||(j.comp_name="Company selection is required"),n.part_description.trim()||(j.part_description="Part description is required"),n.drawing_no.trim()||(j.drawing_no="Drawing number is required"),N(j),Object.keys(j).length===0},x=async j=>{if(j.preventDefault(),!!d()){g(!0);try{(await Ws.createPart(n)).success&&(r(),_())}catch(S){console.error("Error creating part:",S)}finally{g(!1)}}},_=()=>{a({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),N({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:_,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Part"}),s.jsx("button",{type:"button",onClick:_,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:n.customer_id||"",onChange:f,disabled:h,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.customer_id?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a customer"}),l.map(j=>(console.log("Rendering customer option:",j.id,j.name),s.jsx("option",{value:j.id,children:j.name},j.id)))]}),b.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:p,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.comp_name?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a company"}),c.map(j=>s.jsx("option",{value:j.comp_name,children:j.comp_name},j.id))]}),b.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:n.part_description,onChange:f,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description"}),b.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_no",className:"block text-sm font-medium text-gray-700",children:"Drawing Number *"}),s.jsx("input",{type:"text",id:"drawing_no",name:"drawing_no",value:n.drawing_no,onChange:f,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.drawing_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter drawing number"}),b.drawing_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.drawing_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rev_no",className:"block text-sm font-medium text-gray-700",children:"Revision Number"}),s.jsx("input",{type:"text",id:"rev_no",name:"rev_no",value:n.rev_no,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter revision number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"net_wt",className:"block text-sm font-medium text-gray-700",children:"Net Weight"}),s.jsx("input",{type:"number",id:"net_wt",name:"net_wt",value:n.net_wt||"",onChange:f,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter net weight"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"thickness",className:"block text-sm font-medium text-gray-700",children:"Thickness"}),s.jsx("input",{type:"number",id:"thickness",name:"thickness",value:n.thickness||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter thickness",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raw_material",className:"block text-sm font-medium text-gray-700",children:"Raw Material"}),s.jsx("input",{type:"text",id:"raw_material",name:"raw_material",value:n.raw_material,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter raw material"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead_time",className:"block text-sm font-medium text-gray-700",children:"Lead Time (days)"}),s.jsx("input",{type:"number",id:"lead_time",name:"lead_time",value:n.lead_time||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter lead time in days"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"tool_information",className:"block text-sm font-medium text-gray-700",children:"Tool Information"}),s.jsx("input",{type:"text",id:"tool_information",name:"tool_information",value:n.tool_information,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter tool information"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"drawing_location",className:"block text-sm font-medium text-gray-700",children:"Drawing Location"}),s.jsx("input",{type:"text",id:"drawing_location",name:"drawing_location",value:n.drawing_location,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter drawing location"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"operation_sequence",className:"block text-sm font-medium text-gray-700",children:"Operation Sequence"}),s.jsx("textarea",{id:"operation_sequence",name:"operation_sequence",value:n.operation_sequence,onChange:f,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter operation sequence"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:n.po_no,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:n.po_date,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:n.po_qty||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:n.po_drg_rev,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date as per PO"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:n.reqd_date_as_per_po,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:n.acknowledgement_remarks,onChange:f,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:n.po_received,onChange:f,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-900",children:"PO Received"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:u||h,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Part"}),s.jsx("button",{type:"button",onClick:_,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})]})}):null},lx=({isOpen:e,onClose:t,onSuccess:r,part:n})=>{const[a,l]=v.useState({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),[o,c]=v.useState([]),[i,u]=v.useState(!1),[g,h]=v.useState({});v.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{const p=await bt.getAllCompanies();p.success&&Array.isArray(p.data)?c(p.data):c([])}catch(p){console.error("Error fetching companies:",p)}};v.useEffect(()=>{n&&e&&(l({customer_id:n.customer_id,part_description:n.part_description,drawing_no:n.drawing_no,rev_no:n.rev_no||"",net_wt:n.net_wt?parseFloat(n.net_wt.toString()):void 0,thickness:n.thickness?parseFloat(n.thickness.toString()):void 0,tool_information:n.tool_information||"",raw_material:n.raw_material||"",drawing_location:n.drawing_location||"",operation_sequence:n.operation_sequence||"",lead_time:n.lead_time?parseInt(n.lead_time.toString()):void 0,po_no:n.po_no||"",po_date:n.po_date?n.po_date.split("T")[0]:"",po_received:n.po_received||!1,po_qty:n.po_qty?parseInt(n.po_qty.toString()):void 0,po_drg_rev:n.po_drg_rev||"",acknowledgement_remarks:n.acknowledgement_remarks||"",reqd_date_as_per_po:n.reqd_date_as_per_po?n.reqd_date_as_per_po.split("T")[0]:"",comp_name:n.comp_name||""}),h({}))},[n,e]);const b=p=>{const{name:d,value:x,type:_}=p.target;if(_==="checkbox"){const j=p.target.checked;l(S=>({...S,[d]:j}))}else if(_==="number"){const j=x===""?void 0:Number(x);l(S=>({...S,[d]:j}))}else if(d==="customer_id"){const j=x===""?0:Number(x);l(S=>({...S,[d]:j}))}else l(j=>({...j,[d]:x}));g[d]&&h(j=>({...j,[d]:void 0}))},N=p=>{l(d=>({...d,comp_name:p.target.value})),g.comp_name&&h(d=>({...d,comp_name:void 0}))},C=()=>{var d,x,_;const p={};return(!a.customer_id||a.customer_id===0)&&(p.customer_id="Customer is required"),(d=a.comp_name)!=null&&d.trim()||(p.comp_name="Company selection is required"),(x=a.part_description)!=null&&x.trim()||(p.part_description="Part description is required"),(_=a.drawing_no)!=null&&_.trim()||(p.drawing_no="Drawing number is required"),h(p),Object.keys(p).length===0},k=async p=>{if(p.preventDefault(),!(!C()||!n)){u(!0);try{(await Ws.updatePart(n.id,a)).success&&(r(),f())}catch(d){console.error("Error updating part:",d),alert("Failed to update part")}finally{u(!1)}}},f=()=>{l({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),h({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:f,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("form",{onSubmit:k,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Part"}),s.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:i,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsx("select",{id:"customer_id",name:"customer_id",value:a.customer_id,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.customer_id?"border-red-300":"border-gray-300"}`,disabled:i,children:s.jsx("option",{value:0,children:"Select a customer"})}),g.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:a.comp_name,onChange:N,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.comp_name?"border-red-300":"border-gray-300"}`,disabled:i,children:[s.jsx("option",{value:"",children:"Select a company"}),o.map(p=>s.jsx("option",{value:p.comp_name,children:p.comp_name},p.id))]}),g.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("textarea",{id:"part_description",name:"part_description",value:a.part_description,onChange:b,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:i}),g.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_no",className:"block text-sm font-medium text-gray-700",children:"Drawing Number *"}),s.jsx("input",{type:"text",id:"drawing_no",name:"drawing_no",value:a.drawing_no,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${g.drawing_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter drawing number",disabled:i}),g.drawing_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.drawing_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rev_no",className:"block text-sm font-medium text-gray-700",children:"Revision Number"}),s.jsx("input",{type:"text",id:"rev_no",name:"rev_no",value:a.rev_no,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter revision number",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"net_wt",className:"block text-sm font-medium text-gray-700",children:"Net Weight"}),s.jsx("input",{type:"number",id:"net_wt",name:"net_wt",value:a.net_wt||"",onChange:b,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter net weight",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"thickness",className:"block text-sm font-medium text-gray-700",children:"Thickness"}),s.jsx("input",{type:"number",id:"thickness",name:"thickness",value:a.thickness||"",onChange:b,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter thickness",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tool_information",className:"block text-sm font-medium text-gray-700",children:"Tool Information"}),s.jsx("textarea",{id:"tool_information",name:"tool_information",value:a.tool_information,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter tool information",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raw_material",className:"block text-sm font-medium text-gray-700",children:"Raw Material"}),s.jsx("textarea",{id:"raw_material",name:"raw_material",value:a.raw_material,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter raw material",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_location",className:"block text-sm font-medium text-gray-700",children:"Drawing Location"}),s.jsx("textarea",{id:"drawing_location",name:"drawing_location",value:a.drawing_location,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter drawing location",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"operation_sequence",className:"block text-sm font-medium text-gray-700",children:"Operation Sequence"}),s.jsx("textarea",{id:"operation_sequence",name:"operation_sequence",value:a.operation_sequence,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter operation sequence",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead_time",className:"block text-sm font-medium text-gray-700",children:"Lead Time (days)"}),s.jsx("input",{type:"number",id:"lead_time",name:"lead_time",value:a.lead_time||"",onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter lead time in days",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:a.po_no,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:a.po_date,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:a.po_qty||"",onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:a.po_drg_rev,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:a.acknowledgement_remarks,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date as per PO"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:a.reqd_date_as_per_po,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:i})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Part"}),s.jsx("button",{type:"button",onClick:f,disabled:i,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},ox=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState([]),[o,c]=v.useState(""),[i,u]=v.useState("all"),[g,h]=v.useState(!0),[y,b]=v.useState(null),[N,C]=v.useState(!1),[k,f]=v.useState(!1),[p,d]=v.useState(!1);v.useEffect(()=>{x()},[]),v.useEffect(()=>{let A=e;o&&(A=A.filter(L=>{var M;return L.part_description.toLowerCase().includes(o.toLowerCase())||L.drawing_no.toLowerCase().includes(o.toLowerCase())||((M=L.raw_material)==null?void 0:M.toLowerCase().includes(o.toLowerCase()))||L.customer.name.toLowerCase().includes(o.toLowerCase())})),i!=="all"&&(A=A.filter(L=>L.customer_id===parseInt(i))),n(A)},[e,o,i]);const x=async()=>{h(!0);try{const[A,L]=await Promise.all([Z.getParts().catch(()=>({success:!1,data:[]})),Z.getCustomers().catch(()=>({success:!1,data:[]}))]);if(A.success){let M=[];Array.isArray(A.data)?M=A.data.sort((X,D)=>new Date(D.created_at).getTime()-new Date(X.created_at).getTime()):A.data&&typeof A.data=="object"&&"data"in A.data&&Array.isArray(A.data.data)&&(M=A.data.data.sort((X,D)=>new Date(D.created_at).getTime()-new Date(X.created_at).getTime())),t(M),n(M)}else t([]),n([]);if(L.success){let M=[];Array.isArray(L.data)?M=L.data:L.data&&typeof L.data=="object"&&"data"in L.data&&Array.isArray(L.data.data)&&(M=L.data.data),l(M)}else l([])}catch(A){console.error("Error fetching data:",A),t([]),n([]),l([])}finally{h(!1)}},_=A=>{b(A),C(!0)},j=()=>{C(!1),b(null)},S=()=>{x()},m=A=>{b(A),d(!0)},w=()=>{d(!1),b(null)},P=()=>{x()},T=async(A,L)=>{if(window.confirm(`Are you sure you want to delete part "${L}"? This action cannot be undone.`))try{(await Z.deletePart(A)).success&&await x()}catch(M){console.error("Error deleting part:",M),alert("Failed to delete part")}};return g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parts"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Manage all parts and their specifications  Total: ",e.length]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Add Part"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ds,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search parts by description, drawing, material, or customer...",value:o,onChange:A=>c(A.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:A=>u(A.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Customers"}),a.map(A=>s.jsx("option",{value:A.id.toString(),children:A.name},A.id))]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>s.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-full p-3",children:s.jsx(_s,{className:"h-6 w-6 text-green-900"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:A.part_description}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",A.id]})]})]}),s.jsx("div",{className:"flex space-x-1",children:s.jsx("button",{onClick:()=>_(A),className:"p-1 text-gray-400 hover:text-blue-900 transition-colors",title:"View Details",children:s.jsx($r,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx($o,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-600",children:A.customer.name})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_s,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Drawing: ",A.drawing_no]})]}),A.rev_no&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(_s,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Rev: ",A.rev_no]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vn,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.created_at).toLocaleDateString()})]}),A.lead_time&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vn,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[A.lead_time," days"]})]})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>m(A),className:"p-1 text-blue-600 hover:text-blue-700 transition-colors",title:"Edit Part",children:s.jsx(cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>T(A.id,A.part_description),className:"p-1 text-red-600 hover:text-red-700 transition-colors",title:"Delete Part",children:s.jsx(Ut,{className:"h-4 w-4"})})]})})]})]})},A.id))}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_s,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No parts found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||i!=="all"?"Try adjusting your search terms":"Get started by adding a new part"})]}),N&&y&&s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:j,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl leading-6 font-medium text-gray-900",children:"Part Details"}),s.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ut,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part Description"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:y.part_description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.drawing_no})]}),y.rev_no&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Revision Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.rev_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.customer.name})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(y.created_at).toLocaleDateString()})]})]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Technical Specifications"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[y.net_wt&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wf,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Net Weight"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.net_wt})]})]}),y.thickness&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Thickness"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.thickness})]}),y.raw_material&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Raw Material"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.raw_material})]}),y.tool_information&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Tool Information"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.tool_information})]}),y.drawing_location&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing Location"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.drawing_location})]}),y.operation_sequence&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Operation Sequence"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.operation_sequence})]}),y.lead_time&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Lead Time"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[y.lead_time," days"]})]})]})]})}),(y.po_no||y.po_date||y.po_qty||y.po_received)&&s.jsx("div",{className:"space-y-4 lg:col-span-2",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Purchase Order Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.po_no&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.po_no})]}),y.po_date&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(y.po_date).toLocaleDateString()})]}),y.po_qty&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.po_qty})]}),y.po_drg_rev&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Drawing Revision"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.po_drg_rev})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Received"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.po_received?"Yes":"No"})]}),y.reqd_date_as_per_po&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Required Date as per PO"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(y.reqd_date_as_per_po).toLocaleDateString()})]})]}),y.acknowledgement_remarks&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Acknowledgement Remarks"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.acknowledgement_remarks})]})]})]})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:j,children:"Close"})})]})]})}),s.jsx(ax,{isOpen:k,onClose:()=>f(!1),onSuccess:S}),p&&s.jsx(lx,{isOpen:p,onClose:w,onSuccess:P,part:y})]})},ix=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=v.useState({customer_id:0,part_id:0,po_no:"",po_date:"",po_received:!1,po_qty:0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",dispatch_details_inv_date:"",dispatch_details_inv_no:"",dispatch_details_inv_qlt:0,balance_qty:0,balance_as_per_hitachi:0,price:"",fg_stock:0,wip_stock:0,comp_name:""}),[l,o]=v.useState([]),[c,i]=v.useState([]),[u,g]=v.useState([]),[h,y]=v.useState(!1),[b,N]=v.useState({});v.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{const[d,x,_]=await Promise.all([ct.getAllCustomers(),Ws.getAllParts(),bt.getAllCompanies()]);d.success&&(Array.isArray(d.data)?o(d.data):d.data&&Array.isArray(d.data.data)&&o(d.data.data)),x.success&&Array.isArray(x.data)&&i(x.data),_.success&&(Array.isArray(_.data)?g(_.data):_.data&&Array.isArray(_.data.data)&&g(_.data.data))}catch(d){console.error("Error fetching data:",d)}},k=d=>{const{name:x,value:_,type:j}=d.target;if(j==="checkbox"){const S=d.target.checked;a(m=>({...m,[x]:S}))}else if(j==="number"){const S=_===""?void 0:Number(_);a(m=>({...m,[x]:S}))}else a(S=>({...S,[x]:_}))},f=()=>{var x,_;const d={};return n.customer_id||(d.customer_id="Customer is required"),n.part_id||(d.part_id="Part is required"),(x=n.po_no)!=null&&x.trim()||(d.po_no="PO number is required"),(!n.po_qty||n.po_qty<=0)&&(d.po_qty="PO quantity must be greater than 0"),(!n.price||parseFloat(n.price)<=0)&&(d.price="Price must be greater than 0"),(_=n.comp_name)!=null&&_.trim()||(d.comp_name="Company name is required"),N(d),Object.keys(d).length===0},p=async d=>{if(d.preventDefault(),!!f()){y(!0);try{const x=await ma.createOrder(n);x.success?(r(),t(),a({customer_id:0,part_id:0,po_no:"",po_date:"",po_received:!1,po_qty:0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",dispatch_details_inv_date:"",dispatch_details_inv_no:"",dispatch_details_inv_qlt:0,balance_qty:0,balance_as_per_hitachi:0,price:"",fg_stock:0,wip_stock:0,comp_name:""})):alert("Failed to create order: "+(x.message||"Unknown error"))}catch(x){console.error("Error creating order:",x),alert("Failed to create order. Please try again.")}finally{y(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:p,className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Order"}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:t,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:n.customer_id||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a customer"}),l.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]}),b.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:n.part_id||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a part"}),c.map(d=>s.jsx("option",{value:d.id,children:d.part_description},d.id))]}),b.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:d=>a(x=>({...x,comp_name:d.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),u.map(d=>s.jsx("option",{value:d.comp_name,children:d.comp_name},d.id))]}),b.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number *"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:n.po_no,onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"}),b.po_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.po_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:n.po_date||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity *"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:n.po_qty||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",min:"1"}),b.po_qty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.po_qty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),s.jsx("input",{type:"number",id:"price",name:"price",value:n.price,onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter unit price",step:"0.01",min:"0"}),b.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.price})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"balance_qty",className:"block text-sm font-medium text-gray-700",children:"Balance Quantity"}),s.jsx("input",{type:"number",id:"balance_qty",name:"balance_qty",value:n.balance_qty||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter balance quantity",min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:n.po_drg_rev,onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:n.reqd_date_as_per_po,onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:n.acknowledgement_remarks,onChange:k,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:n.po_received,onChange:k,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-700",children:"PO Received"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:h,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:h?"Creating...":"Create Order"})]})]})})]})}):null},cx=({isOpen:e,onClose:t,onSuccess:r,order:n})=>{const[a,l]=v.useState({}),[o,c]=v.useState([]),[i,u]=v.useState([]),[g,h]=v.useState([]),[y,b]=v.useState(!1),[N,C]=v.useState({});v.useEffect(()=>{e&&k()},[e]),v.useEffect(()=>{var x,_,j,S,m,w,P,T,A,L,M,X;if(n){const D={customer_id:(x=n.originalOrder)==null?void 0:x.customer_id,part_id:(_=n.originalOrder)==null?void 0:_.part_id,po_no:((j=n.originalOrder)==null?void 0:j.po_no)||"",po_date:(S=n.originalOrder)!=null&&S.po_date?n.originalOrder.po_date.split("T")[0]:"",po_received:((m=n.originalOrder)==null?void 0:m.po_received)||!1,po_qty:(w=n.originalOrder)==null?void 0:w.po_qty,po_drg_rev:((P=n.originalOrder)==null?void 0:P.po_drg_rev)||"",acknowledgement_remarks:((T=n.originalOrder)==null?void 0:T.acknowledgement_remarks)||"",reqd_date_as_per_po:(A=n.originalOrder)!=null&&A.reqd_date_as_per_po?n.originalOrder.reqd_date_as_per_po.split("T")[0]:"",price:((L=n.originalOrder)==null?void 0:L.price)||"",balance_qty:(M=n.originalOrder)==null?void 0:M.balance_qty,comp_name:((X=n.originalOrder)==null?void 0:X.comp_name)||""};console.log("Setting initial form data:",D),l(D)}},[n,e]),v.useEffect(()=>{console.log("Form data changed:",a)},[a]);const k=async()=>{try{const[x,_,j]=await Promise.all([ct.getAllCustomers(),Ws.getAllParts(),bt.getAllCompanies()]);x.success&&(Array.isArray(x.data)?c(x.data):x.data&&Array.isArray(x.data.data)&&c(x.data.data)),_.success&&Array.isArray(_.data)&&u(_.data),j.success&&(Array.isArray(j.data)?h(j.data):j.data&&Array.isArray(j.data.data)&&h(j.data.data))}catch(x){console.error("Error fetching data:",x)}},f=x=>{console.log("=== INPUT CHANGE DETECTED ===");const{name:_,value:j,type:S}=x.target;if(console.log("Input changed:",{name:_,value:j,type:S}),S==="checkbox"){const m=x.target.checked;console.log("Checkbox changed:",{name:_,checked:m}),l(w=>{console.log("Previous form data:",w);const P={...w,[_]:m};return console.log("New form data:",P),P})}else if(S==="number"){const m=j===""?void 0:Number(j);console.log("Number changed:",{name:_,numValue:m}),l(w=>{console.log("Previous form data:",w);const P={...w,[_]:m};return console.log("New form data:",P),P})}else console.log("Text changed:",{name:_,value:j}),l(m=>{console.log("Previous form data:",m);const w={...m,[_]:j};return console.log("New form data:",w),w})},p=()=>{var _,j;const x={};return a.customer_id||(x.customer_id="Customer is required"),a.part_id||(x.part_id="Part is required"),(_=a.po_no)!=null&&_.trim()||(x.po_no="PO number is required"),(!a.po_qty||a.po_qty<=0)&&(x.po_qty="PO quantity must be greater than 0"),(!a.price||parseFloat(a.price)<=0)&&(x.price="Price must be greater than 0"),(j=a.comp_name)!=null&&j.trim()||(x.comp_name="Company name is required"),C(x),Object.keys(x).length===0},d=async x=>{if(x.preventDefault(),!!p()){await new Promise(_=>setTimeout(_,0)),b(!0);try{const _={...a};console.log("Submitting edit with current data:",_);const j=await ma.updateOrder(n.id,_);console.log("Edit response:",j),j.success?(console.log("Edit successful, calling onSuccess"),alert("Order updated successfully"),r(),t()):alert("Failed to update order: "+(j.message||"Unknown error"))}catch(_){console.error("Error updating order:",_),alert("Failed to update order. Please try again.")}finally{b(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:d,className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Edit Order - ",n.orderNumber]}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:t,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:a.customer_id||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a customer"}),o.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]}),N.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:a.part_id||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a part"}),i.map(x=>s.jsx("option",{value:x.id,children:x.part_description},x.id))]}),N.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.part_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number *"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:a.po_no,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"}),N.po_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.po_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:a.po_date,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity *"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:a.po_qty||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",min:"1"}),N.po_qty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.po_qty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),s.jsx("input",{type:"number",id:"price",name:"price",value:a.price,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter unit price",step:"0.01",min:"0"}),N.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.price})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_name",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"comp_name",name:"comp_name",value:a.comp_name||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),g.map(x=>s.jsx("option",{value:x.comp_name,children:x.comp_name},x.id))]}),N.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"balance_qty",className:"block text-sm font-medium text-gray-700",children:"Balance Quantity"}),s.jsx("input",{type:"number",id:"balance_qty",name:"balance_qty",value:a.balance_qty||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter balance quantity",min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:a.po_drg_rev,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:a.reqd_date_as_per_po,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:a.acknowledgement_remarks,onChange:f,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:a.po_received,onChange:f,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-700",children:"PO Received"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:y,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:y?"Updating...":"Update Order"})]})]})})]})}):null},dx=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState("all"),[i,u]=v.useState("all"),[g,h]=v.useState(""),[y,b]=v.useState([]),[N,C]=v.useState(!0),[k,f]=v.useState(null),[p,d]=v.useState(!1),[x,_]=v.useState(!1),[j,S]=v.useState(!1),m=async()=>{C(!0);try{const D=await Z.getOrders();if(console.log("Orders API Response:",D),D.success){let H=[];if(Array.isArray(D.data)?H=D.data.sort((E,$)=>new Date($.created_at).getTime()-new Date(E.created_at).getTime()):D.data&&Array.isArray(D.data.data)&&(H=D.data.data.sort((E,$)=>new Date($.created_at).getTime()-new Date(E.created_at).getTime())),console.log("Orders Data after fetch:",H),console.log("Orders Data length:",H.length),H.length>0){const E=H.map(F=>{var U,Q,ce,I;return console.log("Processing order:",F),{id:F.id.toString(),orderNumber:F.po_no,company:((U=F.customer)==null?void 0:U.name)||"Unknown Customer",status:F.po_received?"completed":"pending",total:parseFloat(F.price)*F.po_qty,createdDate:((Q=F.created_at)==null?void 0:Q.split("T")[0])||"",poQty:F.po_qty,balanceQty:F.balance_qty,price:F.price,fgStock:F.fg_stock,wipStock:F.wip_stock,partDescription:((ce=F.part)==null?void 0:ce.part_description)||"Unknown Part",drawingNo:((I=F.part)==null?void 0:I.drawing_no)||"",reqdDate:F.reqd_date_as_per_po?F.reqd_date_as_per_po.split("T")[0]:"",dispatchDate:F.dispatch_details_inv_date?F.dispatch_details_inv_date.split("T")[0]:"",invNo:F.dispatch_details_inv_no||"",originalOrder:F}});console.log("Mapped Orders:",E),t(E),n(E);const $=Array.from(new Set(H.filter(F=>{var U;return(U=F.customer)==null?void 0:U.name}).map(F=>F.customer.name)));b($)}else console.log("No orders found, setting empty arrays"),t([]),n([]),b([])}else console.log("Invalid response structure:",D),t([]),n([]),b([])}catch(D){console.error("Error fetching orders:",D),t([]),n([]),b([])}finally{C(!1)}};v.useEffect(()=>{m()},[]),v.useEffect(()=>{let D=e;a&&(D=D.filter(H=>H.orderNumber.toLowerCase().includes(a.toLowerCase())||H.company.toLowerCase().includes(a.toLowerCase())||H.status.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(D=D.filter(H=>H.company===o)),i!=="all"&&(D=D.filter(H=>H.status===i)),g&&(D=D.filter(H=>H.createdDate===g)),n(D)},[e,a,o,i,g]);const w=D=>{const H=e.find(E=>E.id===D);H&&(f(H),d(!0))},P=()=>{console.log("Add Order button clicked"),alert("Add Order button clicked!"),_(!0),console.log("showAddModal set to true")},T=D=>{f(D),S(!0)},A=async(D,H)=>{if(window.confirm(`Are you sure you want to delete order "${H}"? This action cannot be undone.`))try{const E=await Z.deleteOrder(parseInt(D));E.success?(alert("Order deleted successfully"),await m()):alert("Failed to delete order: "+(E.message||"Unknown error"))}catch(E){console.error("Error deleting order:",E),alert("Failed to delete order. Please try again.")}},L=()=>{d(!1),_(!1),S(!1),f(null)},M=()=>{m(),_(!1)},X=()=>{console.log("handleEditSuccess called"),console.log("Immediately calling fetchOrders"),m(),S(!1),f(null)};return N?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Orders"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["View all orders across all companies in the system  Total: ",e.length]})]}),s.jsxs("button",{onClick:P,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",style:{zIndex:50,position:"relative"},"data-testid":"add-order-button",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Add Order"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ds,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search orders...",value:a,onChange:D=>l(D.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:D=>c(D.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"},"all"),y.map(D=>s.jsx("option",{value:D,children:D},D))]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:D=>u(D.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"},"all"),s.jsx("option",{value:"pending",children:"Pending"},"pending"),s.jsx("option",{value:"processing",children:"Processing"},"processing"),s.jsx("option",{value:"completed",children:"Completed"},"completed"),s.jsx("option",{value:"cancelled",children:"Cancelled"},"cancelled")]})}),s.jsx("div",{children:s.jsx("input",{type:"date",value:g,onChange:D=>h(D.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drawing No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Qty"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance Qty"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"FG Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WIP Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dispatch Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.orderNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.company}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:D.partDescription}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.drawingNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.poQty}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.balanceQty}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",parseFloat(D.price).toFixed(2)]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",D.total.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.fgStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.wipStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.reqdDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.dispatchDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.invNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.status==="completed"?"bg-green-100 text-green-800":D.status==="processing"?"bg-yellow-100 text-yellow-800":D.status==="pending"?"bg-blue-200 text-blue-900":"bg-red-100 text-red-800"}`,children:D.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>T(D),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Order",children:s.jsx(cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(D.id,D.orderNumber),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Order",children:s.jsx(Ut,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>w(D.id),className:"text-blue-900 hover:text-blue-800 p-1",title:"View Order",children:s.jsx($r,{className:"h-4 w-4"})})]})})]},D.id))})]})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No orders found matching your criteria."})})]}),p&&k&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:L,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Order Details"}),s.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.orderNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.company})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part Description"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.partDescription})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing No"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.drawingNo})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.poQty})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Balance Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.balanceQty})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Unit Price"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",parseFloat(k.price).toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",k.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.status==="completed"?"bg-green-100 text-green-800":k.status==="processing"?"bg-yellow-100 text-yellow-800":k.status==="pending"?"bg-blue-200 text-blue-900":"bg-red-100 text-red-800"}`,children:k.status})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"FG Stock"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.fgStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"WIP Stock"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.wipStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(k.createdDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Required Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.reqdDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Dispatch Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.dispatchDate}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["",Math.floor(k.total*.9).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tax (10%)"}),s.jsxs("span",{children:["",Math.floor(k.total*.1).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",k.total.toLocaleString()]})]})]})]})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:L,children:"Close"})})]})]})}),console.log("Rendering AddOrderModal, showAddModal:",x),x&&s.jsx(ix,{isOpen:x,onClose:()=>_(!1),onSuccess:M}),j&&k&&s.jsx(cx,{isOpen:j,onClose:()=>{S(!1),f(null)},onSuccess:X,order:k})]})},ux=({isOpen:e,onClose:t,onSuccess:r})=>{var S;const[n,a]=v.useState({challan_no:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),[l,o]=v.useState([]),[c,i]=v.useState([]),[u,g]=v.useState([]),[h,y]=v.useState(!1),[b,N]=v.useState({});v.useEffect(()=>{if(e){const m=new Date,w=m.getFullYear(),P=String(m.getMonth()+1).padStart(2,"0"),T=String(m.getDate()).padStart(2,"0"),A=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),L=`DC-${w}${P}${T}-${A}`;a(M=>({...M,challan_no:L,challan_date:m.toISOString().split("T")[0],from:"Eskay Engichem Pvt Ltd"})),N({}),C(),k(),f()}},[e]);const C=async()=>{try{const m=await bt.getAllCompanies();if(m.success){let w=[];Array.isArray(m.data)?w=m.data:m.data.data&&Array.isArray(m.data.data)&&(w=m.data.data),o(w),console.log("Companies loaded for dropdown:",w.length,w),console.log("Sample company structure:",w[0])}}catch(m){console.error("Error fetching companies:",m)}},k=async()=>{try{const m=await Z.getParts();if(m.success){let w=[];Array.isArray(m.data)?w=m.data:m.data.data&&Array.isArray(m.data.data)&&(w=m.data.data),i(w),console.log("Parts loaded for dropdown:",w.length,w),console.log("Sample part structure:",w[0])}}catch(m){console.error("Error fetching parts:",m)}},f=async()=>{try{const m=await ct.getAllCustomers();if(m.success){let w=[];Array.isArray(m.data)?w=m.data:m.data.data&&Array.isArray(m.data.data)&&(w=m.data.data),g(w),console.log("Customers loaded for dropdown:",w.length,w)}}catch(m){console.error("Error fetching customers:",m)}},p=m=>{if(!m)return"";const w=new Date(m);return isNaN(w.getTime())?"":w.toISOString().split("T")[0]},d=m=>{const{name:w,value:P,type:T}=m.target;let A=P;w==="quantity"&&T==="number"?A=P===""?0:Number(P):w==="customer_id"&&(A=P===""?null:Number(P)),a(L=>({...L,[w]:A})),b[w]&&N(L=>({...L,[w]:""}))},x=()=>{const m={};return n.challan_no.trim()||(m.challan_no="Challan number is required"),n.to.trim()||(m.to="Company/Recipient is required"),n.from.trim()||(m.from="From location is required"),n.part_id||(m.part_id="Part selection is required"),n.customer_id||(m.customer_id="Customer selection is required"),n.part_no.trim()||(m.part_no="Part number is required"),n.part_description.trim()||(m.part_description="Part description is required"),(!n.quantity||typeof n.quantity!="number"||n.quantity<=0)&&(m.quantity="Quantity must be greater than 0"),n.unit_rate.trim()||(m.unit_rate="Unit rate is required"),n.total.trim()||(m.total="Total is required"),N(m),Object.keys(m).length===0},_=async m=>{if(m.preventDefault(),!x())return;const w={...n,part_id:n.part_id&&n.part_id>0?n.part_id:null,customer_id:n.customer_id&&n.customer_id>0?n.customer_id:null},P=c.find(T=>T.id===n.part_id);console.log("Selected Part:",P),console.log("Selected Customer ID:",n.customer_id),console.log("Part Customer ID:",P==null?void 0:P.customer_id),console.log("Submit Data:",w),y(!0);try{console.log("Submitting delivery challan data:",w);const T=await Z.createDeliveryChallan(w);console.log("Create delivery challan response:",T),r(),t()}catch(T){console.error("Error creating delivery challan:",T)}finally{y(!1)}},j=()=>{a({challan_no:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),N({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:j,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create New Delivery Challan"}),s.jsx("button",{type:"button",onClick:j,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:h,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_no",className:"block text-sm font-medium text-gray-700",children:"Challan Number *"}),s.jsx("input",{type:"text",id:"challan_no",name:"challan_no",value:n.challan_no,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.challan_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter challan number",disabled:h}),b.challan_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.challan_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700",children:"Company/Recipient *"}),s.jsxs("select",{id:"to",name:"to",value:n.to,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.to?"border-red-300":"border-gray-300"}`,disabled:h,children:[s.jsx("option",{value:"",children:"Select company"}),l.map(m=>s.jsx("option",{value:m.name||m.company_name,children:m.name||m.company_name},m.id))]}),b.to&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.to})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:n.part_id||"",onChange:m=>{const w=m.target.value?Number(m.target.value):null,P=c.find(T=>T.id===w);a(T=>({...T,part_id:w,part_no:(P==null?void 0:P.part_no)||"",part_description:(P==null?void 0:P.part_description)||"",hsn_code:(P==null?void 0:P.hsn_code)||""}))},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.part_id?"border-red-300":"border-gray-300"}`,disabled:h,children:[s.jsx("option",{value:"",children:"Select part"}),c.filter(m=>!n.customer_id||m.customer_id===n.customer_id).map(m=>s.jsxs("option",{value:m.id,children:[m.part_no," - ",m.part_description]},m.id))]}),b.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_no",className:"block text-sm font-medium text-gray-700",children:"Part Number *"}),s.jsx("input",{type:"text",id:"part_no",name:"part_no",value:n.part_no,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.part_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter part number",disabled:h}),b.part_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_no})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700",children:"From *"}),s.jsx("input",{type:"text",id:"from",name:"from",value:n.from,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.from?"border-red-300":"border-gray-300"}`,placeholder:"Enter from location",disabled:h}),b.from&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.from})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:n.part_description,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:h}),b.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:((S=n.customer_id)==null?void 0:S.toString())||"",onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.customer_id?"border-red-300":"border-gray-300"}`,disabled:h,children:[s.jsx("option",{value:"",children:"Select customer"}),u.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]}),b.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hsn_code",className:"block text-sm font-medium text-gray-700",children:"HSN Code"}),s.jsx("input",{type:"text",id:"hsn_code",name:"hsn_code",value:n.hsn_code,onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter HSN code",disabled:h})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",value:n.quantity,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Enter quantity",min:"1",disabled:h}),b.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit_rate",className:"block text-sm font-medium text-gray-700",children:"Unit Rate *"}),s.jsx("input",{type:"text",id:"unit_rate",name:"unit_rate",value:n.unit_rate,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.unit_rate?"border-red-300":"border-gray-300"}`,placeholder:"Enter unit rate",disabled:h}),b.unit_rate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.unit_rate})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700",children:"Total Amount *"}),s.jsx("input",{type:"text",id:"total",name:"total",value:n.total,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.total?"border-red-300":"border-gray-300"}`,placeholder:"Enter total amount",disabled:h}),b.total&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.total})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_date",className:"block text-sm font-medium text-gray-700",children:"Challan Date"}),s.jsx("input",{type:"date",id:"challan_date",name:"challan_date",value:p(n.challan_date),onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:h})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signature",className:"block text-sm font-medium text-gray-700",children:"Authorized Signature"}),s.jsx("input",{type:"text",id:"signature",name:"signature",value:n.signature||"",onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter authorized signature",disabled:h})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",value:n.notes||"",onChange:d,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter any additional notes",disabled:h})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Delivery Instructions"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Ensure all items are properly packed"}),s.jsx("li",{children:" Verify order quantities before dispatch"}),s.jsx("li",{children:" Get signature from recipient upon delivery"}),s.jsx("li",{children:' Update status to "delivered" after completion'})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:h,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Creating...":"Create Challan"}),s.jsx("button",{type:"button",onClick:j,disabled:h,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})}):null},mx=({isOpen:e,onClose:t,onSuccess:r,challan:n})=>{var m;const a=w=>{if(!w)return"";const P=new Date(w);return isNaN(P.getTime())?"":P.toISOString().split("T")[0]},[l,o]=v.useState({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null,status:"pending"}),[c,i]=v.useState([]),[u,g]=v.useState([]),[h,y]=v.useState([]),[b,N]=v.useState(!1),[C,k]=v.useState({});v.useEffect(()=>{var w,P;n&&e&&(console.log("Prefilling form with challan data:",n),o({challan_no:n.challan_no||n.challanNumber||"",comp_name:n.comp_name||n.company||n.company||"",customer_id:n.customer_id||((w=n.customer)==null?void 0:w.id)||null,challan_date:n.challan_date||n.createdDate||"",to:n.to||n.comp_name||n.company||"",from:n.from||"",part_id:n.part_id||((P=n.part)==null?void 0:P.id)||null,part_no:n.part_no||n.orderId||"",part_description:n.partDescription||"",hsn_code:n.hsn_code||n.hsnCode||"",quantity:n.quantity||1,unit_rate:n.unit_rate||n.unitRate||"0.00",total:n.total||"0.00",notes:n.notes||null,signature:n.signature||null,status:n.status||"pending"}),k({}),f(),p(),d())},[n,e]);const f=async()=>{try{const w=await ct.getAllCustomers();if(w.success){let P=[];Array.isArray(w.data)?P=w.data:w.data.data&&Array.isArray(w.data.data)&&(P=w.data.data),i(P),console.log("Companies loaded for dropdown:",P.length,P)}}catch(w){console.error("Error fetching companies:",w)}},p=async()=>{try{const w=await Ws.getAllParts();if(w.success&&w.data){const P=Array.isArray(w.data)?w.data:[];g(P),console.log("Parts loaded for dropdown:",P.length,P)}}catch(w){console.error("Error fetching parts:",w)}},d=async()=>{try{const w=await ct.getAllCustomers();if(w.success){let P=[];Array.isArray(w.data)?P=w.data:w.data.data&&Array.isArray(w.data.data)&&(P=w.data.data),y(P),console.log("Customers loaded for dropdown:",P.length,P)}}catch(w){console.error("Error fetching customers:",w)}},x=w=>{const{name:P,value:T}=w.target;o(A=>({...A,[P]:T})),C[P]&&k(A=>({...A,[P]:void 0}))},_=()=>{var P,T,A,L,M,X,D,H,E,$,F,U,Q;const w={};return(P=l.challan_no)!=null&&P.trim()||(w.challan_no="Challan number is required"),(T=l.comp_name)!=null&&T.trim()||(w.comp_name="Company is required"),l.customer_id||(w.customer_id="Customer is required"),(A=l.challan_date)!=null&&A.trim()||(w.challan_date="Delivery date is required"),(L=l.to)!=null&&L.trim()||(w.to="To field is required"),(M=l.from)!=null&&M.trim()||(w.from="From field is required"),l.part_id||(w.part_id="Part is required"),(X=l.part_no)!=null&&X.trim()||(w.part_no="Part number is required"),(D=l.part_description)!=null&&D.trim()||(w.part_description="Part description is required"),(H=l.hsn_code)!=null&&H.trim()||(w.hsn_code="HSN code is required"),(!l.quantity||l.quantity<=0)&&(w.quantity="Quantity must be greater than 0"),(E=l.unit_rate)!=null&&E.trim()||(w.unit_rate="Unit rate is required"),($=l.total)!=null&&$.trim()||(w.total="Total is required"),(F=l.challan_date)!=null&&F.trim()||(w.challan_date="Challan date is required"),(U=l.signature)!=null&&U.trim()||(w.signature="Signature is required"),(Q=l.notes)!=null&&Q.trim()||(w.notes="Notes are required"),l.status||(w.status="Status is required"),k(w),Object.keys(w).length===0},j=async w=>{if(w.preventDefault(),console.log("Form data being submitted:",l),console.log("Challan ID:",n==null?void 0:n.id,"Type:",typeof(n==null?void 0:n.id)),!_()||!n)return;const P={...l,part_id:l.part_id&&l.part_id>0?l.part_id:null,customer_id:l.customer_id&&l.customer_id>0?l.customer_id:null};console.log("Processed submit data:",P),N(!0);try{const T=parseInt((n==null?void 0:n.id)||"0");console.log("Parsed challan ID:",T);const A=await Z.updateDeliveryChallan(T,P);console.log("Raw API Response:",A),console.log("Response type:",typeof A),console.log("Response success:",A==null?void 0:A.success),console.log("Response data:",A==null?void 0:A.data),console.log("Response message:",A==null?void 0:A.message);const L=!!(A!=null&&A.success),M=(A==null?void 0:A.message)||"Update completed";console.log("Is success:",L),console.log("Final message:",M),L?(console.log("Update successful, calling onSuccess and closing modal"),r(),S()):(console.error("API Error Response:",A),alert(`Failed to update delivery challan: ${M}`))}catch(T){console.error("Error updating delivery challan:",T),alert("Failed to update delivery challan: "+T.message)}finally{N(!1)}},S=()=>{o({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),k({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:S,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Delivery Challan"}),s.jsx("button",{type:"button",onClick:S,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:b,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_no",className:"block text-sm font-medium text-gray-700",children:"Challan Number *"}),s.jsx("input",{type:"text",id:"challan_no",name:"challan_no",value:l.challan_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.challan_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter challan number",disabled:b}),C.challan_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.challan_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700",children:"Company/Recipient *"}),s.jsxs("select",{id:"to",name:"to",value:l.to,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.to?"border-red-300":"border-gray-300"}`,disabled:b,children:[s.jsx("option",{value:"",children:"Select company"}),c.map(w=>s.jsx("option",{value:w.company_name||w.comp_name||w.name,children:w.company_name||w.comp_name||w.name},w.id))]}),C.to&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.to})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:l.part_id||"",onChange:w=>{const P=w.target.value?Number(w.target.value):null,T=u.find(A=>A.id===P);o(A=>({...A,part_id:P,part_no:(T==null?void 0:T.part_no)||"",part_description:(T==null?void 0:T.part_description)||"",hsn_code:(T==null?void 0:T.hsn_code)||""}))},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.part_id?"border-red-300":"border-gray-300"}`,disabled:b,children:[s.jsx("option",{value:"",children:"Select part"}),u.map(w=>s.jsxs("option",{value:w.id,children:[w.part_no," - ",w.part_description]},w.id))]}),C.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_no",className:"block text-sm font-medium text-gray-700",children:"Part Number *"}),s.jsx("input",{type:"text",id:"part_no",name:"part_no",value:l.part_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.part_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter part number",disabled:b}),C.part_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.part_no})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700",children:"From *"}),s.jsx("input",{type:"text",id:"from",name:"from",value:l.from,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.from?"border-red-300":"border-gray-300"}`,placeholder:"Enter from location",disabled:b}),C.from&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.from})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:l.part_description,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:b}),C.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:((m=l.customer_id)==null?void 0:m.toString())||"",onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.customer_id?"border-red-300":"border-gray-300"}`,disabled:b,children:[s.jsx("option",{value:"",children:"Select customer"}),h.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]}),C.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hsn_code",className:"block text-sm font-medium text-gray-700",children:"HSN Code *"}),s.jsx("input",{type:"text",id:"hsn_code",name:"hsn_code",value:l.hsn_code,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter HSN code",disabled:b})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",value:l.quantity,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Enter quantity",min:"1",disabled:b}),C.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit_rate",className:"block text-sm font-medium text-gray-700",children:"Unit Rate *"}),s.jsx("input",{type:"text",id:"unit_rate",name:"unit_rate",value:l.unit_rate,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.unit_rate?"border-red-300":"border-gray-300"}`,placeholder:"Enter unit rate",disabled:b}),C.unit_rate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.unit_rate})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700",children:"Total Amount *"}),s.jsx("input",{type:"text",id:"total",name:"total",value:l.total,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.total?"border-red-300":"border-gray-300"}`,placeholder:"Enter total amount",disabled:b}),C.total&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.total})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status *"}),s.jsxs("select",{id:"status",name:"status",value:l.status,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.status?"border-red-300":"border-gray-300"}`,disabled:b,children:[s.jsx("option",{value:"",children:"Select status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),C.status&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.status})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_date",className:"block text-sm font-medium text-gray-700",children:"Challan Date"}),s.jsx("input",{type:"date",id:"challan_date",name:"challan_date",value:a(l.challan_date),onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:b})]})})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:b,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Updating...":"Update Challan"}),s.jsx("button",{type:"button",onClick:S,disabled:b,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},px=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState("all"),[i,u]=v.useState("all"),[g,h]=v.useState([]),[y,b]=v.useState(!0),[N,C]=v.useState(null),[k,f]=v.useState(!1),[p,d]=v.useState(!1),[x,_]=v.useState(!1),[j,S]=v.useState(1),[m,w]=v.useState(1),[P,T]=v.useState(0),[A]=v.useState(10),L=async(I=1)=>{b(!0);try{const B=await Z.getDeliveryChallans(I);if(console.log("Delivery Challans API Response:",B),B.success&&B.data){let J=[];if(Array.isArray(B.data)?J=B.data.map(q=>{var ue;return{id:q.id.toString(),challanNumber:q.challan_no,company:q.comp_name||q.to||"",orderId:q.part_no,status:q.status||"pending",createdDate:q.created_at,deliveryDate:q.challan_date,driverName:q.signature||"",driverContactNumber:"",notes:q.notes||"",customerName:((ue=q.customer)==null?void 0:ue.name)||"",partDescription:q.part_description||"",quantity:q.quantity||0,unitRate:q.unit_rate||"0.00",total:q.total||"0.00"}}):B.data.data&&Array.isArray(B.data.data)&&(J=B.data.data.map(q=>{var ue;return{id:q.id.toString(),challanNumber:q.challan_no,company:q.comp_name||q.to||"",orderId:q.part_no,status:q.status||"pending",createdDate:q.created_at,deliveryDate:q.challan_date,driverName:q.signature||"",driverContactNumber:"",notes:q.notes||"",customerName:((ue=q.customer)==null?void 0:ue.name)||"",partDescription:q.part_description||"",quantity:q.quantity||0,unitRate:q.unit_rate||"0.00",total:q.total||"0.00"}})),t(J),J.sort((q,ue)=>{const G=new Date(q.createdDate);return new Date(ue.createdDate).getTime()-G.getTime()}),n(J),B.pagination)S(B.pagination.current_page),w(B.pagination.last_page),T(B.pagination.total);else{const q=J.length,ue=Math.ceil(q/A);S(I),w(ue),T(q)}const ke=Array.from(new Set(J.filter(q=>q&&q.company).map(q=>q.company)));h(ke)}else t([]),n([]),h([]),S(1),w(1),T(0)}catch(B){console.error("Error fetching delivery challans:",B),t([]),n([]),h([]),S(1),w(1),T(0)}finally{b(!1)}};v.useEffect(()=>{L()},[]);const M=()=>{if(P>0&&m>1)return r;const I=(j-1)*A,B=I+A;return r.slice(I,B)},X=I=>{I>=1&&I<=m&&(S(I),L(I))};v.useEffect(()=>{let I=e;a&&(I=I.filter(B=>B.challanNumber.toLowerCase().includes(a.toLowerCase())||B.orderId.toLowerCase().includes(a.toLowerCase())||B.company.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(I=I.filter(B=>B.company===o)),i!=="all"&&(I=I.filter(B=>B.status===i)),I.sort((B,J)=>{const ke=new Date(B.createdDate);return new Date(J.createdDate).getTime()-ke.getTime()}),n(I),S(1)},[e,a,o,i]);const D=I=>{const B=e.find(J=>J.id===I);B&&(C(B),f(!0))},H=()=>{f(!1),C(null)},E=()=>{L()},$=I=>{C(I),_(!0)},F=()=>{_(!1),C(null)},U=()=>{L()},Q=async(I,B)=>{if(window.confirm(`Are you sure you want to delete delivery challan "${B}"? This action cannot be undone.`))try{const J=await Z.deleteDeliveryChallan(parseInt(I));J.success?(alert("Delivery challan deleted successfully"),L()):alert("Failed to delete delivery challan: "+(J.message||"Unknown error"))}catch(J){console.error("Error deleting delivery challan:",J),alert("Failed to delete delivery challan. Please try again.")}},ce=I=>{switch(I){case"delivered":return s.jsx(Vs,{className:"w-4 h-4 text-green-600"});case"in_transit":return s.jsx(Bf,{className:"w-4 h-4 text-blue-900"});case"pending":return s.jsx(Of,{className:"w-4 h-4 text-yellow-600"});case"cancelled":return s.jsx(Du,{className:"w-4 h-4 text-red-600"});default:return null}};return y?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Delivery Challans"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["View all delivery challans across all companies in system  Total: ",P||e.length]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Add Delivery Challan"]})})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ds,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search challans...",value:a,onChange:I=>l(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:I=>c(I.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"}),g.map(I=>s.jsx("option",{value:I,children:I},I))]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:I=>u(I.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M().filter(I=>I).map(I=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:I.challanNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.company}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.orderId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="delivered"?"bg-green-100 text-green-800":I.status==="in_transit"?"bg-blue-200 text-blue-900":I.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[ce(I.status),s.jsx("span",{className:"ml-1",children:I.status?I.status.replace("_"," "):"Unknown"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(I.createdDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.deliveryDate?new Date(I.deliveryDate).toLocaleDateString():"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>D(I.id),className:"text-blue-900 hover:text-blue-800 p-1 mr-1",title:"View Challan",children:s.jsx($r,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>$(I),className:"text-blue-600 hover:text-blue-700 p-1 mr-1",title:"Edit Challan",children:s.jsx(cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Q(I.id,I.challanNumber),className:"text-red-600 hover:text-red-700 p-1",title:"Delete Challan",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]},I.id))})]})}),m>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>X(j-1),disabled:j===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>X(j+1),disabled:j===m,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(j-1)*A+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(j*A,r.length)})," ","of ",s.jsx("span",{className:"font-medium",children:r.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>X(j-1),disabled:j===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:m},(I,B)=>B+1).map(I=>s.jsx("button",{onClick:()=>X(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${j===I?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I},I)),s.jsxs("button",{onClick:()=>X(j+1),disabled:j===m,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]}),M().length===0&&r.length>0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No delivery challans found on this page."})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No delivery challans found matching your criteria."})})]}),k&&N&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:H,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delivery Challan Details"}),s.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Challan Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:N.challanNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Order ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:N.orderId})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Company"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:N.company})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status==="delivered"?"bg-green-100 text-green-800":N.status==="in_transit"?"bg-blue-200 text-blue-900":N.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[ce(N.status),s.jsx("span",{className:"ml-1",children:N.status.replace("_"," ")})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(N.createdDate).toLocaleDateString()})]})]}),N.deliveryDate&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Delivery Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(N.deliveryDate).toLocaleDateString()})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Additional Information"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Tracking:"})," Available in system"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Documents:"})," Invoice attached"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priority:"})," Normal"]})]})]})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:H,children:"Close"})})]})]})}),s.jsx(ux,{isOpen:p,onClose:()=>d(!1),onSuccess:E}),x&&s.jsx(mx,{isOpen:x,onClose:F,onSuccess:U,challan:N})]})},hx=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(!0),[a,l]=v.useState("30d"),[o,c]=v.useState(null),[i,u]=v.useState(!1);v.useEffect(()=>{g()},[a]);const g=async()=>{var k,f,p,d,x,_;try{n(!0),c(null);const[j,S,m,w,P,T]=await Promise.all([Z.getCompanies(),ma.getAllOrders(),Z.getDeliveryChallans(),ct.getAllCustomers(),Ru.getAllAdmins(),Z.getParts()]),A=j!=null&&j.success?Array.isArray(j.data)?j.data:((k=j.data)==null?void 0:k.data)||[]:[],L=S!=null&&S.success?Array.isArray(S.data)?S.data:((f=S.data)==null?void 0:f.data)||[]:[],M=m!=null&&m.success?Array.isArray(m.data)?m.data:((p=m.data)==null?void 0:p.data)||[]:[],X=w!=null&&w.success?Array.isArray(w.data)?w.data:((d=w.data)==null?void 0:d.data)||[]:[],D=P!=null&&P.success?Array.isArray(P.data)?P.data:((x=P.data)==null?void 0:x.data)||[]:[],H=T!=null&&T.success?Array.isArray(T.data)?T.data:((_=T.data)==null?void 0:_.data)||[]:[],E=L.reduce((G,me)=>G+parseFloat(me.price||"0"),0),$=L.length,F=A.length,U=M.length,Q=X.length,ce=D.length,I=H.length,B=h(L),J=y(L,A),ke=L.sort((G,me)=>new Date(me.created_at).getTime()-new Date(G.created_at).getTime()).slice(0,5).map(G=>{var me;return{id:G.id,po_no:G.po_no,customer:((me=G.customer)==null?void 0:me.name)||G.comp_name||"Unknown",amount:parseFloat(G.price||"0"),status:G.po_received?"Received":"Pending",created_at:G.created_at}}),q={pending:L.filter(G=>!G.po_received).length,processing:L.filter(G=>G.po_received&&G.balance_qty>0).length,completed:L.filter(G=>G.balance_qty===0).length,cancelled:0};t({totalRevenue:E,totalOrders:$,totalCompanies:F,totalChallans:U,totalCustomers:Q,totalAdmins:ce,totalParts:I,monthlyRevenue:B,companyPerformance:J,recentOrders:ke,statusBreakdown:q})}catch(j){console.error("Error fetching report data:",j),c("Failed to load report data. Please try again.")}finally{n(!1)}},h=k=>{const f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return new Date().getMonth(),f.map((d,x)=>{const j=k.filter(S=>new Date(S.created_at).getMonth()===x).reduce((S,m)=>S+parseFloat(m.price||"0"),0);return{month:d,amount:j}}).slice(-6)},y=(k,f)=>{const p=new Map;return k.forEach(d=>{var j;const x=d.comp_name||((j=d.customer)==null?void 0:j.name)||"Unknown",_=p.get(x)||{orders:0,revenue:0};_.orders++,_.revenue+=parseFloat(d.price||"0"),p.set(x,_)}),Array.from(p.entries()).map(([d,x])=>({company:d,...x})).sort((d,x)=>x.revenue-d.revenue).slice(0,5)},b=async()=>{try{u(!0);const k=N(),f=new Blob([k],{type:"text/csv"}),p=window.URL.createObjectURL(f),d=document.createElement("a");d.href=p,d.download=`reports-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(p)}catch(k){console.error("Error exporting data:",k),alert("Failed to export data")}finally{u(!1)}},N=()=>{if(!e)return"";const k=["Metric","Value"],f=[["Total Revenue",e.totalRevenue.toString()],["Total Orders",e.totalOrders.toString()],["Total Companies",e.totalCompanies.toString()],["Total Customers",e.totalCustomers.toString()],["Total Admins",e.totalAdmins.toString()],["Total Parts",e.totalParts.toString()],["Total Delivery Challans",e.totalChallans.toString()]];return[k,...f].map(p=>p.join(",")).join(`
`)};if(r)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})});if(o)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-500 mb-4",children:o}),s.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-900 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Retry"})]});if(!e)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Unable to load report data."})});const C=Math.max(...e.monthlyRevenue.map(k=>k.amount));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"System analytics and performance metrics"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:b,disabled:i,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Ff,{className:"h-4 w-4"}),s.jsx("span",{children:i?"Exporting...":"Export"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:a,onChange:k=>l(k.target.value),className:"block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"}),s.jsx("option",{value:"1y",children:"Last year"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-green-100 rounded-md",children:s.jsx(Ou,{className:"h-6 w-6 text-green-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),s.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["",e.totalRevenue.toLocaleString()]})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-blue-200 rounded-md",children:s.jsx(hr,{className:"h-6 w-6 text-blue-900"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalOrders.toLocaleString()})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-purple-100 rounded-md",children:s.jsx(it,{className:"h-6 w-6 text-purple-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Companies"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalCompanies})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-orange-100 rounded-md",children:s.jsx(ot,{className:"h-6 w-6 text-orange-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Challans"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalChallans})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-teal-100 rounded-md",children:s.jsx(it,{className:"h-6 w-6 text-teal-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Customers"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalCustomers})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-indigo-100 rounded-md",children:s.jsx(Mo,{className:"h-6 w-6 text-indigo-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Parts"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalParts})]})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Revenue"}),s.jsx("div",{className:"space-y-3",children:e.monthlyRevenue.map(k=>{const f=k.amount/C*100;return s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 text-sm font-medium text-gray-500",children:k.month}),s.jsx("div",{className:"flex-1 mx-4",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:s.jsx("div",{className:"bg-blue-900 h-4 rounded-full transition-all duration-300",style:{width:`${f}%`}})})}),s.jsxs("div",{className:"w-20 text-sm font-medium text-gray-900 text-right",children:["",k.amount.toLocaleString()]})]},k.month)})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Companies"}),s.jsx("div",{className:"space-y-4",children:e.companyPerformance.map((k,f)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["#",f+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.company}),s.jsxs("p",{className:"text-xs text-gray-500",children:[k.orders," orders"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",k.revenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500",children:"revenue"})]})]},k.company))})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Orders"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.recentOrders.map(k=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.po_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.customer}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",k.amount.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.status==="Received"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:k.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString()})]},k.id))})]})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Status Breakdown"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.statusBreakdown.pending}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.statusBreakdown.processing}),s.jsx("div",{className:"text-sm text-gray-500",children:"Processing"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.statusBreakdown.completed}),s.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.statusBreakdown.cancelled}),s.jsx("div",{className:"text-sm text-gray-500",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(e.totalOrders/e.totalCompanies*10)/10}),s.jsx("div",{className:"text-sm text-gray-500",children:"Avg Orders per Company"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["",Math.round(e.totalRevenue/e.totalOrders)]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Avg Order Value"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(e.totalChallans/e.totalOrders*100),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Delivery Rate"})]})]})]})]})},fx=()=>{const[e,t]=v.useState("roles"),[r,n]=v.useState(!1),a=[{id:"1",name:"Super Admin",description:"Full system access",permissions:["all"],userCount:1},{id:"2",name:"Company Admin",description:"Manage company operations",permissions:["manage_company","view_reports","manage_users"],userCount:45},{id:"3",name:"Viewer",description:"Read-only access",permissions:["view"],userCount:23}],l=[{id:"1",user:"Super Admin",action:"Login",resource:"System",timestamp:"2024-01-28T10:30:00Z",ipAddress:"192.168.1.100",status:"success"},{id:"2",user:"john@techcorp.com",action:"Create Company",resource:"Companies",timestamp:"2024-01-27T14:15:00Z",ipAddress:"10.0.0.50",status:"success"},{id:"3",user:"admin@globaltech.com",action:"Failed Login",resource:"Authentication",timestamp:"2024-01-26T09:45:00Z",ipAddress:"203.0.113.1",status:"failed"}],o=[{id:"manage_company",label:"Manage Company",description:"Create, edit, and delete companies"},{id:"manage_users",label:"Manage Users",description:"Add, edit, and remove users"},{id:"view_reports",label:"View Reports",description:"Access system reports and analytics"},{id:"manage_orders",label:"Manage Orders",description:"Process and manage orders"},{id:"manage_challans",label:"Manage Delivery Challans",description:"Handle delivery documentation"},{id:"system_settings",label:"System Settings",description:"Modify system configuration"}],c=[{id:"roles",label:"Roles",icon:it},{id:"permissions",label:"Permissions",icon:Hn},{id:"audit-logs",label:"Audit Logs",icon:ot},{id:"security",label:"Security",icon:Il}],i=()=>{n(!0)},u=h=>{console.log("Edit role:",h)},g=h=>{console.log("Delete role:",h)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage system roles, permissions, and security settings"})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:c.map(h=>{const y=h.icon;return s.jsxs("button",{onClick:()=>t(h.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${e===h.id?"border-blue-900 text-blue-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),h.label]},h.id)})})}),s.jsxs("div",{className:"p-6",children:[e==="roles"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"User Roles"}),s.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800",children:[s.jsx(Vf,{className:"h-4 w-4 mr-2"}),"Add Role"]})]}),s.jsx("div",{className:"space-y-4",children:a.map(h=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:h.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.description}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[h.userCount," users assigned"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[h.permissions.length," permissions"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>u(h.id),className:"p-2 text-gray-400 hover:text-blue-900",title:"Edit Role",children:s.jsx(cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(h.id),className:"p-2 text-gray-400 hover:text-red-600",title:"Delete Role",disabled:h.name==="Super Admin",children:s.jsx(Ut,{className:"h-4 w-4"})})]})]})},h.id))})]}),e==="permissions"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"System Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(h=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Hn,{className:"h-5 w-5 text-blue-900"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:h.label}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.description})]})]})},h.id))})]}),e==="audit-logs"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Audit Logs"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(h=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h.user}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.action}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.resource}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.timestamp).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h.ipAddress}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[h.status==="success"?s.jsx(Vs,{className:"w-4 h-4 mr-1"}):s.jsx(zo,{className:"w-4 h-4 mr-1"}),h.status]})})]},h.id))})]})})]}),e==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Df,{className:"h-5 w-5 text-yellow-400"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Password Policy"}),s.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:"Enforce strong passwords with minimum 8 characters, uppercase, lowercase, and numbers."})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Security Options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Require 2FA for all admin accounts"})]}),s.jsx("button",{className:"bg-blue-900 text-white px-3 py-1 rounded text-sm",children:"Enable"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Session Timeout"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Auto-logout after 30 minutes of inactivity"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"30 minutes"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Login Attempts"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Maximum failed login attempts before lockout"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"5 attempts"})]})]})]})]})]})]})]})]})},xx=()=>{const{logout:e}=ua(),t=Qt(),r=async()=>{await e(),t("/login")},n=[{path:"/dashboard",label:"Dashboard",icon:If},{path:"/companies",label:"Companies",icon:Rl},{path:"/admins",label:"Company Admins",icon:it},{path:"/customers",label:"Customers",icon:$o},{path:"/parts",label:"Parts",icon:_s},{path:"/orders",label:"Orders",icon:hr},{path:"/delivery-challans",label:"Delivery Challans",icon:ot},{path:"/reports",label:"Reports",icon:Mo},{path:"/settings",label:"Settings",icon:Lu}];return s.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-gradient-to-r from-blue-900 to-blue-800",children:s.jsx("h1",{className:"text-lg font-semibold text-white",children:"Super Admin"})}),s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:n.map(a=>{const l=a.icon;return s.jsxs(vf,{to:a.path,className:({isActive:o})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 ${o?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx(l,{className:"mr-3 h-5 w-5"}),a.label]},a.path)})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:r,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150",children:[s.jsx(Mf,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})})},gx=()=>{var i;const{user:e}=ua();Qt();const[t,r]=v.useState(""),[n,a]=v.useState(!1),l=u=>{r(u),u.trim()&&console.log("Searching for:",u)},o=u=>{u.key==="Enter"&&l(t)},c=()=>{r("")};return s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-[100] w-full lg:ml-64 lg:w-[calc(100%-16rem)]",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"CRM Super Admin Panel"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ds,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search companies, customers, orders...",value:t,onChange:u=>l(u.target.value),onKeyPress:o,onFocus:()=>a(!0),onBlur:()=>a(!1),className:"block w-48 lg:w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"}),t&&s.jsx("button",{onClick:c,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s.jsx("span",{className:"text-gray-400 hover:text-gray-600 text-sm",children:""})}),n&&t&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:s.jsxs("div",{className:"p-3 text-sm text-gray-500",children:['Press Enter to search for "',t,'"']})})]}),s.jsxs("button",{className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx(Lf,{className:"h-6 w-6"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:(i=e==null?void 0:e.name)==null?void 0:i.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"Super Admin"})]})]})]})]})})})},yx=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(xx,{}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx(gx,{}),s.jsx("main",{className:"py-8 pt-20 max-w-full overflow-hidden",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 max-w-full",children:s.jsx("div",{className:"max-w-full overflow-hidden",children:s.jsx(nf,{})})})})]})]}),vx=({children:e})=>{const{isAuthenticated:t,isLoading:r}=ua(),n=Wt();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(rf,{to:"/login",state:{from:n},replace:!0})},bx=({message:e,type:t,onClose:r})=>{const[n,a]=v.useState(!0);v.useEffect(()=>{const i=setTimeout(()=>{a(!1),setTimeout(r,300)},3e3);return()=>clearTimeout(i)},[r]);const l=()=>{switch(t){case"success":return s.jsx(Vs,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(Du,{className:"w-5 h-5 text-red-500"});case"info":return s.jsx(ac,{className:"w-5 h-5 text-blue-500"});default:return s.jsx(ac,{className:"w-5 h-5 text-blue-500"})}},o=()=>{switch(t){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-blue-50 border-blue-200"}},c=()=>{switch(t){case"success":return"text-green-800";case"error":return"text-red-800";case"info":return"text-blue-800";default:return"text-blue-800"}};return s.jsx("div",{className:`
        fixed bottom-4 right-4 z-50 max-w-sm w-full
        transform transition-all duration-300 ease-in-out
        ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:s.jsxs("div",{className:`
        flex items-center p-4 rounded-lg border shadow-lg
        ${o()}
      `,children:[s.jsx("div",{className:"flex-shrink-0 mr-3",children:l()}),s.jsx("div",{className:`flex-1 text-sm font-medium ${c()}`,children:e}),s.jsx("button",{onClick:()=>{a(!1),setTimeout(r,300)},className:`flex-shrink-0 ml-4 p-1 rounded-full hover:bg-gray-100 ${c()}`,children:s.jsx(Ae,{className:"w-4 h-4"})})]})})},wx=()=>{const{toasts:e,removeToast:t}=Au();return s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(r=>s.jsx(bx,{message:r.message,type:r.type,onClose:()=>t(r.id)},r.id))})};function jx(){return s.jsx(Sf,{children:s.jsxs(Cf,{children:[s.jsx(ff,{children:s.jsxs(lf,{children:[s.jsx(De,{path:"/login",element:s.jsx(Gf,{})}),s.jsxs(De,{path:"/",element:s.jsx(vx,{children:s.jsx(yx,{})}),children:[s.jsx(De,{index:!0,element:s.jsx(lc,{})}),s.jsx(De,{path:"dashboard",element:s.jsx(lc,{})}),s.jsx(De,{path:"companies",element:s.jsx(Zf,{})}),s.jsx(De,{path:"companies/:id",element:s.jsx(Xf,{})}),s.jsx(De,{path:"admins",element:s.jsx(tx,{})}),s.jsx(De,{path:"customers",element:s.jsx(nx,{})}),s.jsx(De,{path:"parts",element:s.jsx(ox,{})}),s.jsx(De,{path:"orders",element:s.jsx(dx,{})}),s.jsx(De,{path:"delivery-challans",element:s.jsx(px,{})}),s.jsx(De,{path:"reports",element:s.jsx(hx,{})}),s.jsx(De,{path:"settings",element:s.jsx(fx,{})})]})]})}),s.jsx(wx,{})]})})}za.createRoot(document.getElementById("root")).render(s.jsx(Bl.StrictMode,{children:s.jsx(jx,{})}));
