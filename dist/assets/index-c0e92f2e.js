function zu(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dc={exports:{}},Gn={},uc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=Symbol.for("react.element"),qu=Symbol.for("react.portal"),Bu=Symbol.for("react.fragment"),Vu=Symbol.for("react.strict_mode"),Wu=Symbol.for("react.profiler"),Hu=Symbol.for("react.provider"),Qu=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),Ku=Symbol.for("react.suspense"),Zu=Symbol.for("react.memo"),Ju=Symbol.for("react.lazy"),Bo=Symbol.iterator;function Xu(e){return e===null||typeof e!="object"?null:(e=Bo&&e[Bo]||e["@@iterator"],typeof e=="function"?e:null)}var mc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pc=Object.assign,hc={};function qs(e,t,r){this.props=e,this.context=t,this.refs=hc,this.updater=r||mc}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fc(){}fc.prototype=qs.prototype;function ql(e,t,r){this.props=e,this.context=t,this.refs=hc,this.updater=r||mc}var Bl=ql.prototype=new fc;Bl.constructor=ql;pc(Bl,qs.prototype);Bl.isPureReactComponent=!0;var Vo=Array.isArray,xc=Object.prototype.hasOwnProperty,Vl={current:null},gc={key:!0,ref:!0,__self:!0,__source:!0};function yc(e,t,r){var n,a={},l=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)xc.call(t,n)&&!gc.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var i=Array(c),p=0;p<c;p++)i[p]=arguments[p+2];a.children=i}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:Rr,type:e,key:l,ref:o,props:a,_owner:Vl.current}}function Yu(e,t){return{$$typeof:Rr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rr}function em(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wo=/\/+/g;function xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?em(""+e.key):t.toString(36)}function an(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rr:case qu:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+xa(o,0):n,Vo(a)?(r="",e!=null&&(r=e.replace(Wo,"$&/")+"/"),an(a,t,r,"",function(p){return p})):a!=null&&(Wl(a)&&(a=Yu(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Wo,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Vo(e))for(var c=0;c<e.length;c++){l=e[c];var i=n+xa(l,c);o+=an(l,t,r,i,a)}else if(i=Xu(e),typeof i=="function")for(e=i.call(e),c=0;!(l=e.next()).done;)l=l.value,i=n+xa(l,c++),o+=an(l,t,r,i,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qr(e,t,r){if(e==null)return e;var n=[],a=0;return an(e,n,"","",function(l){return t.call(r,l,a++)}),n}function tm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},ln={transition:null},sm={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ln,ReactCurrentOwner:Vl};function vc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:qr,forEach:function(e,t,r){qr(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qr(e,function(){t++}),t},toArray:function(e){return qr(e,function(t){return t})||[]},only:function(e){if(!Wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=qs;H.Fragment=Bu;H.Profiler=Wu;H.PureComponent=ql;H.StrictMode=Vu;H.Suspense=Ku;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sm;H.act=vc;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pc({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Vl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)xc.call(t,i)&&!gc.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){c=Array(i);for(var p=0;p<i;p++)c[p]=arguments[p+2];n.children=c}return{$$typeof:Rr,type:e.type,key:a,ref:l,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:Qu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hu,_context:e},e.Consumer=e};H.createElement=yc;H.createFactory=function(e){var t=yc.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Gu,render:e}};H.isValidElement=Wl;H.lazy=function(e){return{$$typeof:Ju,_payload:{_status:-1,_result:e},_init:tm}};H.memo=function(e,t){return{$$typeof:Zu,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=ln.transition;ln.transition={};try{e()}finally{ln.transition=t}};H.unstable_act=vc;H.useCallback=function(e,t){return Ee.current.useCallback(e,t)};H.useContext=function(e){return Ee.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ee.current.useEffect(e,t)};H.useId=function(){return Ee.current.useId()};H.useImperativeHandle=function(e,t,r){return Ee.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ee.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Ee.current.useReducer(e,t,r)};H.useRef=function(e){return Ee.current.useRef(e)};H.useState=function(e){return Ee.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Ee.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Ee.current.useTransition()};H.version="18.3.1";uc.exports=H;var v=uc.exports;const Hl=Uu(v),rm=zu({__proto__:null,default:Hl},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=v,am=Symbol.for("react.element"),lm=Symbol.for("react.fragment"),om=Object.prototype.hasOwnProperty,im=nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cm={key:!0,ref:!0,__self:!0,__source:!0};function bc(e,t,r){var n,a={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)om.call(t,n)&&!cm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:am,type:e,key:l,ref:o,props:a,_owner:im.current}}Gn.Fragment=lm;Gn.jsx=bc;Gn.jsxs=bc;dc.exports=Gn;var s=dc.exports,Ba={},wc={exports:{}},Ue={},jc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,U){var P=F.length;F.push(U);e:for(;0<P;){var z=P-1>>>1,Q=F[z];if(0<a(Q,U))F[z]=U,F[P]=Q,P=z;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var U=F[0],P=F.pop();if(P!==U){F[0]=P;e:for(var z=0,Q=F.length,Ne=Q>>>1;z<Ne;){var M=2*(z+1)-1,B=F[M],Z=M+1,_e=F[Z];if(0>a(B,P))Z<Q&&0>a(_e,B)?(F[z]=_e,F[Z]=P,z=Z):(F[z]=B,F[M]=P,z=M);else if(Z<Q&&0>a(_e,P))F[z]=_e,F[Z]=P,z=Z;else break e}}return U}function a(F,U){var P=F.sortIndex-U.sortIndex;return P!==0?P:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var i=[],p=[],x=1,u=null,y=3,b=!1,N=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(F){for(var U=r(p);U!==null;){if(U.callback===null)n(p);else if(U.startTime<=F)n(p),U.sortIndex=U.expirationTime,t(i,U);else break;U=r(p)}}function g(F){if(C=!1,d(F),!N)if(r(i)!==null)N=!0,T(_);else{var U=r(p);U!==null&&W(g,U.startTime-F)}}function _(F,U){N=!1,C&&(C=!1,f(m),m=-1),b=!0;var P=y;try{for(d(U),u=r(i);u!==null&&(!(u.expirationTime>U)||F&&!L());){var z=u.callback;if(typeof z=="function"){u.callback=null,y=u.priorityLevel;var Q=z(u.expirationTime<=U);U=e.unstable_now(),typeof Q=="function"?u.callback=Q:u===r(i)&&n(i),d(U)}else n(i);u=r(i)}if(u!==null)var Ne=!0;else{var M=r(p);M!==null&&W(g,M.startTime-U),Ne=!1}return Ne}finally{u=null,y=P,b=!1}}var j=!1,S=null,m=-1,w=5,E=-1;function L(){return!(e.unstable_now()-E<w)}function A(){if(S!==null){var F=e.unstable_now();E=F;var U=!0;try{U=S(!0,F)}finally{U?D():(j=!1,S=null)}}else j=!1}var D;if(typeof h=="function")D=function(){h(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Y=I.port2;I.port1.onmessage=A,D=function(){Y.postMessage(null)}}else D=function(){k(A,0)};function T(F){S=F,j||(j=!0,D())}function W(F,U){m=k(function(){F(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){N||b||(N=!0,T(_))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var U=3;break;default:U=y}var P=y;y=U;try{return F()}finally{y=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var P=y;y=F;try{return U()}finally{y=P}},e.unstable_scheduleCallback=function(F,U,P){var z=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?z+P:z):P=z,F){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=P+Q,F={id:x++,callback:U,priorityLevel:F,startTime:P,expirationTime:Q,sortIndex:-1},P>z?(F.sortIndex=P,t(p,F),r(i)===null&&F===r(p)&&(C?(f(m),m=-1):C=!0,W(g,P-z))):(F.sortIndex=Q,t(i,F),N||b||(N=!0,T(_))),F},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(F){var U=y;return function(){var P=y;y=U;try{return F.apply(this,arguments)}finally{y=P}}}})(Nc);jc.exports=Nc;var dm=jc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=v,ze=dm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _c=new Set,gr={};function ds(e,t){Os(e,t),Os(e+"Capture",t)}function Os(e,t){for(gr[e]=t,e=0;e<t.length;e++)_c.add(t[e])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=Object.prototype.hasOwnProperty,mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ho={},Qo={};function pm(e){return Va.call(Qo,e)?!0:Va.call(Ho,e)?!1:mm.test(e)?Qo[e]=!0:(Ho[e]=!0,!1)}function hm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fm(e,t,r,n){if(t===null||typeof t>"u"||hm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,r,n,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ql=/[\-:]([a-z])/g;function Gl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ql,Gl);ye[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ql,Gl);ye[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ql,Gl);ye[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kl(e,t,r,n){var a=ye.hasOwnProperty(t)?ye[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fm(t,r,a,n)&&(r=null),n||a===null?pm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nt=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Br=Symbol.for("react.element"),fs=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),Zl=Symbol.for("react.strict_mode"),Wa=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),Cc=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),Ha=Symbol.for("react.suspense"),Qa=Symbol.for("react.suspense_list"),Xl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Sc=Symbol.for("react.offscreen"),Go=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=Go&&e[Go]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,ga;function rr(e){if(ga===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var ya=!1;function va(e,t){if(!e||ya)return"";ya=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var a=p.stack.split(`
`),l=n.stack.split(`
`),o=a.length-1,c=l.length-1;1<=o&&0<=c&&a[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==l[c]){var i=`
`+a[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=o&&0<=c);break}}}finally{ya=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rr(e):""}function xm(e){switch(e.tag){case 5:return rr(e.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return e=va(e.type,!1),e;case 11:return e=va(e.type.render,!1),e;case 1:return e=va(e.type,!0),e;default:return""}}function Ga(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xs:return"Fragment";case fs:return"Portal";case Wa:return"Profiler";case Zl:return"StrictMode";case Ha:return"Suspense";case Qa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cc:return(e.displayName||"Context")+".Consumer";case kc:return(e._context.displayName||"Context")+".Provider";case Jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xl:return t=e.displayName||null,t!==null?t:Ga(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return Ga(e(t))}catch{}}return null}function gm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ga(t);case 8:return t===Zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ym(e){var t=Ec(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vr(e){e._valueTracker||(e._valueTracker=ym(e))}function Pc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ec(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function yn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ka(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ko(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ac(e,t){t=t.checked,t!=null&&Kl(e,"checked",t,!1)}function Za(e,t){Ac(e,t);var r=qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ja(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ja(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ja(e,t,r){(t!=="number"||yn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nr=Array.isArray;function Es(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jo(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(nr(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qt(r)}}function Dc(e,t){var r=qt(t.value),n=qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wr,Lc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vm=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(e){vm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});function Oc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function Fc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Oc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var bm=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(e,t){if(t){if(bm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function tl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function Yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,Ps=null,As=null;function Yo(e){if(e=$r(e)){if(typeof rl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Yn(t),rl(e.stateNode,e.type,t))}}function Rc(e){Ps?As?As.push(e):As=[e]:Ps=e}function Ic(){if(Ps){var e=Ps,t=As;if(As=Ps=null,Yo(e),t)for(e=0;e<t.length;e++)Yo(t[e])}}function Mc(e,t){return e(t)}function $c(){}var ba=!1;function zc(e,t,r){if(ba)return e(t,r);ba=!0;try{return Mc(e,t,r)}finally{ba=!1,(Ps!==null||As!==null)&&($c(),Ic())}}function vr(e,t){var r=e.stateNode;if(r===null)return null;var n=Yn(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var nl=!1;if(vt)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{nl=!1}function wm(e,t,r,n,a,l,o,c,i){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(x){this.onError(x)}}var ir=!1,vn=null,bn=!1,al=null,jm={onError:function(e){ir=!0,vn=e}};function Nm(e,t,r,n,a,l,o,c,i){ir=!1,vn=null,wm.apply(jm,arguments)}function _m(e,t,r,n,a,l,o,c,i){if(Nm.apply(this,arguments),ir){if(ir){var p=vn;ir=!1,vn=null}else throw Error(O(198));bn||(bn=!0,al=p)}}function us(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Uc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ei(e){if(us(e)!==e)throw Error(O(188))}function km(e){var t=e.alternate;if(!t){if(t=us(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return ei(a),e;if(l===n)return ei(a),t;l=l.sibling}throw Error(O(188))}if(r.return!==n.return)r=a,n=l;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=l;break}if(c===n){o=!0,n=a,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,n=a;break}if(c===n){o=!0,n=l,r=a;break}c=c.sibling}if(!o)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function qc(e){return e=km(e),e!==null?Bc(e):null}function Bc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bc(e);if(t!==null)return t;e=e.sibling}return null}var Vc=ze.unstable_scheduleCallback,ti=ze.unstable_cancelCallback,Cm=ze.unstable_shouldYield,Sm=ze.unstable_requestPaint,ce=ze.unstable_now,Em=ze.unstable_getCurrentPriorityLevel,eo=ze.unstable_ImmediatePriority,Wc=ze.unstable_UserBlockingPriority,wn=ze.unstable_NormalPriority,Pm=ze.unstable_LowPriority,Hc=ze.unstable_IdlePriority,Kn=null,ot=null;function Am(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Kn,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Lm,Dm=Math.log,Tm=Math.LN2;function Lm(e){return e>>>=0,e===0?32:31-(Dm(e)/Tm|0)|0}var Hr=64,Qr=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jn(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?n=ar(c):(l&=o,l!==0&&(n=ar(l)))}else o=r&~a,o!==0?n=ar(o):l!==0&&(n=ar(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tt(t),a=1<<r,n|=e[r],t&=~a;return n}function Om(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-tt(l),c=1<<o,i=a[o];i===-1?(!(c&r)||c&n)&&(a[o]=Om(c,t)):i<=t&&(e.expiredLanes|=c),l&=~c}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qc(){var e=Hr;return Hr<<=1,!(Hr&4194240)&&(Hr=64),e}function wa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ir(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=r}function Rm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-tt(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function to(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var J=0;function Gc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kc,so,Zc,Jc,Xc,ol=!1,Gr=[],Lt=null,Ot=null,Ft=null,br=new Map,wr=new Map,Et=[],Im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function si(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wr.delete(t.pointerId)}}function Js(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=$r(t),t!==null&&so(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Mm(e,t,r,n,a){switch(t){case"focusin":return Lt=Js(Lt,e,t,r,n,a),!0;case"dragenter":return Ot=Js(Ot,e,t,r,n,a),!0;case"mouseover":return Ft=Js(Ft,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return br.set(l,Js(br.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,wr.set(l,Js(wr.get(l)||null,e,t,r,n,a)),!0}return!1}function Yc(e){var t=es(e.target);if(t!==null){var r=us(t);if(r!==null){if(t=r.tag,t===13){if(t=Uc(r),t!==null){e.blockedOn=t,Xc(e.priority,function(){Zc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function on(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sl=n,r.target.dispatchEvent(n),sl=null}else return t=$r(r),t!==null&&so(t),e.blockedOn=r,!1;t.shift()}return!0}function ri(e,t,r){on(e)&&r.delete(t)}function $m(){ol=!1,Lt!==null&&on(Lt)&&(Lt=null),Ot!==null&&on(Ot)&&(Ot=null),Ft!==null&&on(Ft)&&(Ft=null),br.forEach(ri),wr.forEach(ri)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,$m)))}function jr(e){function t(a){return Xs(a,e)}if(0<Gr.length){Xs(Gr[0],e);for(var r=1;r<Gr.length;r++){var n=Gr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lt!==null&&Xs(Lt,e),Ot!==null&&Xs(Ot,e),Ft!==null&&Xs(Ft,e),br.forEach(t),wr.forEach(t),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)Yc(r),r.blockedOn===null&&Et.shift()}var Ds=Nt.ReactCurrentBatchConfig,Nn=!0;function zm(e,t,r,n){var a=J,l=Ds.transition;Ds.transition=null;try{J=1,ro(e,t,r,n)}finally{J=a,Ds.transition=l}}function Um(e,t,r,n){var a=J,l=Ds.transition;Ds.transition=null;try{J=4,ro(e,t,r,n)}finally{J=a,Ds.transition=l}}function ro(e,t,r,n){if(Nn){var a=il(e,t,r,n);if(a===null)Da(e,t,n,_n,r),si(e,n);else if(Mm(a,e,t,r,n))n.stopPropagation();else if(si(e,n),t&4&&-1<Im.indexOf(e)){for(;a!==null;){var l=$r(a);if(l!==null&&Kc(l),l=il(e,t,r,n),l===null&&Da(e,t,n,_n,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Da(e,t,n,null,r)}}var _n=null;function il(e,t,r,n){if(_n=null,e=Yl(n),e=es(e),e!==null)if(t=us(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Uc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _n=e,null}function ed(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Em()){case eo:return 1;case Wc:return 4;case wn:case Pm:return 16;case Hc:return 536870912;default:return 16}default:return 16}}var At=null,no=null,cn=null;function td(){if(cn)return cn;var e,t=no,r=t.length,n,a="value"in At?At.value:At.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[l-n];n++);return cn=a.slice(e,1<n?1-n:void 0)}function dn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function ni(){return!1}function qe(e){function t(r,n,a,l,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Kr:ni,this.isPropagationStopped=ni,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=qe(Bs),Mr=oe({},Bs,{view:0,detail:0}),qm=qe(Mr),ja,Na,Ys,Zn=oe({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(ja=e.screenX-Ys.screenX,Na=e.screenY-Ys.screenY):Na=ja=0,Ys=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),ai=qe(Zn),Bm=oe({},Zn,{dataTransfer:0}),Vm=qe(Bm),Wm=oe({},Mr,{relatedTarget:0}),_a=qe(Wm),Hm=oe({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qm=qe(Hm),Gm=oe({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Km=qe(Gm),Zm=oe({},Bs,{data:0}),li=qe(Zm),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ym[e])?!!t[e]:!1}function lo(){return ep}var tp=oe({},Mr,{key:function(e){if(e.key){var t=Jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(e){return e.type==="keypress"?dn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sp=qe(tp),rp=oe({},Zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oi=qe(rp),np=oe({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),ap=qe(np),lp=oe({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),op=qe(lp),ip=oe({},Zn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cp=qe(ip),dp=[9,13,27,32],oo=vt&&"CompositionEvent"in window,cr=null;vt&&"documentMode"in document&&(cr=document.documentMode);var up=vt&&"TextEvent"in window&&!cr,sd=vt&&(!oo||cr&&8<cr&&11>=cr),ii=String.fromCharCode(32),ci=!1;function rd(e,t){switch(e){case"keyup":return dp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gs=!1;function mp(e,t){switch(e){case"compositionend":return nd(t);case"keypress":return t.which!==32?null:(ci=!0,ii);case"textInput":return e=t.data,e===ii&&ci?null:e;default:return null}}function pp(e,t){if(gs)return e==="compositionend"||!oo&&rd(e,t)?(e=td(),cn=no=At=null,gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sd&&t.locale!=="ko"?null:t.data;default:return null}}var hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hp[e.type]:t==="textarea"}function ad(e,t,r,n){Rc(n),t=kn(t,"onChange"),0<t.length&&(r=new ao("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dr=null,Nr=null;function fp(e){xd(e,0)}function Jn(e){var t=bs(e);if(Pc(t))return e}function xp(e,t){if(e==="change")return t}var ld=!1;if(vt){var ka;if(vt){var Ca="oninput"in document;if(!Ca){var ui=document.createElement("div");ui.setAttribute("oninput","return;"),Ca=typeof ui.oninput=="function"}ka=Ca}else ka=!1;ld=ka&&(!document.documentMode||9<document.documentMode)}function mi(){dr&&(dr.detachEvent("onpropertychange",od),Nr=dr=null)}function od(e){if(e.propertyName==="value"&&Jn(Nr)){var t=[];ad(t,Nr,e,Yl(e)),zc(fp,t)}}function gp(e,t,r){e==="focusin"?(mi(),dr=t,Nr=r,dr.attachEvent("onpropertychange",od)):e==="focusout"&&mi()}function yp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jn(Nr)}function vp(e,t){if(e==="click")return Jn(t)}function bp(e,t){if(e==="input"||e==="change")return Jn(t)}function wp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:wp;function _r(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Va.call(t,a)||!rt(e[a],t[a]))return!1}return!0}function pi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hi(e,t){var r=pi(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pi(r)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cd(){for(var e=window,t=yn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yn(e.document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jp(e){var t=cd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&id(r.ownerDocument.documentElement,r)){if(n!==null&&io(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=hi(r,l);var o=hi(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Np=vt&&"documentMode"in document&&11>=document.documentMode,ys=null,cl=null,ur=null,dl=!1;function fi(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dl||ys==null||ys!==yn(n)||(n=ys,"selectionStart"in n&&io(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ur&&_r(ur,n)||(ur=n,n=kn(cl,"onSelect"),0<n.length&&(t=new ao("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ys)))}function Zr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vs={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},Sa={},dd={};vt&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Xn(e){if(Sa[e])return Sa[e];if(!vs[e])return e;var t=vs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dd)return Sa[e]=t[r];return e}var ud=Xn("animationend"),md=Xn("animationiteration"),pd=Xn("animationstart"),hd=Xn("transitionend"),fd=new Map,xi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(e,t){fd.set(e,t),ds(t,[e])}for(var Ea=0;Ea<xi.length;Ea++){var Pa=xi[Ea],_p=Pa.toLowerCase(),kp=Pa[0].toUpperCase()+Pa.slice(1);Ht(_p,"on"+kp)}Ht(ud,"onAnimationEnd");Ht(md,"onAnimationIteration");Ht(pd,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(hd,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(lr));function gi(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_m(n,t,void 0,e),e.currentTarget=null}function xd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],i=c.instance,p=c.currentTarget;if(c=c.listener,i!==l&&a.isPropagationStopped())break e;gi(a,c,p),l=i}else for(o=0;o<n.length;o++){if(c=n[o],i=c.instance,p=c.currentTarget,c=c.listener,i!==l&&a.isPropagationStopped())break e;gi(a,c,p),l=i}}}if(bn)throw e=al,bn=!1,al=null,e}function te(e,t){var r=t[fl];r===void 0&&(r=t[fl]=new Set);var n=e+"__bubble";r.has(n)||(gd(t,e,2,!1),r.add(n))}function Aa(e,t,r){var n=0;t&&(n|=4),gd(r,e,n,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[Jr]){e[Jr]=!0,_c.forEach(function(r){r!=="selectionchange"&&(Cp.has(r)||Aa(r,!1,e),Aa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jr]||(t[Jr]=!0,Aa("selectionchange",!1,t))}}function gd(e,t,r,n){switch(ed(t)){case 1:var a=zm;break;case 4:a=Um;break;default:a=ro}r=a.bind(null,t,r,e),a=void 0,!nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Da(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===a||i.nodeType===8&&i.parentNode===a))return;o=o.return}for(;c!==null;){if(o=es(c),o===null)return;if(i=o.tag,i===5||i===6){n=l=o;continue e}c=c.parentNode}}n=n.return}zc(function(){var p=l,x=Yl(r),u=[];e:{var y=fd.get(e);if(y!==void 0){var b=ao,N=e;switch(e){case"keypress":if(dn(r)===0)break e;case"keydown":case"keyup":b=sp;break;case"focusin":N="focus",b=_a;break;case"focusout":N="blur",b=_a;break;case"beforeblur":case"afterblur":b=_a;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=ap;break;case ud:case md:case pd:b=Qm;break;case hd:b=op;break;case"scroll":b=qm;break;case"wheel":b=cp;break;case"copy":case"cut":case"paste":b=Km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=oi}var C=(t&4)!==0,k=!C&&e==="scroll",f=C?y!==null?y+"Capture":null:y;C=[];for(var h=p,d;h!==null;){d=h;var g=d.stateNode;if(d.tag===5&&g!==null&&(d=g,f!==null&&(g=vr(h,f),g!=null&&C.push(Cr(h,g,d)))),k)break;h=h.return}0<C.length&&(y=new b(y,N,null,r,x),u.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&r!==sl&&(N=r.relatedTarget||r.fromElement)&&(es(N)||N[bt]))break e;if((b||y)&&(y=x.window===x?x:(y=x.ownerDocument)?y.defaultView||y.parentWindow:window,b?(N=r.relatedTarget||r.toElement,b=p,N=N?es(N):null,N!==null&&(k=us(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(b=null,N=p),b!==N)){if(C=ai,g="onMouseLeave",f="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(C=oi,g="onPointerLeave",f="onPointerEnter",h="pointer"),k=b==null?y:bs(b),d=N==null?y:bs(N),y=new C(g,h+"leave",b,r,x),y.target=k,y.relatedTarget=d,g=null,es(x)===p&&(C=new C(f,h+"enter",N,r,x),C.target=d,C.relatedTarget=k,g=C),k=g,b&&N)t:{for(C=b,f=N,h=0,d=C;d;d=hs(d))h++;for(d=0,g=f;g;g=hs(g))d++;for(;0<h-d;)C=hs(C),h--;for(;0<d-h;)f=hs(f),d--;for(;h--;){if(C===f||f!==null&&C===f.alternate)break t;C=hs(C),f=hs(f)}C=null}else C=null;b!==null&&yi(u,y,b,C,!1),N!==null&&k!==null&&yi(u,k,N,C,!0)}}e:{if(y=p?bs(p):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var _=xp;else if(di(y))if(ld)_=bp;else{_=yp;var j=gp}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(_=vp);if(_&&(_=_(e,p))){ad(u,_,r,x);break e}j&&j(e,y,p),e==="focusout"&&(j=y._wrapperState)&&j.controlled&&y.type==="number"&&Ja(y,"number",y.value)}switch(j=p?bs(p):window,e){case"focusin":(di(j)||j.contentEditable==="true")&&(ys=j,cl=p,ur=null);break;case"focusout":ur=cl=ys=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,fi(u,r,x);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":fi(u,r,x)}var S;if(oo)e:{switch(e){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else gs?rd(e,r)&&(m="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(m="onCompositionStart");m&&(sd&&r.locale!=="ko"&&(gs||m!=="onCompositionStart"?m==="onCompositionEnd"&&gs&&(S=td()):(At=x,no="value"in At?At.value:At.textContent,gs=!0)),j=kn(p,m),0<j.length&&(m=new li(m,e,null,r,x),u.push({event:m,listeners:j}),S?m.data=S:(S=nd(r),S!==null&&(m.data=S)))),(S=up?mp(e,r):pp(e,r))&&(p=kn(p,"onBeforeInput"),0<p.length&&(x=new li("onBeforeInput","beforeinput",null,r,x),u.push({event:x,listeners:p}),x.data=S))}xd(u,t)})}function Cr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kn(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=vr(e,r),l!=null&&n.unshift(Cr(e,l,a)),l=vr(e,t),l!=null&&n.push(Cr(e,l,a))),e=e.return}return n}function hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yi(e,t,r,n,a){for(var l=t._reactName,o=[];r!==null&&r!==n;){var c=r,i=c.alternate,p=c.stateNode;if(i!==null&&i===n)break;c.tag===5&&p!==null&&(c=p,a?(i=vr(r,l),i!=null&&o.unshift(Cr(r,i,c))):a||(i=vr(r,l),i!=null&&o.push(Cr(r,i,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Sp=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function vi(e){return(typeof e=="string"?e:""+e).replace(Sp,`
`).replace(Ep,"")}function Xr(e,t,r){if(t=vi(t),vi(e)!==t&&r)throw Error(O(425))}function Cn(){}var ul=null,ml=null;function pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hl=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,bi=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof bi<"u"?function(e){return bi.resolve(null).then(e).catch(Dp)}:hl;function Dp(e){setTimeout(function(){throw e})}function Ta(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),jr(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);jr(t)}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),lt="__reactFiber$"+Vs,Sr="__reactProps$"+Vs,bt="__reactContainer$"+Vs,fl="__reactEvents$"+Vs,Tp="__reactListeners$"+Vs,Lp="__reactHandles$"+Vs;function es(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wi(e);e!==null;){if(r=e[lt])return r;e=wi(e)}return t}e=r,r=e.parentNode}return null}function $r(e){return e=e[lt]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Yn(e){return e[Sr]||null}var xl=[],ws=-1;function Qt(e){return{current:e}}function se(e){0>ws||(e.current=xl[ws],xl[ws]=null,ws--)}function ee(e,t){ws++,xl[ws]=e.current,e.current=t}var Bt={},je=Qt(Bt),Oe=Qt(!1),as=Bt;function Fs(e,t){var r=e.type.contextTypes;if(!r)return Bt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fe(e){return e=e.childContextTypes,e!=null}function Sn(){se(Oe),se(je)}function ji(e,t,r){if(je.current!==Bt)throw Error(O(168));ee(je,t),ee(Oe,r)}function yd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(O(108,gm(e)||"Unknown",a));return oe({},r,n)}function En(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,as=je.current,ee(je,e),ee(Oe,Oe.current),!0}function Ni(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=yd(e,t,as),n.__reactInternalMemoizedMergedChildContext=e,se(Oe),se(je),ee(je,e)):se(Oe),ee(Oe,r)}var ft=null,ea=!1,La=!1;function vd(e){ft===null?ft=[e]:ft.push(e)}function Op(e){ea=!0,vd(e)}function Gt(){if(!La&&ft!==null){La=!0;var e=0,t=J;try{var r=ft;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ft=null,ea=!1}catch(a){throw ft!==null&&(ft=ft.slice(e+1)),Vc(eo,Gt),a}finally{J=t,La=!1}}return null}var js=[],Ns=0,Pn=null,An=0,We=[],He=0,ls=null,xt=1,gt="";function Jt(e,t){js[Ns++]=An,js[Ns++]=Pn,Pn=e,An=t}function bd(e,t,r){We[He++]=xt,We[He++]=gt,We[He++]=ls,ls=e;var n=xt;e=gt;var a=32-tt(n)-1;n&=~(1<<a),r+=1;var l=32-tt(t)+a;if(30<l){var o=a-a%5;l=(n&(1<<o)-1).toString(32),n>>=o,a-=o,xt=1<<32-tt(t)+a|r<<a|n,gt=l+e}else xt=1<<l|r<<a|n,gt=e}function co(e){e.return!==null&&(Jt(e,1),bd(e,1,0))}function uo(e){for(;e===Pn;)Pn=js[--Ns],js[Ns]=null,An=js[--Ns],js[Ns]=null;for(;e===ls;)ls=We[--He],We[He]=null,gt=We[--He],We[He]=null,xt=We[--He],We[He]=null}var $e=null,Me=null,re=!1,et=null;function wd(e,t){var r=Qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _i(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Me=Rt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ls!==null?{id:xt,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$e=e,Me=null,!0):!1;default:return!1}}function gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yl(e){if(re){var t=Me;if(t){var r=t;if(!_i(e,t)){if(gl(e))throw Error(O(418));t=Rt(r.nextSibling);var n=$e;t&&_i(e,t)?wd(n,r):(e.flags=e.flags&-4097|2,re=!1,$e=e)}}else{if(gl(e))throw Error(O(418));e.flags=e.flags&-4097|2,re=!1,$e=e}}}function ki(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function Yr(e){if(e!==$e)return!1;if(!re)return ki(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pl(e.type,e.memoizedProps)),t&&(t=Me)){if(gl(e))throw jd(),Error(O(418));for(;t;)wd(e,t),t=Rt(t.nextSibling)}if(ki(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Me=Rt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=$e?Rt(e.stateNode.nextSibling):null;return!0}function jd(){for(var e=Me;e;)e=Rt(e.nextSibling)}function Rs(){Me=$e=null,re=!1}function mo(e){et===null?et=[e]:et.push(e)}var Fp=Nt.ReactCurrentBatchConfig;function er(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=a.refs;o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function en(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ci(e){var t=e._init;return t(e._payload)}function Nd(e){function t(f,h){if(e){var d=f.deletions;d===null?(f.deletions=[h],f.flags|=16):d.push(h)}}function r(f,h){if(!e)return null;for(;h!==null;)t(f,h),h=h.sibling;return null}function n(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function a(f,h){return f=zt(f,h),f.index=0,f.sibling=null,f}function l(f,h,d){return f.index=d,e?(d=f.alternate,d!==null?(d=d.index,d<h?(f.flags|=2,h):d):(f.flags|=2,h)):(f.flags|=1048576,h)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,h,d,g){return h===null||h.tag!==6?(h=za(d,f.mode,g),h.return=f,h):(h=a(h,d),h.return=f,h)}function i(f,h,d,g){var _=d.type;return _===xs?x(f,h,d.props.children,g,d.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ct&&Ci(_)===h.type)?(g=a(h,d.props),g.ref=er(f,h,d),g.return=f,g):(g=gn(d.type,d.key,d.props,null,f.mode,g),g.ref=er(f,h,d),g.return=f,g)}function p(f,h,d,g){return h===null||h.tag!==4||h.stateNode.containerInfo!==d.containerInfo||h.stateNode.implementation!==d.implementation?(h=Ua(d,f.mode,g),h.return=f,h):(h=a(h,d.children||[]),h.return=f,h)}function x(f,h,d,g,_){return h===null||h.tag!==7?(h=ns(d,f.mode,g,_),h.return=f,h):(h=a(h,d),h.return=f,h)}function u(f,h,d){if(typeof h=="string"&&h!==""||typeof h=="number")return h=za(""+h,f.mode,d),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Br:return d=gn(h.type,h.key,h.props,null,f.mode,d),d.ref=er(f,null,h),d.return=f,d;case fs:return h=Ua(h,f.mode,d),h.return=f,h;case Ct:var g=h._init;return u(f,g(h._payload),d)}if(nr(h)||Ks(h))return h=ns(h,f.mode,d,null),h.return=f,h;en(f,h)}return null}function y(f,h,d,g){var _=h!==null?h.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return _!==null?null:c(f,h,""+d,g);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Br:return d.key===_?i(f,h,d,g):null;case fs:return d.key===_?p(f,h,d,g):null;case Ct:return _=d._init,y(f,h,_(d._payload),g)}if(nr(d)||Ks(d))return _!==null?null:x(f,h,d,g,null);en(f,d)}return null}function b(f,h,d,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return f=f.get(d)||null,c(h,f,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Br:return f=f.get(g.key===null?d:g.key)||null,i(h,f,g,_);case fs:return f=f.get(g.key===null?d:g.key)||null,p(h,f,g,_);case Ct:var j=g._init;return b(f,h,d,j(g._payload),_)}if(nr(g)||Ks(g))return f=f.get(d)||null,x(h,f,g,_,null);en(h,g)}return null}function N(f,h,d,g){for(var _=null,j=null,S=h,m=h=0,w=null;S!==null&&m<d.length;m++){S.index>m?(w=S,S=null):w=S.sibling;var E=y(f,S,d[m],g);if(E===null){S===null&&(S=w);break}e&&S&&E.alternate===null&&t(f,S),h=l(E,h,m),j===null?_=E:j.sibling=E,j=E,S=w}if(m===d.length)return r(f,S),re&&Jt(f,m),_;if(S===null){for(;m<d.length;m++)S=u(f,d[m],g),S!==null&&(h=l(S,h,m),j===null?_=S:j.sibling=S,j=S);return re&&Jt(f,m),_}for(S=n(f,S);m<d.length;m++)w=b(S,f,m,d[m],g),w!==null&&(e&&w.alternate!==null&&S.delete(w.key===null?m:w.key),h=l(w,h,m),j===null?_=w:j.sibling=w,j=w);return e&&S.forEach(function(L){return t(f,L)}),re&&Jt(f,m),_}function C(f,h,d,g){var _=Ks(d);if(typeof _!="function")throw Error(O(150));if(d=_.call(d),d==null)throw Error(O(151));for(var j=_=null,S=h,m=h=0,w=null,E=d.next();S!==null&&!E.done;m++,E=d.next()){S.index>m?(w=S,S=null):w=S.sibling;var L=y(f,S,E.value,g);if(L===null){S===null&&(S=w);break}e&&S&&L.alternate===null&&t(f,S),h=l(L,h,m),j===null?_=L:j.sibling=L,j=L,S=w}if(E.done)return r(f,S),re&&Jt(f,m),_;if(S===null){for(;!E.done;m++,E=d.next())E=u(f,E.value,g),E!==null&&(h=l(E,h,m),j===null?_=E:j.sibling=E,j=E);return re&&Jt(f,m),_}for(S=n(f,S);!E.done;m++,E=d.next())E=b(S,f,m,E.value,g),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?m:E.key),h=l(E,h,m),j===null?_=E:j.sibling=E,j=E);return e&&S.forEach(function(A){return t(f,A)}),re&&Jt(f,m),_}function k(f,h,d,g){if(typeof d=="object"&&d!==null&&d.type===xs&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case Br:e:{for(var _=d.key,j=h;j!==null;){if(j.key===_){if(_=d.type,_===xs){if(j.tag===7){r(f,j.sibling),h=a(j,d.props.children),h.return=f,f=h;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ct&&Ci(_)===j.type){r(f,j.sibling),h=a(j,d.props),h.ref=er(f,j,d),h.return=f,f=h;break e}r(f,j);break}else t(f,j);j=j.sibling}d.type===xs?(h=ns(d.props.children,f.mode,g,d.key),h.return=f,f=h):(g=gn(d.type,d.key,d.props,null,f.mode,g),g.ref=er(f,h,d),g.return=f,f=g)}return o(f);case fs:e:{for(j=d.key;h!==null;){if(h.key===j)if(h.tag===4&&h.stateNode.containerInfo===d.containerInfo&&h.stateNode.implementation===d.implementation){r(f,h.sibling),h=a(h,d.children||[]),h.return=f,f=h;break e}else{r(f,h);break}else t(f,h);h=h.sibling}h=Ua(d,f.mode,g),h.return=f,f=h}return o(f);case Ct:return j=d._init,k(f,h,j(d._payload),g)}if(nr(d))return N(f,h,d,g);if(Ks(d))return C(f,h,d,g);en(f,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,h!==null&&h.tag===6?(r(f,h.sibling),h=a(h,d),h.return=f,f=h):(r(f,h),h=za(d,f.mode,g),h.return=f,f=h),o(f)):r(f,h)}return k}var Is=Nd(!0),_d=Nd(!1),Dn=Qt(null),Tn=null,_s=null,po=null;function ho(){po=_s=Tn=null}function fo(e){var t=Dn.current;se(Dn),e._currentValue=t}function vl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ts(e,t){Tn=e,po=_s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(po!==e)if(e={context:e,memoizedValue:t,next:null},_s===null){if(Tn===null)throw Error(O(308));_s=e,Tn.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var ts=null;function xo(e){ts===null?ts=[e]:ts.push(e)}function kd(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,xo(t)):(r.next=a.next,a.next=r),t.interleaved=r,wt(e,n)}function wt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var St=!1;function go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,wt(e,r)}return a=n.interleaved,a===null?(t.next=t,xo(n)):(t.next=a.next,a.next=t),n.interleaved=t,wt(e,r)}function un(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,to(e,r)}}function Si(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ln(e,t,r,n){var a=e.updateQueue;St=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var i=c,p=i.next;i.next=null,o===null?l=p:o.next=p,o=i;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==o&&(c===null?x.firstBaseUpdate=p:c.next=p,x.lastBaseUpdate=i))}if(l!==null){var u=a.baseState;o=0,x=p=i=null,c=l;do{var y=c.lane,b=c.eventTime;if((n&y)===y){x!==null&&(x=x.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=e,C=c;switch(y=t,b=r,C.tag){case 1:if(N=C.payload,typeof N=="function"){u=N.call(b,u,y);break e}u=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=C.payload,y=typeof N=="function"?N.call(b,u,y):N,y==null)break e;u=oe({},u,y);break e;case 2:St=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[c]:y.push(c))}else b={eventTime:b,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(p=x=b,i=u):x=x.next=b,o|=y;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;y=c,c=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(1);if(x===null&&(i=u),a.baseState=i,a.firstBaseUpdate=p,a.lastBaseUpdate=x,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);is|=o,e.lanes=o,e.memoizedState=u}}function Ei(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(O(191,a));a.call(n)}}}var zr={},it=Qt(zr),Er=Qt(zr),Pr=Qt(zr);function ss(e){if(e===zr)throw Error(O(174));return e}function yo(e,t){switch(ee(Pr,t),ee(Er,e),ee(it,zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ya(t,e)}se(it),ee(it,t)}function Ms(){se(it),se(Er),se(Pr)}function Sd(e){ss(Pr.current);var t=ss(it.current),r=Ya(t,e.type);t!==r&&(ee(Er,e),ee(it,r))}function vo(e){Er.current===e&&(se(it),se(Er))}var ne=Qt(0);function On(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=[];function bo(){for(var e=0;e<Oa.length;e++)Oa[e]._workInProgressVersionPrimary=null;Oa.length=0}var mn=Nt.ReactCurrentDispatcher,Fa=Nt.ReactCurrentBatchConfig,os=0,ae=null,ue=null,pe=null,Fn=!1,mr=!1,Ar=0,Rp=0;function ve(){throw Error(O(321))}function wo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rt(e[r],t[r]))return!1;return!0}function jo(e,t,r,n,a,l){if(os=l,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mn.current=e===null||e.memoizedState===null?zp:Up,e=r(n,a),mr){l=0;do{if(mr=!1,Ar=0,25<=l)throw Error(O(301));l+=1,pe=ue=null,t.updateQueue=null,mn.current=qp,e=r(n,a)}while(mr)}if(mn.current=Rn,t=ue!==null&&ue.next!==null,os=0,pe=ue=ae=null,Fn=!1,t)throw Error(O(300));return e}function No(){var e=Ar!==0;return Ar=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ae.memoizedState=pe=e:pe=pe.next=e,pe}function Ze(){if(ue===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=pe===null?ae.memoizedState:pe.next;if(t!==null)pe=t,ue=e;else{if(e===null)throw Error(O(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},pe===null?ae.memoizedState=pe=e:pe=pe.next=e}return pe}function Dr(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=Ze(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=ue,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var c=o=null,i=null,p=l;do{var x=p.lane;if((os&x)===x)i!==null&&(i=i.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var u={lane:x,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};i===null?(c=i=u,o=n):i=i.next=u,ae.lanes|=x,is|=x}p=p.next}while(p!==null&&p!==l);i===null?o=n:i.next=c,rt(n,t.memoizedState)||(Le=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=i,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,ae.lanes|=l,is|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ia(e){var t=Ze(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);rt(l,t.memoizedState)||(Le=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Ed(){}function Pd(e,t){var r=ae,n=Ze(),a=t(),l=!rt(n.memoizedState,a);if(l&&(n.memoizedState=a,Le=!0),n=n.queue,_o(Td.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,Tr(9,Dd.bind(null,r,n,a,t),void 0,null),he===null)throw Error(O(349));os&30||Ad(r,t,a)}return a}function Ad(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Dd(e,t,r,n){t.value=r,t.getSnapshot=n,Ld(t)&&Od(e)}function Td(e,t,r){return r(function(){Ld(t)&&Od(e)})}function Ld(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rt(e,r)}catch{return!0}}function Od(e){var t=wt(e,1);t!==null&&st(t,e,1,-1)}function Pi(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=$p.bind(null,ae,e),[t.memoizedState,e]}function Tr(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Fd(){return Ze().memoizedState}function pn(e,t,r,n){var a=at();ae.flags|=e,a.memoizedState=Tr(1|t,r,void 0,n===void 0?null:n)}function ta(e,t,r,n){var a=Ze();n=n===void 0?null:n;var l=void 0;if(ue!==null){var o=ue.memoizedState;if(l=o.destroy,n!==null&&wo(n,o.deps)){a.memoizedState=Tr(t,r,l,n);return}}ae.flags|=e,a.memoizedState=Tr(1|t,r,l,n)}function Ai(e,t){return pn(8390656,8,e,t)}function _o(e,t){return ta(2048,8,e,t)}function Rd(e,t){return ta(4,2,e,t)}function Id(e,t){return ta(4,4,e,t)}function Md(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $d(e,t,r){return r=r!=null?r.concat([e]):null,ta(4,4,Md.bind(null,t,e),r)}function ko(){}function zd(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ud(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qd(e,t,r){return os&21?(rt(r,t)||(r=Qc(),ae.lanes|=r,is|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=r)}function Ip(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Fa.transition;Fa.transition={};try{e(!1),t()}finally{J=r,Fa.transition=n}}function Bd(){return Ze().memoizedState}function Mp(e,t,r){var n=$t(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Vd(e))Wd(t,r);else if(r=kd(e,t,r,n),r!==null){var a=Se();st(r,e,n,a),Hd(r,t,n)}}function $p(e,t,r){var n=$t(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vd(e))Wd(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,r);if(a.hasEagerState=!0,a.eagerState=c,rt(c,o)){var i=t.interleaved;i===null?(a.next=a,xo(t)):(a.next=i.next,i.next=a),t.interleaved=a;return}}catch{}finally{}r=kd(e,t,a,n),r!==null&&(a=Se(),st(r,e,n,a),Hd(r,t,n))}}function Vd(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Wd(e,t){mr=Fn=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,to(e,r)}}var Rn={readContext:Ke,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},zp={readContext:Ke,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Ai,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pn(4194308,4,Md.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pn(4194308,4,e,t)},useInsertionEffect:function(e,t){return pn(4,2,e,t)},useMemo:function(e,t){var r=at();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=at();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Mp.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Pi,useDebugValue:ko,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Ip.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,a=at();if(re){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),he===null)throw Error(O(349));os&30||Ad(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Ai(Td.bind(null,n,l,e),[e]),n.flags|=2048,Tr(9,Dd.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=at(),t=he.identifierPrefix;if(re){var r=gt,n=xt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ar++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Rp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Up={readContext:Ke,useCallback:zd,useContext:Ke,useEffect:_o,useImperativeHandle:$d,useInsertionEffect:Rd,useLayoutEffect:Id,useMemo:Ud,useReducer:Ra,useRef:Fd,useState:function(){return Ra(Dr)},useDebugValue:ko,useDeferredValue:function(e){var t=Ze();return qd(t,ue.memoizedState,e)},useTransition:function(){var e=Ra(Dr)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Ed,useSyncExternalStore:Pd,useId:Bd,unstable_isNewReconciler:!1},qp={readContext:Ke,useCallback:zd,useContext:Ke,useEffect:_o,useImperativeHandle:$d,useInsertionEffect:Rd,useLayoutEffect:Id,useMemo:Ud,useReducer:Ia,useRef:Fd,useState:function(){return Ia(Dr)},useDebugValue:ko,useDeferredValue:function(e){var t=Ze();return ue===null?t.memoizedState=e:qd(t,ue.memoizedState,e)},useTransition:function(){var e=Ia(Dr)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Ed,useSyncExternalStore:Pd,useId:Bd,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sa={isMounted:function(e){return(e=e._reactInternals)?us(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Se(),a=$t(e),l=yt(n,a);l.payload=t,r!=null&&(l.callback=r),t=It(e,l,a),t!==null&&(st(t,e,a,n),un(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Se(),a=$t(e),l=yt(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=It(e,l,a),t!==null&&(st(t,e,a,n),un(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Se(),n=$t(e),a=yt(r,n);a.tag=2,t!=null&&(a.callback=t),t=It(e,a,n),t!==null&&(st(t,e,n,r),un(t,e,n))}};function Di(e,t,r,n,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,o):t.prototype&&t.prototype.isPureReactComponent?!_r(r,n)||!_r(a,l):!0}function Qd(e,t,r){var n=!1,a=Bt,l=t.contextType;return typeof l=="object"&&l!==null?l=Ke(l):(a=Fe(t)?as:je.current,n=t.contextTypes,l=(n=n!=null)?Fs(e,a):Bt),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ti(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function wl(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},go(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Ke(l):(l=Fe(t)?as:je.current,a.context=Fs(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(bl(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&sa.enqueueReplaceState(a,a.state,null),Ln(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function $s(e,t){try{var r="",n=t;do r+=xm(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Ma(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function Gd(e,t,r){r=yt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mn||(Mn=!0,Tl=n),jl(e,t)},r}function Kd(e,t,r){r=yt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){jl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){jl(e,t),typeof n!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Li(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Bp;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=rh.bind(null,e,t,r),t.then(e,e))}function Oi(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fi(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yt(-1,1),t.tag=2,It(r,t,1))),r.lanes|=1),e)}var Vp=Nt.ReactCurrentOwner,Le=!1;function Ce(e,t,r,n){t.child=e===null?_d(t,null,r,n):Is(t,e.child,r,n)}function Ri(e,t,r,n,a){r=r.render;var l=t.ref;return Ts(t,a),n=jo(e,t,r,n,l,a),r=No(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jt(e,t,a)):(re&&r&&co(t),t.flags|=1,Ce(e,t,n,a),t.child)}function Ii(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!Lo(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Zd(e,t,l,n,a)):(e=gn(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:_r,r(o,n)&&e.ref===t.ref)return jt(e,t,a)}return t.flags|=1,e=zt(l,n),e.ref=t.ref,e.return=t,t.child=e}function Zd(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(_r(l,n)&&e.ref===t.ref)if(Le=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,jt(e,t,a)}return Nl(e,t,r,n,a)}function Jd(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Cs,Ie),Ie|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Cs,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ee(Cs,Ie),Ie|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,ee(Cs,Ie),Ie|=n;return Ce(e,t,a,r),t.child}function Xd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,r,n,a){var l=Fe(r)?as:je.current;return l=Fs(t,l),Ts(t,a),r=jo(e,t,r,n,l,a),n=No(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jt(e,t,a)):(re&&n&&co(t),t.flags|=1,Ce(e,t,r,a),t.child)}function Mi(e,t,r,n,a){if(Fe(r)){var l=!0;En(t)}else l=!1;if(Ts(t,a),t.stateNode===null)hn(e,t),Qd(t,r,n),wl(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var i=o.context,p=r.contextType;typeof p=="object"&&p!==null?p=Ke(p):(p=Fe(r)?as:je.current,p=Fs(t,p));var x=r.getDerivedStateFromProps,u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||i!==p)&&Ti(t,o,n,p),St=!1;var y=t.memoizedState;o.state=y,Ln(t,n,o,a),i=t.memoizedState,c!==n||y!==i||Oe.current||St?(typeof x=="function"&&(bl(t,r,x,n),i=t.memoizedState),(c=St||Di(t,r,c,n,y,i,p))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),o.props=n,o.state=i,o.context=p,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Cd(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:Xe(t.type,c),o.props=p,u=t.pendingProps,y=o.context,i=r.contextType,typeof i=="object"&&i!==null?i=Ke(i):(i=Fe(r)?as:je.current,i=Fs(t,i));var b=r.getDerivedStateFromProps;(x=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==u||y!==i)&&Ti(t,o,n,i),St=!1,y=t.memoizedState,o.state=y,Ln(t,n,o,a);var N=t.memoizedState;c!==u||y!==N||Oe.current||St?(typeof b=="function"&&(bl(t,r,b,n),N=t.memoizedState),(p=St||Di(t,r,p,n,y,N,i)||!1)?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,N,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,N,i)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),o.props=n,o.state=N,o.context=i,n=p):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return _l(e,t,r,n,l,a)}function _l(e,t,r,n,a,l){Xd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Ni(t,r,!1),jt(e,t,l);n=t.stateNode,Vp.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Is(t,e.child,null,l),t.child=Is(t,null,c,l)):Ce(e,t,c,l),t.memoizedState=n.state,a&&Ni(t,r,!0),t.child}function Yd(e){var t=e.stateNode;t.pendingContext?ji(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(e,t.context,!1),yo(e,t.containerInfo)}function $i(e,t,r,n,a){return Rs(),mo(a),t.flags|=256,Ce(e,t,r,n),t.child}var kl={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function eu(e,t,r){var n=t.pendingProps,a=ne.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ee(ne,a&1),e===null)return yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=aa(o,n,0,null),e=ns(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Cl(r),t.memoizedState=kl,e):Co(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Wp(e,t,o,n,c,a,r);if(l){l=n.fallback,o=t.mode,a=e.child,c=a.sibling;var i={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=i,t.deletions=null):(n=zt(a,i),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=zt(c,l):(l=ns(l,o,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=e.child.memoizedState,o=o===null?Cl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=kl,n}return l=e.child,e=l.sibling,n=zt(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Co(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tn(e,t,r,n){return n!==null&&mo(n),Is(t,e.child,null,r),e=Co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wp(e,t,r,n,a,l,o){if(r)return t.flags&256?(t.flags&=-257,n=Ma(Error(O(422))),tn(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=aa({mode:"visible",children:n.children},a,0,null),l=ns(l,a,o,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Is(t,e.child,null,o),t.child.memoizedState=Cl(o),t.memoizedState=kl,l);if(!(t.mode&1))return tn(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,l=Error(O(419)),n=Ma(l,n,void 0),tn(e,t,o,n)}if(c=(o&e.childLanes)!==0,Le||c){if(n=he,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,wt(e,a),st(n,e,a,-1))}return To(),n=Ma(Error(O(421))),tn(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=nh.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Me=Rt(a.nextSibling),$e=t,re=!0,et=null,e!==null&&(We[He++]=xt,We[He++]=gt,We[He++]=ls,xt=e.id,gt=e.overflow,ls=t),t=Co(t,n.children),t.flags|=4096,t)}function zi(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vl(e.return,t,r)}function $a(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function tu(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(Ce(e,t,n.children,r),n=ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zi(e,r,t);else if(e.tag===19)zi(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(ne,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&On(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),$a(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&On(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}$a(t,!0,r,null,l);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=zt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Hp(e,t,r){switch(t.tag){case 3:Yd(t),Rs();break;case 5:Sd(t);break;case 1:Fe(t.type)&&En(t);break;case 4:yo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ee(Dn,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?eu(e,t,r):(ee(ne,ne.current&1),e=jt(e,t,r),e!==null?e.sibling:null);ee(ne,ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return tu(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ee(ne,ne.current),n)break;return null;case 22:case 23:return t.lanes=0,Jd(e,t,r)}return jt(e,t,r)}var su,Sl,ru,nu;su=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sl=function(){};ru=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ss(it.current);var l=null;switch(r){case"input":a=Ka(e,a),n=Ka(e,n),l=[];break;case"select":a=oe({},a,{value:void 0}),n=oe({},n,{value:void 0}),l=[];break;case"textarea":a=Xa(e,a),n=Xa(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cn)}el(r,n);var o;r=null;for(p in a)if(!n.hasOwnProperty(p)&&a.hasOwnProperty(p)&&a[p]!=null)if(p==="style"){var c=a[p];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(gr.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in n){var i=n[p];if(c=a!=null?a[p]:void 0,n.hasOwnProperty(p)&&i!==c&&(i!=null||c!=null))if(p==="style")if(c){for(o in c)!c.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in i)i.hasOwnProperty(o)&&c[o]!==i[o]&&(r||(r={}),r[o]=i[o])}else r||(l||(l=[]),l.push(p,r)),r=i;else p==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(l=l||[]).push(p,i)):p==="children"?typeof i!="string"&&typeof i!="number"||(l=l||[]).push(p,""+i):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(gr.hasOwnProperty(p)?(i!=null&&p==="onScroll"&&te("scroll",e),l||c===i||(l=[])):(l=l||[]).push(p,i))}r&&(l=l||[]).push("style",r);var p=l;(t.updateQueue=p)&&(t.flags|=4)}};nu=function(e,t,r,n){r!==n&&(t.flags|=4)};function tr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Qp(e,t,r){var n=t.pendingProps;switch(uo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Fe(t.type)&&Sn(),be(t),null;case 3:return n=t.stateNode,Ms(),se(Oe),se(je),bo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Fl(et),et=null))),Sl(e,t),be(t),null;case 5:vo(t);var a=ss(Pr.current);if(r=t.type,e!==null&&t.stateNode!=null)ru(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return be(t),null}if(e=ss(it.current),Yr(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[lt]=t,n[Sr]=l,e=(t.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(a=0;a<lr.length;a++)te(lr[a],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":Ko(n,l),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},te("invalid",n);break;case"textarea":Jo(n,l),te("invalid",n)}el(r,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?n.textContent!==c&&(l.suppressHydrationWarning!==!0&&Xr(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Xr(n.textContent,c,e),a=["children",""+c]):gr.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&te("scroll",n)}switch(r){case"input":Vr(n),Zo(n,l,!0);break;case"textarea":Vr(n),Xo(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Cn)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[lt]=t,e[Sr]=n,su(e,t,!1,!1),t.stateNode=e;e:{switch(o=tl(r,n),r){case"dialog":te("cancel",e),te("close",e),a=n;break;case"iframe":case"object":case"embed":te("load",e),a=n;break;case"video":case"audio":for(a=0;a<lr.length;a++)te(lr[a],e);a=n;break;case"source":te("error",e),a=n;break;case"img":case"image":case"link":te("error",e),te("load",e),a=n;break;case"details":te("toggle",e),a=n;break;case"input":Ko(e,n),a=Ka(e,n),te("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":Jo(e,n),a=Xa(e,n),te("invalid",e);break;default:a=n}el(r,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var i=c[l];l==="style"?Fc(e,i):l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Lc(e,i)):l==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&yr(e,i):typeof i=="number"&&yr(e,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(gr.hasOwnProperty(l)?i!=null&&l==="onScroll"&&te("scroll",e):i!=null&&Kl(e,l,i,o))}switch(r){case"input":Vr(e),Zo(e,n,!1);break;case"textarea":Vr(e),Xo(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qt(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Es(e,!!n.multiple,l,!1):n.defaultValue!=null&&Es(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)nu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=ss(Pr.current),ss(it.current),Yr(t)){if(n=t.stateNode,r=t.memoizedProps,n[lt]=t,(l=n.nodeValue!==r)&&(e=$e,e!==null))switch(e.tag){case 3:Xr(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xr(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=t,t.stateNode=n}return be(t),null;case 13:if(se(ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Me!==null&&t.mode&1&&!(t.flags&128))jd(),Rs(),t.flags|=98560,l=!1;else if(l=Yr(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[lt]=t}else Rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),l=!1}else et!==null&&(Fl(et),et=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?me===0&&(me=3):To())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return Ms(),Sl(e,t),e===null&&kr(t.stateNode.containerInfo),be(t),null;case 10:return fo(t.type._context),be(t),null;case 17:return Fe(t.type)&&Sn(),be(t),null;case 19:if(se(ne),l=t.memoizedState,l===null)return be(t),null;if(n=(t.flags&128)!==0,o=l.rendering,o===null)if(n)tr(l,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=On(e),o!==null){for(t.flags|=128,tr(l,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(ne,ne.current&1|2),t.child}e=e.sibling}l.tail!==null&&ce()>zs&&(t.flags|=128,n=!0,tr(l,!1),t.lanes=4194304)}else{if(!n)if(e=On(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!re)return be(t),null}else 2*ce()-l.renderingStartTime>zs&&r!==1073741824&&(t.flags|=128,n=!0,tr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ce(),t.sibling=null,r=ne.current,ee(ne,n?r&1|2:r&1),t):(be(t),null);case 22:case 23:return Do(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ie&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Gp(e,t){switch(uo(t),t.tag){case 1:return Fe(t.type)&&Sn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),se(Oe),se(je),bo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vo(t),null;case 13:if(se(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ne),null;case 4:return Ms(),null;case 10:return fo(t.type._context),null;case 22:case 23:return Do(),null;case 24:return null;default:return null}}var sn=!1,we=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,$=null;function ks(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ie(e,t,n)}else r.current=null}function El(e,t,r){try{r()}catch(n){ie(e,t,n)}}var Ui=!1;function Zp(e,t){if(ul=Nn,e=cd(),io(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,c=-1,i=-1,p=0,x=0,u=e,y=null;t:for(;;){for(var b;u!==r||a!==0&&u.nodeType!==3||(c=o+a),u!==l||n!==0&&u.nodeType!==3||(i=o+n),u.nodeType===3&&(o+=u.nodeValue.length),(b=u.firstChild)!==null;)y=u,u=b;for(;;){if(u===e)break t;if(y===r&&++p===a&&(c=o),y===l&&++x===n&&(i=o),(b=u.nextSibling)!==null)break;u=y,y=u.parentNode}u=b}r=c===-1||i===-1?null:{start:c,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(ml={focusedElem:e,selectionRange:r},Nn=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var C=N.memoizedProps,k=N.memoizedState,f=t.stateNode,h=f.getSnapshotBeforeUpdate(t.elementType===t.type?C:Xe(t.type,C),k);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(g){ie(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return N=Ui,Ui=!1,N}function pr(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&El(t,r,l)}a=a.next}while(a!==n)}}function ra(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function au(e){var t=e.alternate;t!==null&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[Sr],delete t[fl],delete t[Tp],delete t[Lp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lu(e){return e.tag===5||e.tag===3||e.tag===4}function qi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Al(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cn));else if(n!==4&&(e=e.child,e!==null))for(Al(e,t,r),e=e.sibling;e!==null;)Al(e,t,r),e=e.sibling}function Dl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Dl(e,t,r),e=e.sibling;e!==null;)Dl(e,t,r),e=e.sibling}var xe=null,Ye=!1;function kt(e,t,r){for(r=r.child;r!==null;)ou(e,t,r),r=r.sibling}function ou(e,t,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Kn,r)}catch{}switch(r.tag){case 5:we||ks(r,t);case 6:var n=xe,a=Ye;xe=null,kt(e,t,r),xe=n,Ye=a,xe!==null&&(Ye?(e=xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xe.removeChild(r.stateNode));break;case 18:xe!==null&&(Ye?(e=xe,r=r.stateNode,e.nodeType===8?Ta(e.parentNode,r):e.nodeType===1&&Ta(e,r),jr(e)):Ta(xe,r.stateNode));break;case 4:n=xe,a=Ye,xe=r.stateNode.containerInfo,Ye=!0,kt(e,t,r),xe=n,Ye=a;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&El(r,t,o),a=a.next}while(a!==n)}kt(e,t,r);break;case 1:if(!we&&(ks(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){ie(r,t,c)}kt(e,t,r);break;case 21:kt(e,t,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,kt(e,t,r),we=n):kt(e,t,r);break;default:kt(e,t,r)}}function Bi(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Kp),t.forEach(function(n){var a=ah.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Je(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:xe=c.stateNode,Ye=!1;break e;case 3:xe=c.stateNode.containerInfo,Ye=!0;break e;case 4:xe=c.stateNode.containerInfo,Ye=!0;break e}c=c.return}if(xe===null)throw Error(O(160));ou(l,o,a),xe=null,Ye=!1;var i=a.alternate;i!==null&&(i.return=null),a.return=null}catch(p){ie(a,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iu(t,e),t=t.sibling}function iu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),nt(e),n&4){try{pr(3,e,e.return),ra(3,e)}catch(C){ie(e,e.return,C)}try{pr(5,e,e.return)}catch(C){ie(e,e.return,C)}}break;case 1:Je(t,e),nt(e),n&512&&r!==null&&ks(r,r.return);break;case 5:if(Je(t,e),nt(e),n&512&&r!==null&&ks(r,r.return),e.flags&32){var a=e.stateNode;try{yr(a,"")}catch(C){ie(e,e.return,C)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Ac(a,l),tl(c,o);var p=tl(c,l);for(o=0;o<i.length;o+=2){var x=i[o],u=i[o+1];x==="style"?Fc(a,u):x==="dangerouslySetInnerHTML"?Lc(a,u):x==="children"?yr(a,u):Kl(a,x,u,p)}switch(c){case"input":Za(a,l);break;case"textarea":Dc(a,l);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var b=l.value;b!=null?Es(a,!!l.multiple,b,!1):y!==!!l.multiple&&(l.defaultValue!=null?Es(a,!!l.multiple,l.defaultValue,!0):Es(a,!!l.multiple,l.multiple?[]:"",!1))}a[Sr]=l}catch(C){ie(e,e.return,C)}}break;case 6:if(Je(t,e),nt(e),n&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(C){ie(e,e.return,C)}}break;case 3:if(Je(t,e),nt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jr(t.containerInfo)}catch(C){ie(e,e.return,C)}break;case 4:Je(t,e),nt(e);break;case 13:Je(t,e),nt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Po=ce())),n&4&&Bi(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(we=(p=we)||x,Je(t,e),we=p):Je(t,e),nt(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!x&&e.mode&1)for($=e,x=e.child;x!==null;){for(u=$=x;$!==null;){switch(y=$,b=y.child,y.tag){case 0:case 11:case 14:case 15:pr(4,y,y.return);break;case 1:ks(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(C){ie(n,r,C)}}break;case 5:ks(y,y.return);break;case 22:if(y.memoizedState!==null){Wi(u);continue}}b!==null?(b.return=y,$=b):Wi(u)}x=x.sibling}e:for(x=null,u=e;;){if(u.tag===5){if(x===null){x=u;try{a=u.stateNode,p?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=u.stateNode,i=u.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=Oc("display",o))}catch(C){ie(e,e.return,C)}}}else if(u.tag===6){if(x===null)try{u.stateNode.nodeValue=p?"":u.memoizedProps}catch(C){ie(e,e.return,C)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;x===u&&(x=null),u=u.return}x===u&&(x=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Je(t,e),nt(e),n&4&&Bi(e);break;case 21:break;default:Je(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lu(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(yr(a,""),n.flags&=-33);var l=qi(e);Dl(e,l,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=qi(e);Al(e,c,o);break;default:throw Error(O(161))}}catch(i){ie(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jp(e,t,r){$=e,cu(e)}function cu(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var a=$,l=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||sn;if(!o){var c=a.alternate,i=c!==null&&c.memoizedState!==null||we;c=sn;var p=we;if(sn=o,(we=i)&&!p)for($=a;$!==null;)o=$,i=o.child,o.tag===22&&o.memoizedState!==null?Hi(a):i!==null?(i.return=o,$=i):Hi(a);for(;l!==null;)$=l,cu(l),l=l.sibling;$=a,sn=c,we=p}Vi(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,$=l):Vi(e)}}function Vi(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||ra(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!we)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Xe(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ei(t,l,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ei(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var x=p.memoizedState;if(x!==null){var u=x.dehydrated;u!==null&&jr(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}we||t.flags&512&&Pl(t)}catch(y){ie(t,t.return,y)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Wi(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Hi(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ra(4,t)}catch(i){ie(t,r,i)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(i){ie(t,a,i)}}var l=t.return;try{Pl(t)}catch(i){ie(t,l,i)}break;case 5:var o=t.return;try{Pl(t)}catch(i){ie(t,o,i)}}}catch(i){ie(t,t.return,i)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var Xp=Math.ceil,In=Nt.ReactCurrentDispatcher,So=Nt.ReactCurrentOwner,Ge=Nt.ReactCurrentBatchConfig,G=0,he=null,de=null,ge=0,Ie=0,Cs=Qt(0),me=0,Lr=null,is=0,na=0,Eo=0,hr=null,Te=null,Po=0,zs=1/0,ht=null,Mn=!1,Tl=null,Mt=null,rn=!1,Dt=null,$n=0,fr=0,Ll=null,fn=-1,xn=0;function Se(){return G&6?ce():fn!==-1?fn:fn=ce()}function $t(e){return e.mode&1?G&2&&ge!==0?ge&-ge:Fp.transition!==null?(xn===0&&(xn=Qc()),xn):(e=J,e!==0||(e=window.event,e=e===void 0?16:ed(e.type)),e):1}function st(e,t,r,n){if(50<fr)throw fr=0,Ll=null,Error(O(185));Ir(e,r,n),(!(G&2)||e!==he)&&(e===he&&(!(G&2)&&(na|=r),me===4&&Pt(e,ge)),Re(e,n),r===1&&G===0&&!(t.mode&1)&&(zs=ce()+500,ea&&Gt()))}function Re(e,t){var r=e.callbackNode;Fm(e,t);var n=jn(e,e===he?ge:0);if(n===0)r!==null&&ti(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ti(r),t===1)e.tag===0?Op(Qi.bind(null,e)):vd(Qi.bind(null,e)),Ap(function(){!(G&6)&&Gt()}),r=null;else{switch(Gc(n)){case 1:r=eo;break;case 4:r=Wc;break;case 16:r=wn;break;case 536870912:r=Hc;break;default:r=wn}r=gu(r,du.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function du(e,t){if(fn=-1,xn=0,G&6)throw Error(O(327));var r=e.callbackNode;if(Ls()&&e.callbackNode!==r)return null;var n=jn(e,e===he?ge:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zn(e,n);else{t=n;var a=G;G|=2;var l=mu();(he!==e||ge!==t)&&(ht=null,zs=ce()+500,rs(e,t));do try{th();break}catch(c){uu(e,c)}while(1);ho(),In.current=l,G=a,de!==null?t=0:(he=null,ge=0,t=me)}if(t!==0){if(t===2&&(a=ll(e),a!==0&&(n=a,t=Ol(e,a))),t===1)throw r=Lr,rs(e,0),Pt(e,n),Re(e,ce()),r;if(t===6)Pt(e,n);else{if(a=e.current.alternate,!(n&30)&&!Yp(a)&&(t=zn(e,n),t===2&&(l=ll(e),l!==0&&(n=l,t=Ol(e,l))),t===1))throw r=Lr,rs(e,0),Pt(e,n),Re(e,ce()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:Xt(e,Te,ht);break;case 3:if(Pt(e,n),(n&130023424)===n&&(t=Po+500-ce(),10<t)){if(jn(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Se(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=hl(Xt.bind(null,e,Te,ht),t);break}Xt(e,Te,ht);break;case 4:if(Pt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-tt(n);l=1<<o,o=t[o],o>a&&(a=o),n&=~l}if(n=a,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xp(n/1960))-n,10<n){e.timeoutHandle=hl(Xt.bind(null,e,Te,ht),n);break}Xt(e,Te,ht);break;case 5:Xt(e,Te,ht);break;default:throw Error(O(329))}}}return Re(e,ce()),e.callbackNode===r?du.bind(null,e):null}function Ol(e,t){var r=hr;return e.current.memoizedState.isDehydrated&&(rs(e,t).flags|=256),e=zn(e,t),e!==2&&(t=Te,Te=r,t!==null&&Fl(t)),e}function Fl(e){Te===null?Te=e:Te.push.apply(Te,e)}function Yp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!rt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pt(e,t){for(t&=~Eo,t&=~na,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tt(t),n=1<<r;e[r]=-1,t&=~n}}function Qi(e){if(G&6)throw Error(O(327));Ls();var t=jn(e,0);if(!(t&1))return Re(e,ce()),null;var r=zn(e,t);if(e.tag!==0&&r===2){var n=ll(e);n!==0&&(t=n,r=Ol(e,n))}if(r===1)throw r=Lr,rs(e,0),Pt(e,t),Re(e,ce()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,Te,ht),Re(e,ce()),null}function Ao(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(zs=ce()+500,ea&&Gt())}}function cs(e){Dt!==null&&Dt.tag===0&&!(G&6)&&Ls();var t=G;G|=1;var r=Ge.transition,n=J;try{if(Ge.transition=null,J=1,e)return e()}finally{J=n,Ge.transition=r,G=t,!(G&6)&&Gt()}}function Do(){Ie=Cs.current,se(Cs)}function rs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pp(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(uo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sn();break;case 3:Ms(),se(Oe),se(je),bo();break;case 5:vo(n);break;case 4:Ms();break;case 13:se(ne);break;case 19:se(ne);break;case 10:fo(n.type._context);break;case 22:case 23:Do()}r=r.return}if(he=e,de=e=zt(e.current,null),ge=Ie=t,me=0,Lr=null,Eo=na=is=0,Te=hr=null,ts!==null){for(t=0;t<ts.length;t++)if(r=ts[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var o=l.next;l.next=a,n.next=o}r.pending=n}ts=null}return e}function uu(e,t){do{var r=de;try{if(ho(),mn.current=Rn,Fn){for(var n=ae.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Fn=!1}if(os=0,pe=ue=ae=null,mr=!1,Ar=0,So.current=null,r===null||r.return===null){me=1,Lr=t,de=null;break}e:{var l=e,o=r.return,c=r,i=t;if(t=ge,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var p=i,x=c,u=x.tag;if(!(x.mode&1)&&(u===0||u===11||u===15)){var y=x.alternate;y?(x.updateQueue=y.updateQueue,x.memoizedState=y.memoizedState,x.lanes=y.lanes):(x.updateQueue=null,x.memoizedState=null)}var b=Oi(o);if(b!==null){b.flags&=-257,Fi(b,o,c,l,t),b.mode&1&&Li(l,p,t),t=b,i=p;var N=t.updateQueue;if(N===null){var C=new Set;C.add(i),t.updateQueue=C}else N.add(i);break e}else{if(!(t&1)){Li(l,p,t),To();break e}i=Error(O(426))}}else if(re&&c.mode&1){var k=Oi(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Fi(k,o,c,l,t),mo($s(i,c));break e}}l=i=$s(i,c),me!==4&&(me=2),hr===null?hr=[l]:hr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=Gd(l,i,t);Si(l,f);break e;case 1:c=i;var h=l.type,d=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mt===null||!Mt.has(d)))){l.flags|=65536,t&=-t,l.lanes|=t;var g=Kd(l,c,t);Si(l,g);break e}}l=l.return}while(l!==null)}hu(r)}catch(_){t=_,de===r&&r!==null&&(de=r=r.return);continue}break}while(1)}function mu(){var e=In.current;return In.current=Rn,e===null?Rn:e}function To(){(me===0||me===3||me===2)&&(me=4),he===null||!(is&268435455)&&!(na&268435455)||Pt(he,ge)}function zn(e,t){var r=G;G|=2;var n=mu();(he!==e||ge!==t)&&(ht=null,rs(e,t));do try{eh();break}catch(a){uu(e,a)}while(1);if(ho(),G=r,In.current=n,de!==null)throw Error(O(261));return he=null,ge=0,me}function eh(){for(;de!==null;)pu(de)}function th(){for(;de!==null&&!Cm();)pu(de)}function pu(e){var t=xu(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?hu(e):de=t,So.current=null}function hu(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Gp(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(r=Qp(r,t,Ie),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function Xt(e,t,r){var n=J,a=Ge.transition;try{Ge.transition=null,J=1,sh(e,t,r,n)}finally{Ge.transition=a,J=n}return null}function sh(e,t,r,n){do Ls();while(Dt!==null);if(G&6)throw Error(O(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Rm(e,l),e===he&&(de=he=null,ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rn||(rn=!0,gu(wn,function(){return Ls(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Ge.transition,Ge.transition=null;var o=J;J=1;var c=G;G|=4,So.current=null,Zp(e,r),iu(r,e),jp(ml),Nn=!!ul,ml=ul=null,e.current=r,Jp(r),Sm(),G=c,J=o,Ge.transition=l}else e.current=r;if(rn&&(rn=!1,Dt=e,$n=a),l=e.pendingLanes,l===0&&(Mt=null),Am(r.stateNode),Re(e,ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Mn)throw Mn=!1,e=Tl,Tl=null,e;return $n&1&&e.tag!==0&&Ls(),l=e.pendingLanes,l&1?e===Ll?fr++:(fr=0,Ll=e):fr=0,Gt(),null}function Ls(){if(Dt!==null){var e=Gc($n),t=Ge.transition,r=J;try{if(Ge.transition=null,J=16>e?16:e,Dt===null)var n=!1;else{if(e=Dt,Dt=null,$n=0,G&6)throw Error(O(331));var a=G;for(G|=4,$=e.current;$!==null;){var l=$,o=l.child;if($.flags&16){var c=l.deletions;if(c!==null){for(var i=0;i<c.length;i++){var p=c[i];for($=p;$!==null;){var x=$;switch(x.tag){case 0:case 11:case 15:pr(8,x,l)}var u=x.child;if(u!==null)u.return=x,$=u;else for(;$!==null;){x=$;var y=x.sibling,b=x.return;if(au(x),x===p){$=null;break}if(y!==null){y.return=b,$=y;break}$=b}}}var N=l.alternate;if(N!==null){var C=N.child;if(C!==null){N.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}$=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,$=o;else e:for(;$!==null;){if(l=$,l.flags&2048)switch(l.tag){case 0:case 11:case 15:pr(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,$=f;break e}$=l.return}}var h=e.current;for($=h;$!==null;){o=$;var d=o.child;if(o.subtreeFlags&2064&&d!==null)d.return=o,$=d;else e:for(o=h;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ra(9,c)}}catch(_){ie(c,c.return,_)}if(c===o){$=null;break e}var g=c.sibling;if(g!==null){g.return=c.return,$=g;break e}$=c.return}}if(G=a,Gt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Kn,e)}catch{}n=!0}return n}finally{J=r,Ge.transition=t}}return!1}function Gi(e,t,r){t=$s(r,t),t=Gd(e,t,1),e=It(e,t,1),t=Se(),e!==null&&(Ir(e,1,t),Re(e,t))}function ie(e,t,r){if(e.tag===3)Gi(e,e,r);else for(;t!==null;){if(t.tag===3){Gi(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mt===null||!Mt.has(n))){e=$s(r,e),e=Kd(t,e,1),t=It(t,e,1),e=Se(),t!==null&&(Ir(t,1,e),Re(t,e));break}}t=t.return}}function rh(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&r,he===e&&(ge&r)===r&&(me===4||me===3&&(ge&130023424)===ge&&500>ce()-Po?rs(e,0):Eo|=r),Re(e,t)}function fu(e,t){t===0&&(e.mode&1?(t=Qr,Qr<<=1,!(Qr&130023424)&&(Qr=4194304)):t=1);var r=Se();e=wt(e,t),e!==null&&(Ir(e,t,r),Re(e,r))}function nh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fu(e,r)}function ah(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),fu(e,r)}var xu;xu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Le=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Le=!1,Hp(e,t,r);Le=!!(e.flags&131072)}else Le=!1,re&&t.flags&1048576&&bd(t,An,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hn(e,t),e=t.pendingProps;var a=Fs(t,je.current);Ts(t,r),a=jo(null,t,n,e,a,r);var l=No();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(n)?(l=!0,En(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,go(t),a.updater=sa,t.stateNode=a,a._reactInternals=t,wl(t,n,e,r),t=_l(null,t,n,!0,l,r)):(t.tag=0,re&&l&&co(t),Ce(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hn(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=oh(n),e=Xe(n,e),a){case 0:t=Nl(null,t,n,e,r);break e;case 1:t=Mi(null,t,n,e,r);break e;case 11:t=Ri(null,t,n,e,r);break e;case 14:t=Ii(null,t,n,Xe(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xe(n,a),Nl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xe(n,a),Mi(e,t,n,a,r);case 3:e:{if(Yd(t),e===null)throw Error(O(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Cd(e,t),Ln(t,n,null,r);var o=t.memoizedState;if(n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=$s(Error(O(423)),t),t=$i(e,t,n,r,a);break e}else if(n!==a){a=$s(Error(O(424)),t),t=$i(e,t,n,r,a);break e}else for(Me=Rt(t.stateNode.containerInfo.firstChild),$e=t,re=!0,et=null,r=_d(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rs(),n===a){t=jt(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return Sd(t),e===null&&yl(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,pl(n,a)?o=null:l!==null&&pl(n,l)&&(t.flags|=32),Xd(e,t),Ce(e,t,o,r),t.child;case 6:return e===null&&yl(t),null;case 13:return eu(e,t,r);case 4:return yo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Is(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xe(n,a),Ri(e,t,n,a,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,ee(Dn,n._currentValue),n._currentValue=o,l!==null)if(rt(l.value,o)){if(l.children===a.children&&!Oe.current){t=jt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var i=c.firstContext;i!==null;){if(i.context===n){if(l.tag===1){i=yt(-1,r&-r),i.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var x=p.pending;x===null?i.next=i:(i.next=x.next,x.next=i),p.pending=i}}l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),vl(l.return,r,t),c.lanes|=r;break}i=i.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(O(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),vl(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ce(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ts(t,r),a=Ke(a),n=n(a),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,a=Xe(n,t.pendingProps),a=Xe(n.type,a),Ii(e,t,n,a,r);case 15:return Zd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xe(n,a),hn(e,t),t.tag=1,Fe(n)?(e=!0,En(t)):e=!1,Ts(t,r),Qd(t,n,a),wl(t,n,a,r),_l(null,t,n,!0,e,r);case 19:return tu(e,t,r);case 22:return Jd(e,t,r)}throw Error(O(156,t.tag))};function gu(e,t){return Vc(e,t)}function lh(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,r,n){return new lh(e,t,r,n)}function Lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oh(e){if(typeof e=="function")return Lo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jl)return 11;if(e===Xl)return 14}return 2}function zt(e,t){var r=e.alternate;return r===null?(r=Qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gn(e,t,r,n,a,l){var o=2;if(n=e,typeof e=="function")Lo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xs:return ns(r.children,a,l,t);case Zl:o=8,a|=8;break;case Wa:return e=Qe(12,r,t,a|2),e.elementType=Wa,e.lanes=l,e;case Ha:return e=Qe(13,r,t,a),e.elementType=Ha,e.lanes=l,e;case Qa:return e=Qe(19,r,t,a),e.elementType=Qa,e.lanes=l,e;case Sc:return aa(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kc:o=10;break e;case Cc:o=9;break e;case Jl:o=11;break e;case Xl:o=14;break e;case Ct:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Qe(o,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function ns(e,t,r,n){return e=Qe(7,e,n,t),e.lanes=r,e}function aa(e,t,r,n){return e=Qe(22,e,n,t),e.elementType=Sc,e.lanes=r,e.stateNode={isHidden:!1},e}function za(e,t,r){return e=Qe(6,e,null,t),e.lanes=r,e}function Ua(e,t,r){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ih(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Oo(e,t,r,n,a,l,o,c,i){return e=new ih(e,t,r,c,i),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Qe(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},go(l),e}function ch(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function yu(e){if(!e)return Bt;e=e._reactInternals;e:{if(us(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Fe(r))return yd(e,r,t)}return t}function vu(e,t,r,n,a,l,o,c,i){return e=Oo(r,n,!0,e,a,l,o,c,i),e.context=yu(null),r=e.current,n=Se(),a=$t(r),l=yt(n,a),l.callback=t??null,It(r,l,a),e.current.lanes=a,Ir(e,a,n),Re(e,n),e}function la(e,t,r,n){var a=t.current,l=Se(),o=$t(a);return r=yu(r),t.context===null?t.context=r:t.pendingContext=r,t=yt(l,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=It(a,t,o),e!==null&&(st(e,a,o,l),un(e,a,o)),o}function Un(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ki(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fo(e,t){Ki(e,t),(e=e.alternate)&&Ki(e,t)}function dh(){return null}var bu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ro(e){this._internalRoot=e}oa.prototype.render=Ro.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));la(e,t,null,null)};oa.prototype.unmount=Ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cs(function(){la(null,e,null,null)}),t[bt]=null}};function oa(e){this._internalRoot=e}oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Et.length&&t!==0&&t<Et[r].priority;r++);Et.splice(r,0,e),r===0&&Yc(e)}};function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zi(){}function uh(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var p=Un(o);l.call(p)}}var o=vu(t,n,e,0,null,!1,!1,"",Zi);return e._reactRootContainer=o,e[bt]=o.current,kr(e.nodeType===8?e.parentNode:e),cs(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var p=Un(i);c.call(p)}}var i=Oo(e,0,!1,null,null,!1,!1,"",Zi);return e._reactRootContainer=i,e[bt]=i.current,kr(e.nodeType===8?e.parentNode:e),cs(function(){la(t,i,r,n)}),i}function ca(e,t,r,n,a){var l=r._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var c=a;a=function(){var i=Un(o);c.call(i)}}la(t,o,e,a)}else o=uh(r,t,e,a,n);return Un(o)}Kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ar(t.pendingLanes);r!==0&&(to(t,r|1),Re(t,ce()),!(G&6)&&(zs=ce()+500,Gt()))}break;case 13:cs(function(){var n=wt(e,1);if(n!==null){var a=Se();st(n,e,1,a)}}),Fo(e,1)}};so=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var r=Se();st(t,e,134217728,r)}Fo(e,134217728)}};Zc=function(e){if(e.tag===13){var t=$t(e),r=wt(e,t);if(r!==null){var n=Se();st(r,e,t,n)}Fo(e,t)}};Jc=function(){return J};Xc=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};rl=function(e,t,r){switch(t){case"input":if(Za(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Yn(n);if(!a)throw Error(O(90));Pc(n),Za(n,a)}}}break;case"textarea":Dc(e,r);break;case"select":t=r.value,t!=null&&Es(e,!!r.multiple,t,!1)}};Mc=Ao;$c=cs;var mh={usingClientEntryPoint:!1,Events:[$r,bs,Yn,Rc,Ic,Ao]},sr={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ph={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qc(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||dh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nn.isDisabled&&nn.supportsFiber)try{Kn=nn.inject(ph),ot=nn}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mh;Ue.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Io(t))throw Error(O(200));return ch(e,t,null,r)};Ue.createRoot=function(e,t){if(!Io(e))throw Error(O(299));var r=!1,n="",a=bu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Oo(e,1,!1,null,null,r,!1,n,a),e[bt]=t.current,kr(e.nodeType===8?e.parentNode:e),new Ro(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=qc(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return cs(e)};Ue.hydrate=function(e,t,r){if(!ia(t))throw Error(O(200));return ca(null,e,t,!0,r)};Ue.hydrateRoot=function(e,t,r){if(!Io(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",o=bu;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=vu(t,null,e,1,r??null,a,!1,l,o),e[bt]=t.current,kr(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new oa(t)};Ue.render=function(e,t,r){if(!ia(t))throw Error(O(200));return ca(null,e,t,!1,r)};Ue.unmountComponentAtNode=function(e){if(!ia(e))throw Error(O(40));return e._reactRootContainer?(cs(function(){ca(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Ue.unstable_batchedUpdates=Ao;Ue.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ia(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return ca(e,t,r,!1,n)};Ue.version="18.3.1-next-f1338f8080-20240426";function wu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wu)}catch(e){console.error(e)}}wu(),wc.exports=Ue;var hh=wc.exports,Ji=hh;Ba.createRoot=Ji.createRoot,Ba.hydrateRoot=Ji.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Or.apply(this,arguments)}var Tt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tt||(Tt={}));const Xi="popstate";function fh(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:o,hash:c}=n.location;return Rl("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:qn(a)}return gh(t,r,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xh(){return Math.random().toString(36).substr(2,8)}function Yi(e,t){return{usr:e.state,key:e.key,idx:t}}function Rl(e,t,r,n){return r===void 0&&(r=null),Or({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ws(t):t,{state:r,key:t&&t.key||n||xh()})}function qn(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ws(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function gh(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,o=a.history,c=Tt.Pop,i=null,p=x();p==null&&(p=0,o.replaceState(Or({},o.state,{idx:p}),""));function x(){return(o.state||{idx:null}).idx}function u(){c=Tt.Pop;let k=x(),f=k==null?null:k-p;p=k,i&&i({action:c,location:C.location,delta:f})}function y(k,f){c=Tt.Push;let h=Rl(C.location,k,f);r&&r(h,k),p=x()+1;let d=Yi(h,p),g=C.createHref(h);try{o.pushState(d,"",g)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(g)}l&&i&&i({action:c,location:C.location,delta:1})}function b(k,f){c=Tt.Replace;let h=Rl(C.location,k,f);r&&r(h,k),p=x();let d=Yi(h,p),g=C.createHref(h);o.replaceState(d,"",g),l&&i&&i({action:c,location:C.location,delta:0})}function N(k){let f=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof k=="string"?k:qn(k);return h=h.replace(/ $/,"%20"),le(f,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,f)}let C={get action(){return c},get location(){return e(a,o)},listen(k){if(i)throw new Error("A history only accepts one active listener");return a.addEventListener(Xi,u),i=k,()=>{a.removeEventListener(Xi,u),i=null}},createHref(k){return t(a,k)},createURL:N,encodeLocation(k){let f=N(k);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:y,replace:b,go(k){return o.go(k)}};return C}var ec;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ec||(ec={}));function yh(e,t,r){return r===void 0&&(r="/"),vh(e,t,r,!1)}function vh(e,t,r,n){let a=typeof t=="string"?Ws(t):t,l=Us(a.pathname||"/",r);if(l==null)return null;let o=ju(e);bh(o);let c=null;for(let i=0;c==null&&i<o.length;++i){let p=Dh(l);c=Ph(o[i],p,n)}return c}function ju(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,o,c)=>{let i={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};i.relativePath.startsWith("/")&&(le(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(n.length));let p=Ut([n,i.relativePath]),x=r.concat(i);l.children&&l.children.length>0&&(le(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),ju(l.children,t,x,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:Sh(p,l.index),routesMeta:x})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))a(l,o);else for(let i of Nu(l.path))a(l,o,i)}),t}function Nu(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let o=Nu(n.join("/")),c=[];return c.push(...o.map(i=>i===""?l:[l,i].join("/"))),a&&c.push(...o),c.map(i=>e.startsWith("/")&&i===""?"/":i)}function bh(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Eh(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const wh=/^:[\w-]+$/,jh=3,Nh=2,_h=1,kh=10,Ch=-2,tc=e=>e==="*";function Sh(e,t){let r=e.split("/"),n=r.length;return r.some(tc)&&(n+=Ch),t&&(n+=Nh),r.filter(a=>!tc(a)).reduce((a,l)=>a+(wh.test(l)?jh:l===""?_h:kh),n)}function Eh(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Ph(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},l="/",o=[];for(let c=0;c<n.length;++c){let i=n[c],p=c===n.length-1,x=l==="/"?t:t.slice(l.length)||"/",u=Bn({path:i.relativePath,caseSensitive:i.caseSensitive,end:p},x),y=i.route;if(!u&&p&&r&&!n[n.length-1].route.index&&(u=Bn({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},x)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Ut([l,u.pathname]),pathnameBase:Rh(Ut([l,u.pathnameBase])),route:y}),u.pathnameBase!=="/"&&(l=Ut([l,u.pathnameBase]))}return o}function Bn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ah(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((p,x,u)=>{let{paramName:y,isOptional:b}=x;if(y==="*"){let C=c[u]||"";o=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const N=c[u];return b&&!N?p[y]=void 0:p[y]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:o,pattern:e}}function Ah(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Mo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,i)=>(n.push({paramName:c,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Dh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Us(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Th=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lh=e=>Th.test(e);function Oh(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ws(e):e,l;if(r)if(Lh(r))l=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Mo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?l=sc(r.substring(1),"/"):l=sc(r,t)}else l=t;return{pathname:l,search:Ih(n),hash:Mh(a)}}function sc(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function qa(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fh(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $o(e,t){let r=Fh(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zo(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ws(e):(a=Or({},e),le(!a.pathname||!a.pathname.includes("?"),qa("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),qa("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),qa("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,c;if(o==null)c=r;else{let u=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),u-=1;a.pathname=y.join("/")}c=u>=0?t[u]:"/"}let i=Oh(a,c),p=o&&o!=="/"&&o.endsWith("/"),x=(l||o===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(p||x)&&(i.pathname+="/"),i}const Ut=e=>e.join("/").replace(/\/\/+/g,"/"),Rh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ih=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $h(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _u=["post","put","patch","delete"];new Set(_u);const zh=["get",..._u];new Set(zh);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fr.apply(this,arguments)}const da=v.createContext(null),ku=v.createContext(null),_t=v.createContext(null),ua=v.createContext(null),pt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Cu=v.createContext(null);function Uh(e,t){let{relative:r}=t===void 0?{}:t;Hs()||le(!1);let{basename:n,navigator:a}=v.useContext(_t),{hash:l,pathname:o,search:c}=ma(e,{relative:r}),i=o;return n!=="/"&&(i=o==="/"?n:Ut([n,o])),a.createHref({pathname:i,search:c,hash:l})}function Hs(){return v.useContext(ua)!=null}function Kt(){return Hs()||le(!1),v.useContext(ua).location}function Su(e){v.useContext(_t).static||v.useLayoutEffect(e)}function ms(){let{isDataRoute:e}=v.useContext(pt);return e?rf():qh()}function qh(){Hs()||le(!1);let e=v.useContext(da),{basename:t,future:r,navigator:n}=v.useContext(_t),{matches:a}=v.useContext(pt),{pathname:l}=Kt(),o=JSON.stringify($o(a,r.v7_relativeSplatPath)),c=v.useRef(!1);return Su(()=>{c.current=!0}),v.useCallback(function(p,x){if(x===void 0&&(x={}),!c.current)return;if(typeof p=="number"){n.go(p);return}let u=zo(p,JSON.parse(o),l,x.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ut([t,u.pathname])),(x.replace?n.replace:n.push)(u,x.state,x)},[t,n,o,l,e])}const Bh=v.createContext(null);function Vh(e){let t=v.useContext(pt).outlet;return t&&v.createElement(Bh.Provider,{value:e},t)}function Wh(){let{matches:e}=v.useContext(pt),t=e[e.length-1];return t?t.params:{}}function ma(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(_t),{matches:a}=v.useContext(pt),{pathname:l}=Kt(),o=JSON.stringify($o(a,n.v7_relativeSplatPath));return v.useMemo(()=>zo(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function Hh(e,t){return Qh(e,t)}function Qh(e,t,r,n){Hs()||le(!1);let{navigator:a}=v.useContext(_t),{matches:l}=v.useContext(pt),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let i=o?o.pathnameBase:"/";o&&o.route;let p=Kt(),x;if(t){var u;let k=typeof t=="string"?Ws(t):t;i==="/"||(u=k.pathname)!=null&&u.startsWith(i)||le(!1),x=k}else x=p;let y=x.pathname||"/",b=y;if(i!=="/"){let k=i.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=yh(e,{pathname:b}),C=Xh(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Ut([i,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?i:Ut([i,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,r,n);return t&&C?v.createElement(ua.Provider,{value:{location:Fr({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Tt.Pop}},C):C}function Gh(){let e=sf(),t=$h(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,l)}const Kh=v.createElement(Gh,null);class Zh extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(pt.Provider,{value:this.props.routeContext},v.createElement(Cu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jh(e){let{routeContext:t,match:r,children:n}=e,a=v.useContext(da);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(pt.Provider,{value:t},n)}function Xh(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=(a=r)==null?void 0:a.errors;if(c!=null){let x=o.findIndex(u=>u.route.id&&(c==null?void 0:c[u.route.id])!==void 0);x>=0||le(!1),o=o.slice(0,Math.min(o.length,x+1))}let i=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let x=0;x<o.length;x++){let u=o[x];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(p=x),u.route.id){let{loaderData:y,errors:b}=r,N=u.route.loader&&y[u.route.id]===void 0&&(!b||b[u.route.id]===void 0);if(u.route.lazy||N){i=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((x,u,y)=>{let b,N=!1,C=null,k=null;r&&(b=c&&u.route.id?c[u.route.id]:void 0,C=u.route.errorElement||Kh,i&&(p<0&&y===0?(nf("route-fallback",!1),N=!0,k=null):p===y&&(N=!0,k=u.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,y+1)),h=()=>{let d;return b?d=C:N?d=k:u.route.Component?d=v.createElement(u.route.Component,null):u.route.element?d=u.route.element:d=x,v.createElement(Jh,{match:u,routeContext:{outlet:x,matches:f,isDataRoute:r!=null},children:d})};return r&&(u.route.ErrorBoundary||u.route.errorElement||y===0)?v.createElement(Zh,{location:r.location,revalidation:r.revalidation,component:C,error:b,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var Eu=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Eu||{}),Vn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vn||{});function Yh(e){let t=v.useContext(da);return t||le(!1),t}function ef(e){let t=v.useContext(ku);return t||le(!1),t}function tf(e){let t=v.useContext(pt);return t||le(!1),t}function Pu(e){let t=tf(),r=t.matches[t.matches.length-1];return r.route.id||le(!1),r.route.id}function sf(){var e;let t=v.useContext(Cu),r=ef(Vn.UseRouteError),n=Pu(Vn.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function rf(){let{router:e}=Yh(Eu.UseNavigateStable),t=Pu(Vn.UseNavigateStable),r=v.useRef(!1);return Su(()=>{r.current=!0}),v.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Fr({fromRouteId:t},l)))},[e,t])}const rc={};function nf(e,t,r){!t&&!rc[e]&&(rc[e]=!0)}function af(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function lf(e){let{to:t,replace:r,state:n,relative:a}=e;Hs()||le(!1);let{future:l,static:o}=v.useContext(_t),{matches:c}=v.useContext(pt),{pathname:i}=Kt(),p=ms(),x=zo(t,$o(c,l.v7_relativeSplatPath),i,a==="path"),u=JSON.stringify(x);return v.useEffect(()=>p(JSON.parse(u),{replace:r,state:n,relative:a}),[p,u,a,r,n]),null}function of(e){return Vh(e.context)}function De(e){le(!1)}function cf(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Tt.Pop,navigator:l,static:o=!1,future:c}=e;Hs()&&le(!1);let i=t.replace(/^\/*/,"/"),p=v.useMemo(()=>({basename:i,navigator:l,static:o,future:Fr({v7_relativeSplatPath:!1},c)}),[i,c,l,o]);typeof n=="string"&&(n=Ws(n));let{pathname:x="/",search:u="",hash:y="",state:b=null,key:N="default"}=n,C=v.useMemo(()=>{let k=Us(x,i);return k==null?null:{location:{pathname:k,search:u,hash:y,state:b,key:N},navigationType:a}},[i,x,u,y,b,N,a]);return C==null?null:v.createElement(_t.Provider,{value:p},v.createElement(ua.Provider,{children:r,value:C}))}function df(e){let{children:t,location:r}=e;return Hh(Il(t),r)}new Promise(()=>{});function Il(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let l=[...t,a];if(n.type===v.Fragment){r.push.apply(r,Il(n.props.children,l));return}n.type!==De&&le(!1),!n.props.index||!n.props.children||le(!1);let o={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Il(n.props.children,l)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(this,arguments)}function Au(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function uf(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mf(e,t){return e.button===0&&(!t||t==="_self")&&!uf(e)}const pf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hf=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ff="6";try{window.__reactRouterVersion=ff}catch{}const xf=v.createContext({isTransitioning:!1}),gf="startTransition",nc=rm[gf];function yf(e){let{basename:t,children:r,future:n,window:a}=e,l=v.useRef();l.current==null&&(l.current=fh({window:a,v5Compat:!0}));let o=l.current,[c,i]=v.useState({action:o.action,location:o.location}),{v7_startTransition:p}=n||{},x=v.useCallback(u=>{p&&nc?nc(()=>i(u)):i(u)},[i,p]);return v.useLayoutEffect(()=>o.listen(x),[o,x]),v.useEffect(()=>af(n),[n]),v.createElement(cf,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const vf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wf=v.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:o,state:c,target:i,to:p,preventScrollReset:x,viewTransition:u}=t,y=Au(t,pf),{basename:b}=v.useContext(_t),N,C=!1;if(typeof p=="string"&&bf.test(p)&&(N=p,vf))try{let d=new URL(window.location.href),g=p.startsWith("//")?new URL(d.protocol+p):new URL(p),_=Us(g.pathname,b);g.origin===d.origin&&_!=null?p=_+g.search+g.hash:C=!0}catch{}let k=Uh(p,{relative:a}),f=_f(p,{replace:o,state:c,target:i,preventScrollReset:x,relative:a,viewTransition:u});function h(d){n&&n(d),d.defaultPrevented||f(d)}return v.createElement("a",Wn({},y,{href:N||k,onClick:C||l?n:h,ref:r,target:i}))}),jf=v.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:l="",end:o=!1,style:c,to:i,viewTransition:p,children:x}=t,u=Au(t,hf),y=ma(i,{relative:u.relative}),b=Kt(),N=v.useContext(ku),{navigator:C,basename:k}=v.useContext(_t),f=N!=null&&kf(y)&&p===!0,h=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,d=b.pathname,g=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(d=d.toLowerCase(),g=g?g.toLowerCase():null,h=h.toLowerCase()),g&&k&&(g=Us(g,k)||g);const _=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let j=d===h||!o&&d.startsWith(h)&&d.charAt(_)==="/",S=g!=null&&(g===h||!o&&g.startsWith(h)&&g.charAt(h.length)==="/"),m={isActive:j,isPending:S,isTransitioning:f},w=j?n:void 0,E;typeof l=="function"?E=l(m):E=[l,j?"active":null,S?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(m):c;return v.createElement(wf,Wn({},u,{"aria-current":w,className:E,ref:r,style:L,to:i,viewTransition:p}),typeof x=="function"?x(m):x)});var Ml;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ml||(Ml={}));var ac;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ac||(ac={}));function Nf(e){let t=v.useContext(da);return t||le(!1),t}function _f(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:o,viewTransition:c}=t===void 0?{}:t,i=ms(),p=Kt(),x=ma(e,{relative:o});return v.useCallback(u=>{if(mf(u,r)){u.preventDefault();let y=n!==void 0?n:qn(p)===qn(x);i(e,{replace:y,state:a,preventScrollReset:l,relative:o,viewTransition:c})}},[p,i,x,n,a,r,e,l,o,c])}function kf(e,t){t===void 0&&(t={});let r=v.useContext(xf);r==null&&le(!1);let{basename:n}=Nf(Ml.useViewTransitionState),a=ma(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=Us(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Us(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bn(a.pathname,o)!=null||Bn(a.pathname,l)!=null}const Cf={BASE_URL:{}.VITE_API_BASE_URL||"http://192.168.1.22:8000/api"},Sf=Cf.BASE_URL;class Ef{constructor(t){this.baseURL=t,this.defaultHeaders={"Content-Type":"application/json"}}getAuthHeaders(){const t=localStorage.getItem("auth_token");return t?{Authorization:`Bearer ${t}`}:{}}async request(t,r={}){const n=`${this.baseURL}${t}`,a={...this.defaultHeaders,...this.getAuthHeaders(),...r.headers};try{const l=await fetch(n,{...r,headers:a});if(!l.ok){let c;const i=await l.text();try{c=JSON.parse(i)}catch(u){console.error("Failed to parse error response as JSON:",u),c={rawResponse:i}}console.error("API Error Response:",c),console.error("Status:",l.status),console.error("Status Text:",l.statusText);const p=l.headers.get("content-type");if(p&&p.includes("text/html"))throw new Error(`Server returned HTML error page instead of JSON. Status: ${l.status}. Raw response: ${i.substring(0,200)}...`);l.status===401&&localStorage.removeItem("auth_token");let x=`HTTP error! status: ${l.status}`;throw l.status>=500?c.error?x=`Server error: ${c.error}`:x="Internal server error. Please check server logs.":l.status===422&&c.errors?x=`Validation errors: ${Object.values(c.errors).flat().join(", ")}`:c.message&&(x=c.message),new Error(x)}const o=await l.json();return console.log("API Success Response:",o),o}catch(l){throw console.error("API Request Failed:",l),l instanceof Error&&l.message.includes("Failed to fetch")?t.includes("192.168.1.22")?new Error("Unable to connect to API server. Please ensure the backend server is running on http://192.168.1.22:8000"):new Error("Network error: Unable to reach the API server"):l}}mockResponse(t,r){return new Promise((n,a)=>{setTimeout(()=>{t==="/auth/login"&&r.method==="POST"?n({success:!0,message:"Login successful",token:"mock-jwt-token-12345",user:{id:1,name:"Super Admin",email:"superadmin@example.com",role:"superadmin"}}):n(t==="/auth/me"?{success:!0,data:{id:1,name:"Super Admin",email:"superadmin@example.com",role:"admin"}}:t==="/auth/logout"?{success:!0,message:"Logout successful"}:{success:!0,data:[]})},500)})}async get(t){return this.request(t,{method:"GET"})}async post(t,r){return console.log("API POST Request:",t,r),this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(t,r){return this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0})}async patch(t,r){return this.request(t,{method:"PATCH",body:r?JSON.stringify(r):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}}const R=new Ef(Sf),lc={login:async(e,t)=>R.post("/auth/login",{email:e,password:t}),getCurrentUser:async()=>R.get("/auth/me"),logout:async()=>R.post("/auth/logout"),adminOnly:async()=>R.get("/auth/admin-only"),supervisorArea:async()=>R.get("/auth/supervisor-area")},Yt={getToken:()=>localStorage.getItem("auth_token"),setToken:e=>{localStorage.setItem("auth_token",e)},removeToken:()=>{localStorage.removeItem("auth_token")},isAuthenticated:()=>!!Yt.getToken()},Du=v.createContext(void 0),pa=()=>{const e=v.useContext(Du);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Pf=({children:e})=>{const[t,r]=v.useState(null),[n,a]=v.useState(!0);v.useEffect(()=>{const i=Yt.getToken(),p=localStorage.getItem("auth_user");if(i&&p){console.log("Found token and user data, validating...");try{const x=JSON.parse(p);if(i&&i.length>10)try{const u=i.split(".");if(u.length===3){const y=JSON.parse(atob(u[1])),b=Date.now()/1e3;y.exp&&y.exp>b?(console.log("JWT token is valid and not expired"),r(x)):y.exp&&y.exp<=b?(console.log("JWT token is expired, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)):(console.log("JWT token has no expiration, assuming valid"),r(x))}else console.log("Token is not JWT format, but appears valid"),r(x)}catch{console.log("Token is not decodable as JWT, but keeping it as valid"),r(x)}else console.log("Token is too short or empty, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}catch{console.log("Failed to parse stored user data, logging out"),Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}}else i&&!p?(console.log("Token exists but no user data, keeping token"),r(null)):(console.log("No token found, user not authenticated"),r(null));a(!1)},[]);const c={user:t,login:async(i,p)=>{a(!0);try{const x=await lc.login(i,p);if(console.log("Login response:",x),x.success&&x.token&&x.user){const{token:u,user:y}=x;return Yt.setToken(u),localStorage.setItem("auth_user",JSON.stringify(y)),r(y),a(!1),!0}else return console.error("Login failed - response structure:",x),a(!1),!1}catch(x){return console.error("Login error:",x),a(!1),!1}},logout:async()=>{try{await lc.logout()}catch(i){console.error("Logout error:",i)}finally{Yt.removeToken(),localStorage.removeItem("auth_user"),r(null)}},isAuthenticated:!!t,isLoading:n};return s.jsx(Du.Provider,{value:c,children:e})},Tu=v.createContext(void 0),Lu=()=>{const e=v.useContext(Tu);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");return e},Af=({children:e})=>{const[t,r]=v.useState([]),l={toasts:t,addToast:(o,c)=>{const i=Date.now().toString();r(p=>[...p,{id:i,message:o,type:c}])},removeToast:o=>{r(c=>c.filter(i=>i.id!==o))}};return s.jsx(Tu.Provider,{value:l,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Df={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:i,...p},x)=>v.createElement("svg",{ref:x,...Df,width:a,height:a,stroke:n,strokeWidth:o?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Tf(e)}`,c].join(" "),...p},[...t.map(([u,y])=>v.createElement(u,y)),...Array.isArray(i)?i:[i]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=V("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=V("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=V("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=V("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=V("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=V("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=V("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=V("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=V("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=V("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=V("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=V("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=V("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Xf=()=>{var g,_;const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,l]=v.useState(!1),[o,c]=v.useState(""),[i,p]=v.useState(!1),[x,u]=v.useState({}),{login:y}=pa(),b=ms(),C=((_=(g=Kt().state)==null?void 0:g.from)==null?void 0:_.pathname)||"/dashboard",k=()=>{const j={};return e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?e.length>254&&(j.email="Email address is too long"):j.email="Please enter a valid email address":j.email="Email is required",r.trim()?r.length<6?j.password="Password must be at least 6 characters long":r.length>128?j.password="Password is too long":/(?=.*[a-z])/.test(r)?/(?=.*\d)/.test(r)||(j.password="Password must contain at least one number"):j.password="Password must contain at least one lowercase letter":j.password="Password is required",u(j),Object.keys(j).length===0},f=()=>{l(!a)},h=(j,S)=>{j==="email"?t(S):n(S),x[j]&&u(m=>({...m,[j]:void 0})),o&&c("")},d=async j=>{if(j.preventDefault(),!!k()){c(""),p(!0);try{await y(e,r)?b(C,{replace:!0}):c("Invalid email or password")}catch{c("An error occurred during login. Please try again.")}finally{p(!1)}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),s.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-4000"})]}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-white rounded-full opacity-60"}),s.jsx("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-white rounded-full opacity-40"}),s.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-3 h-3 bg-white rounded-full opacity-30"}),s.jsx("div",{className:"absolute top-1/2 right-1/4 w-2 h-2 bg-white rounded-full opacity-50"}),s.jsx("div",{className:"absolute bottom-1/3 right-1/2 w-1 h-1 bg-white rounded-full opacity-60"})]}),s.jsxs("div",{className:"relative min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md mb-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-6 border border-white/20",children:s.jsx(Qn,{className:"w-10 h-10 text-white"})}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Sign in to your Super Admin account"})]})}),s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 transform hover:scale-105 transition-all duration-300",children:[s.jsxs("form",{className:"space-y-6",onSubmit:d,children:[s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ul,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:j=>h("email",j.target.value),className:`appearance-none block w-full pl-10 pr-3 py-3 bg-white/5 border rounded-xl placeholder-blue-200 text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:bg-white/10 transition-all duration-200 sm:text-sm backdrop-blur-sm ${x.email?"border-red-400 focus:ring-red-400/50 focus:border-red-400":"border-white/20 focus:ring-white/50 focus:border-white/50"}`,placeholder:"Enter your email"})]}),x.email&&s.jsxs("div",{className:"mt-2 text-red-300 text-xs flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-xs",children:"!"})}),x.email]})]}),s.jsxs("div",{className:"group",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zl,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),s.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:j=>h("password",j.target.value),className:`appearance-none block w-full pl-10 pr-12 py-3 bg-white/5 border rounded-xl placeholder-blue-200 text-white focus:outline-none focus:ring-2 focus:bg-white/10 transition-all duration-200 sm:text-sm backdrop-blur-sm ${x.password?"border-red-400 focus:ring-red-400/50 focus:border-red-400":"border-white/20 focus:ring-white/50 focus:border-white/50"}`,placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:f,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-blue-300 hover:text-white focus:outline-none focus:text-white transition-all duration-200 p-1 rounded-lg hover:bg-white/10","aria-label":a?"Hide password":"Show password",children:a?s.jsx(zf,{className:"h-5 w-5"}):s.jsx(Ur,{className:"h-5 w-5"})})]}),x.password&&s.jsxs("div",{className:"mt-2 text-red-300 text-xs flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-xs",children:"!"})}),x.password]})]}),o&&s.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-3 backdrop-blur-sm",children:s.jsxs("div",{className:"text-red-100 text-sm text-center flex items-center justify-center",children:[s.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-xs",children:"!"})}),o]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-blue-900 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:i?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-900 mr-2"}),"Signing in..."]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qn,{className:"w-5 h-5 mr-2"}),"Login as Super Admin"]})})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-white/20"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-3 bg-blue-900/50 text-blue-200 rounded-full border border-white/20 backdrop-blur-sm",children:"Demo Credentials"})})]}),s.jsx("div",{className:"mt-4 p-4 bg-white/5 rounded-xl border border-white/10 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center text-blue-100 text-sm space-y-1",children:[s.jsxs("p",{className:"flex items-center justify-center",children:[s.jsx(Ul,{className:"w-4 h-4 mr-2"}),"superadmin@example.com"]}),s.jsxs("p",{className:"flex items-center justify-center",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"superadmin123"]})]})})]})]})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-blue-200 text-sm",children:" 2024 CRM Super Admin Panel. Secure access only."})})]})]})},K={getDashboard:()=>R.get("/superadmin/dashboard"),getCompanies:()=>R.get("/superadmin/companies"),getCompany:e=>R.get(`/superadmin/companies/${e}`),createCompany:e=>R.post("/superadmin/companies",e),updateCompany:(e,t)=>R.put(`/superadmin/companies/${e}`,t),deleteCompany:e=>R.delete(`/superadmin/companies/${e}`),getCompanyUsers:()=>R.get("/superadmin/company-users"),getCompanyUser:e=>R.get(`/superadmin/company-users/${e}`),createCompanyUser:e=>R.post("/superadmin/company-users",e),updateCompanyUser:(e,t)=>R.put(`/superadmin/company-users/${e}`,t),deleteCompanyUser:e=>R.delete(`/superadmin/company-users/${e}`),getUsersByRole:e=>R.get(`/superadmin/company-users/by-role/${e}`),getCustomers:()=>R.get("/superadmin/customers"),getCustomer:e=>R.get(`/superadmin/customers/${e}`),createCustomer:e=>R.post("/superadmin/customers",e),updateCustomer:(e,t)=>R.put(`/superadmin/customers/${e}`,t),deleteCustomer:e=>R.delete(`/superadmin/customers/${e}`),searchCustomers:e=>R.get(`/superadmin/customers/search?q=${e}`),getParts:()=>R.get("/superadmin/parts"),getPart:e=>R.get(`/superadmin/parts/${e}`),createPart:e=>R.post("/superadmin/parts",e),updatePart:(e,t)=>R.put(`/superadmin/parts/${e}`,t),deletePart:e=>R.delete(`/superadmin/parts/${e}`),searchParts:e=>R.get(`/superadmin/parts/search?description=${e}`),getOrders:()=>R.get("/superadmin/orders"),getOrder:e=>R.get(`/superadmin/orders/${e}`),createOrder:e=>R.post("/superadmin/orders",e),updateOrder:(e,t)=>R.put(`/superadmin/orders/${e}`,t),deleteOrder:e=>R.delete(`/superadmin/orders/${e}`),searchOrders:e=>R.get(`/superadmin/orders/search?po_no=${e}`),getOrdersByCustomer:e=>R.get(`/superadmin/orders/by-customer/${e}`),getOrdersByPart:e=>R.get(`/superadmin/orders/by-part/${e}`),getDeliveryChallans:(e=1)=>R.get(`/superadmin/delivery-challans?page=${e}`),getDeliveryChallan:e=>R.get(`/superadmin/delivery-challans/${e}`),createDeliveryChallan:e=>R.post("/superadmin/delivery-challans",e),updateDeliveryChallan:(e,t)=>R.put(`/superadmin/delivery-challans/${e}`,t),deleteDeliveryChallan:e=>R.delete(`/superadmin/delivery-challans/${e}`),getDeliveryChallansByPart:e=>R.get(`/superadmin/delivery-challans/by-part?part_id=${e}`),login:e=>R.post("/auth/login",e),getMe:()=>R.get("/auth/me"),logout:()=>R.post("/auth/logout")},ic=()=>{const[e,t]=v.useState({totalCompanies:0,totalCompanyUsers:0,totalCustomers:0,totalParts:0,totalOrders:0,totalDeliveryChallans:0,systemHealth:0,activeUsers:0,roleSummary:{superadmin:0,admin:0,supervisor:0,operator:0}}),[r,n]=v.useState({labels:[],values:[]}),[a,l]=v.useState(!0),o=ms(),c=()=>{o("/companies")},i=()=>{o("/reports")},p=()=>{o("/orders")};v.useEffect(()=>{(async()=>{try{const y=await K.getDashboard();if(y.success&&y.data){const{summary:C,role_summary:k}=y.data,f={totalCompanies:C.total_companies||0,totalCompanyUsers:C.total_company_users||0,totalCustomers:C.total_customers||0,totalParts:C.total_parts||0,totalOrders:C.total_orders||0,totalDeliveryChallans:C.total_delivery_challans||0,systemHealth:98.7,activeUsers:C.total_company_users||0,roleSummary:{superadmin:(k==null?void 0:k.superadmin)||0,admin:(k==null?void 0:k.admin)||0,supervisor:(k==null?void 0:k.supervisor)||0,operator:(k==null?void 0:k.operator)||0}};t(f)}else t({totalCompanies:18,totalCompanyUsers:32,totalCustomers:6,totalParts:6,totalOrders:9,totalDeliveryChallans:3,systemHealth:98.7,activeUsers:32,roleSummary:{superadmin:1,admin:8,supervisor:11,operator:13}});const b=[{month:"Jan",revenue:35e3,orders:95,growth:8.2},{month:"Feb",revenue:42e3,orders:110,growth:20},{month:"Mar",revenue:38e3,orders:105,growth:-9.5},{month:"Apr",revenue:51e3,orders:135,growth:34.2},{month:"May",revenue:47e3,orders:125,growth:-7.8},{month:"Jun",revenue:72e3,orders:180,growth:53.2},{month:"Jul",revenue:68e3,orders:175,growth:-5.6},{month:"Aug",revenue:75e3,orders:190,growth:10.3},{month:"Sep",revenue:71e3,orders:185,growth:-5.3},{month:"Oct",revenue:78e3,orders:195,growth:9.9},{month:"Nov",revenue:82e3,orders:205,growth:5.1},{month:"Dec",revenue:89e3,orders:220,growth:8.5}];n({labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],values:[25,32,28,45,38,52,48,65,58,72,68,85],colors:["#1e40af","#3b82f6","#60a5fa","#93c5fd","#bfdbfe","#dbeafe","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#1e40af","#1e3a8a"]})}catch(y){console.error("Error fetching dashboard stats:",y)}finally{l(!1)}})()},[]);const x=[{title:"Total Companies",value:e.totalCompanies,icon:$l,color:"text-blue-600",bgColor:"bg-gradient-to-r from-blue-500 to-blue-600",trend:8.3,trendLabel:"new this month"},{title:"Total Customers",value:e.totalCustomers,icon:dt,color:"text-purple-600",bgColor:"bg-gradient-to-r from-purple-500 to-purple-600",trend:15.2,trendLabel:"vs last week"},{title:"System Health",value:`${e.systemHealth}%`,icon:Lf,color:"text-emerald-600",bgColor:"bg-gradient-to-r from-emerald-500 to-emerald-600",trend:.5,trendLabel:"uptime score"},{title:"Total Parts",value:e.totalParts,icon:ct,color:"text-orange-600",bgColor:"bg-gradient-to-r from-orange-500 to-orange-600",trend:5.2,trendLabel:"vs last month"},{title:"Total Orders",value:e.totalOrders,icon:xr,color:"text-indigo-600",bgColor:"bg-gradient-to-r from-indigo-500 to-indigo-600",trend:12.8,trendLabel:"this month"},{title:"Delivery Challans",value:e.totalDeliveryChallans,icon:ct,color:"text-green-600",bgColor:"bg-gradient-to-r from-green-500 to-green-600",trend:8.5,trendLabel:"this month"}];return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6 animate-fade-in-scale",children:[s.jsxs("div",{className:"animate-slide-in-up",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Welcome to the CRM Super Admin Panel. Here's an overview of your system."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 animate-slide-in-up",style:{animationDelay:"200ms"},children:x.map((u,y)=>{const b=u.icon,N=u.trend&&u.trend>0?Iu:Hf,C=u.trend&&u.trend>0?"text-green-600":"text-red-600";return s.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-xl hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-100",style:{animationDelay:`${y*100}ms`},children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-xl ${u.bgColor} shadow-lg`,children:s.jsx(b,{className:"h-7 w-7 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:u.title}),s.jsx("dd",{className:"text-2xl font-bold text-gray-900 mt-1",children:u.value})]})]}),u.trend&&s.jsxs("div",{className:`flex items-center ${C}`,children:[s.jsx(N,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm font-semibold",children:[Math.abs(u.trend),"%"]})]})]}),u.trendLabel&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:u.trendLabel})]})},u.title)})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-slide-in-up",style:{animationDelay:"400ms"},children:s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100 lg:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Overview"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Key performance metrics"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.totalCompanies}),s.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"companies"})]})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Uo,{className:"h-6 w-6 text-blue-600"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.totalOrders}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Orders"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.totalDeliveryChallans}),s.jsx("div",{className:"text-sm text-gray-500",children:"Delivery Challans"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.totalParts}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Parts"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.totalCustomers}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total Customers"})]})]})]})}),s.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100 animate-slide-in-up",style:{animationDelay:"600ms"},children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Jf,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Quick Actions"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("button",{onClick:c,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($l,{className:"h-6 w-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900",children:"Add New Company"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Register a new company account"})]})]})}),s.jsx("button",{onClick:i,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-green-300 hover:bg-green-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(dt,{className:"h-6 w-6 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-green-900",children:"View Reports"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Generate system analytics"})]})]})}),s.jsx("button",{onClick:p,className:"text-left p-4 rounded-lg border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all duration-200 group cursor-pointer",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(xr,{className:"h-6 w-6 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-900",children:"Process Orders"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Review pending orders"})]})]})})]})]}),s.jsx("div",{className:"bg-white shadow-lg rounded-xl border border-gray-100 animate-slide-in-up",style:{animationDelay:"800ms"},children:s.jsxs("div",{className:"px-6 py-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Hn,{className:"h-5 w-5 text-blue-600 mr-2"}),"Recent Activity"]}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-green-50 border border-green-100 hover:bg-green-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Vt,{className:"w-5 h-5 text-green-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New company registered"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:'"TechCorp Solutions" joined the platform with admin access'}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"2 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-green-600 font-medium",children:"Success"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-blue-50 border border-blue-100 hover:bg-blue-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(xr,{className:"w-5 h-5 text-blue-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Order completed"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Order #ORD-12345 processed successfully for GlobalTech Inc."}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"4 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-blue-600 font-medium",children:"2,450.00"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-orange-50 border border-orange-100 hover:bg-orange-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(ct,{className:"w-5 h-5 text-orange-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Delivery challan generated"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"DC-001 created and dispatched for InnovateLabs order"}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"6 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-orange-600 font-medium",children:"In Transit"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-purple-50 border border-purple-100 hover:bg-purple-100 transition-colors duration-200",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(dt,{className:"w-5 h-5 text-purple-600"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"User permissions updated"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Admin privileges granted to new team member at DataFlow Systems"}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx("span",{children:"8 hours ago"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-purple-600 font-medium",children:"Security"})]})]})]})]})]})})]})},Yf=({isOpen:e,onClose:t,onSubmit:r})=>{const[n,a]=v.useState({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),[l,o]=v.useState(!1),[c,i]=v.useState({}),p=b=>{const{name:N,value:C,type:k}=b.target;a(f=>({...f,[N]:k==="checkbox"?b.target.checked:C})),c[N]&&i(f=>({...f,[N]:void 0}))},x=()=>{const b={};return n.company_name.trim()?n.company_name.trim().length<2?b.company_name="Company name must be at least 2 characters":n.company_name.trim().length>200?b.company_name="Company name must be less than 200 characters":/^[a-zA-Z0-9\s&.,'-]+$/.test(n.company_name.trim())||(b.company_name="Company name contains invalid characters"):b.company_name="Company name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.email.trim().length>255&&(b.email="Email must be less than 255 characters"):b.email="Invalid email format":b.email="Email is required",n.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(n.phone.replace(/\s/g,""))?n.phone.replace(/\D/g,"").length<10?b.phone="Phone number must be at least 10 digits":n.phone.replace(/\D/g,"").length>15&&(b.phone="Phone number must be less than 15 digits"):b.phone="Invalid phone number format":b.phone="Phone number is required",n.address.trim()?n.address.trim().length<10?b.address="Address must be at least 10 characters":n.address.trim().length>500&&(b.address="Address must be less than 500 characters"):b.address="Address is required",n.gst_no.trim()?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$/.test(n.gst_no.replace(/\s/g,"").toUpperCase())?n.gst_no.replace(/\s/g,"").length!==15&&(b.gst_no="GST number must be exactly 15 characters"):b.gst_no="Invalid GST number format (e.g., 27ABCDE1234F1Z5)":b.gst_no="GST number is required",i(b),Object.keys(b).length===0},u=async b=>{if(b.preventDefault(),!!x()){o(!0);try{await r(n),a({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),i({}),t()}catch(N){console.error("Error submitting form:",N)}finally{o(!1)}}},y=()=>{a({company_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),i({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Company"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("form",{id:"company-form",onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company_name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",id:"company_name",name:"company_name",value:n.company_name,onChange:p,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.company_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter company name"}),c.company_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.company_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:p,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.email?"border-red-300":"border-gray-300"}`,placeholder:"company@example.com"}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:n.address,onChange:p,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:p,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.phone?"border-red-300":"border-gray-300"}`,placeholder:"+1-555-0123"}),c.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:n.gst_no,onChange:p,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${c.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"GST1234567890"}),c.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.gst_no})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:n.is_active,onChange:p,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",form:"company-form",disabled:l,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:l?"Adding...":"Add Company"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:y,children:"Cancel"})]})]})]})}):null},Mu=({isOpen:e,onClose:t,onSubmit:r,company:n})=>{const[a,l]=v.useState({comp_name:"",email:"",address:"",phone:"",gst_no:"",is_active:!0}),[o,c]=v.useState(!1),[i,p]=v.useState({});v.useEffect(()=>{n&&l({comp_name:n.comp_name,email:n.email,address:n.address,phone:n.phone,gst_no:n.gst_no,is_active:n.is_active})},[n]);const x=N=>{const{name:C,value:k,type:f}=N.target;l(h=>({...h,[C]:f==="checkbox"?N.target.checked:k})),i[C]&&p(h=>({...h,[C]:void 0}))},u=()=>{const N={};return a.comp_name.trim()?a.comp_name.trim().length<2?N.comp_name="Company name must be at least 2 characters":a.comp_name.trim().length>200?N.comp_name="Company name must be less than 200 characters":/^[a-zA-Z0-9\s&.,'-]+$/.test(a.comp_name.trim())||(N.comp_name="Company name contains invalid characters"):N.comp_name="Company name is required",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.email.trim().length>255&&(N.email="Email must be less than 255 characters"):N.email="Invalid email format":N.email="Email is required",a.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phone.replace(/\s/g,""))?a.phone.replace(/\D/g,"").length<10?N.phone="Phone number must be at least 10 digits":a.phone.replace(/\D/g,"").length>15&&(N.phone="Phone number must be less than 15 digits"):N.phone="Invalid phone number format":N.phone="Phone number is required",a.address.trim()?a.address.trim().length<10?N.address="Address must be at least 10 characters":a.address.trim().length>500&&(N.address="Address must be less than 500 characters"):N.address="Address is required",a.gst_no.trim()?/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}$/.test(a.gst_no.replace(/\s/g,"").toUpperCase())?a.gst_no.replace(/\s/g,"").length!==15&&(N.gst_no="GST number must be exactly 15 characters"):N.gst_no="Invalid GST number format (e.g., 27ABCDE1234F1Z5)":N.gst_no="GST number is required",p(N),Object.keys(N).length===0},y=async N=>{if(N.preventDefault(),!!u()){c(!0);try{await r(a),t()}catch(C){console.error("Error submitting form:",C)}finally{c(!1)}}},b=()=>{p({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:t})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Company"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("form",{id:"edit-company-form",onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_name",className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),s.jsx("input",{type:"text",id:"comp_name",name:"comp_name",value:a.comp_name,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.comp_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter company name"}),i.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.email?"border-red-300":"border-gray-300"}`,placeholder:"company@example.com"}),i.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),s.jsx("input",{type:"text",id:"address",name:"address",value:a.address,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter company address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.phone?"border-red-300":"border-gray-300"}`,placeholder:"+1-555-0123"}),i.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:a.gst_no,onChange:x,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${i.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"GST1234567890"}),i.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.gst_no})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:x,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",form:"edit-company-form",disabled:o,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:o?"Updating...":"Update Company"}),s.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:b,children:"Cancel"})]})]})]})})},ex=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState("all"),[i,p]=v.useState(!0),[x,u]=v.useState(!1),[y,b]=v.useState(!1),[N,C]=v.useState(null),{addToast:k}=Lu(),f=ms();v.useEffect(()=>{(async()=>{try{const w=await K.getCompanies();let E=[];w.success&&(Array.isArray(w.data)?E=w.data:w.data&&Array.isArray(w.data.data)&&(E=w.data.data));const A=E.map(D=>({id:D.id,comp_name:D.comp_name||D.company_name||"",email:D.email||"",address:D.address||"",phone:D.phno||D.phone||"",gst_no:D.gst||D.gst_no||"",code:D.code||D.company_code||"",phno:D.phno||D.phone||"",is_active:D.status==="active"||D.is_active||!1,created_at:D.created_at||new Date().toISOString(),updated_at:D.updated_at||new Date().toISOString()})).sort((D,I)=>new Date(I.created_at).getTime()-new Date(D.created_at).getTime());t(A),n(A)}catch(w){console.error("Error fetching companies:",w),t([]),n([])}finally{p(!1)}})()},[]),v.useEffect(()=>{let m=e;a&&(m=m.filter(w=>w.comp_name.toLowerCase().includes(a.toLowerCase())||w.email.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(m=m.filter(w=>o==="active"?w.is_active:!w.is_active)),n(m)},[e,a,o]);const h=m=>{C(m),b(!0)},d=async m=>{try{const w=!m.is_active,E=`Are you sure you want to ${w?"activate":"deactivate"} "${m.comp_name}"?`;window.confirm(E)&&((await K.updateCompany(m.id,{...m,is_active:w})).success?(t(A=>A.map(D=>D.id===m.id?{...D,is_active:w}:D)),k(`Company ${w?"activated":"deactivated"} successfully`,"success")):k("Failed to update company status","error"))}catch(w){console.error("Error toggling company status:",w),k("Error updating company status","error")}},g=async m=>{const w=e.find(E=>E.id.toString()===m);if(w){const E=`Are you sure you want to delete "${w.comp_name}"? This action cannot be undone.`;if(confirm(E))try{if((await K.deleteCompany(parseInt(m))).success){const A=await K.getCompanies();if(A.success){let D=[];Array.isArray(A.data)?D=A.data:A.data&&Array.isArray(A.data.data)&&(D=A.data.data);const Y=D.map(T=>({id:T.id,comp_name:T.comp_name||T.company_name||"",email:T.email||"",address:T.address||"",phone:T.phno||T.phone||"",gst_no:T.gst||T.gst_no||"",code:T.code||T.company_code||"",phno:T.phno||T.phone||"",is_active:T.status==="active"||T.is_active||!1,created_at:T.created_at||new Date().toISOString(),updated_at:T.updated_at||new Date().toISOString()})).sort((T,W)=>new Date(W.created_at).getTime()-new Date(T.created_at).getTime());t(Y),n(Y)}}}catch(L){console.error("Error deleting company:",L),alert("Failed to delete company")}}},_=()=>{u(!0)},j=async m=>{try{if((await K.createCompany({comp_name:m.company_name,email:m.email,address:m.address,phno:m.phone,gst:m.gst_no,status:m.is_active?"active":"inactive"})).success){const E=await K.getCompanies();if(E.success){let L=[];Array.isArray(E.data)?L=E.data:E.data&&Array.isArray(E.data.data)&&(L=E.data.data);const D=L.map(I=>({id:I.id,comp_name:I.comp_name||I.company_name||"",email:I.email||"",address:I.address||"",phone:I.phno||I.phone||"",gst_no:I.gst||I.gst_no||"",code:I.code||I.company_code||"",is_active:I.status==="active"||I.is_active||!1,created_at:I.created_at||new Date().toISOString(),updated_at:I.updated_at||new Date().toISOString()})).sort((I,Y)=>new Date(Y.created_at).getTime()-new Date(I.created_at).getTime());t(D),n(D)}u(!1)}}catch(w){console.error("Error creating company:",w),alert(w instanceof Error?w.message:"Failed to create company")}},S=async m=>{if(N)try{if((await K.updateCompany(N.id,{comp_name:m.company_name,email:m.email,address:m.address,phno:m.phone,gst:m.gst_no,status:m.is_active?"active":"inactive"})).success){b(!1),C(null);const E=await K.getCompanies();if(E.success){let L=[];Array.isArray(E.data)?L=E.data:E.data&&Array.isArray(E.data.data)&&(L=E.data.data);const D=L.map(I=>({id:I.id,comp_name:I.comp_name||I.company_name||"",email:I.email||"",address:I.address||"",phone:I.phno||I.phone||"",gst_no:I.gst||I.gst_no||"",code:I.code||I.company_code||"",is_active:I.status==="active"||I.is_active||!1,created_at:I.created_at||new Date().toISOString(),updated_at:I.updated_at||new Date().toISOString()})).sort((I,Y)=>new Date(Y.created_at).getTime()-new Date(I.created_at).getTime());t(D),n(D)}}}catch(w){console.error("Error updating company:",w),alert(w instanceof Error?w.message:"Failed to update company")}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Companies"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all companies in the system"})]}),s.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search companies...",value:a,onChange:m=>l(m.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:m=>c(m.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Code"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.comp_name})})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.code||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[m.is_active?s.jsx("span",{className:"w-4 h-4 mr-1",children:""}):s.jsx("span",{className:"w-4 h-4 mr-1",children:""}),m.is_active?"Active":"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.address||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(m.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>d(m),className:`p-1 rounded transition-colors ${m.is_active?"text-orange-600 hover:text-orange-900 hover:bg-orange-50":"text-green-600 hover:text-green-900 hover:bg-green-50"}`,title:m.is_active?"Deactivate Company":"Activate Company",children:m.is_active?s.jsx(Vf,{className:"h-4 w-4"}):s.jsx(Wf,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>f(`/companies/${m.id}`),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>h(m),className:"text-yellow-600 hover:text-yellow-900 p-1",title:"Edit",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(m.id.toString()),className:"p-1 text-red-600 hover:text-red-900",title:"Delete",children:s.jsx(Wt,{className:"h-4 w-4"})})]})})]},m.id))})]})})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No companies found matching your criteria."})})]}),x&&s.jsx(Yf,{isOpen:x,onClose:()=>u(!1),onSubmit:j}),y&&s.jsx(Mu,{isOpen:y,onClose:()=>{b(!1),C(null)},onSubmit:S,company:N})]})},mt={getAllCustomers:async()=>R.get("/customers"),getCustomerById:async e=>R.get(`/customers/${e}`),createCustomer:async e=>R.post("/customers",e),updateCustomer:async(e,t)=>R.put(`/customers/${e}`,t),toggleCustomerStatus:async e=>R.patch(`/customers/${e}/toggle-status`),deleteCustomer:async e=>R.delete(`/customers/${e}`),searchCustomers:async e=>R.get(`/customers?search=${encodeURIComponent(e)}`)},Gs={getAllParts:async()=>R.get("/parts"),createPart:async e=>R.post("/parts",e),updatePart:async(e,t)=>R.put(`/parts/${e}`,t),deletePart:async e=>R.delete(`/parts/${e}`),searchParts:async e=>R.get(`/parts/search?description=${encodeURIComponent(e)}`)},ut={getAllCompanies:async()=>R.get("/companies"),getCompanyById:async e=>R.get(`/companies/${e}`),createCompany:async e=>R.post("/companies",e),updateCompany:async(e,t)=>R.put(`/companies/${e}`,t),toggleCompanyStatus:async e=>R.patch(`/companies/${e}/toggle-status`),deleteCompany:async e=>R.delete(`/companies/${e}`)},fa={getAllOrders:async()=>{const e=Date.now();return R.get(`/orders?t=${e}`)},getOrderById:async e=>R.get(`/orders/${e}`),createOrder:async e=>R.post("/orders",e),updateOrder:async(e,t)=>R.put(`/orders/${e}`,t),deleteOrder:async e=>R.delete(`/orders/${e}`),searchOrdersByCompany:async e=>R.get(`/orders/search?company=${encodeURIComponent(e)}`)},tx={getAllDeliveryChallans:async()=>R.get("/delivery-challans"),getDeliveryChallanById:async e=>R.get(`/delivery-challans/${e}`),createDeliveryChallan:async e=>R.post("/delivery-challans",e),updateDeliveryChallan:async(e,t)=>R.put(`/delivery-challans/${e}`,t),deleteDeliveryChallan:async e=>R.delete(`/delivery-challans/${e}`),searchDeliveryChallans:async e=>R.get(`/delivery-challans/search?challanNumber=${encodeURIComponent(e)}`)},$u={getAllAdmins:async()=>R.get("/company-users"),getAdminById:async e=>R.get(`/company-users/${e}`),createAdmin:async e=>R.post("/company-users",e),updateAdmin:async(e,t)=>R.put(`/company-users/${e}`,t),toggleAdminStatus:async e=>R.patch(`/company-users/${e}/toggle-status`),deleteAdmin:async e=>R.delete(`/company-users/${e}`),resetPassword:async(e,t)=>R.post(`/company-users/${e}/reset-password`,{password:t})},sx=()=>{const{id:e}=Wh(),t=ms(),[r,n]=v.useState(null),[a,l]=v.useState(!0),[o,c]=v.useState(!1),[i,p]=v.useState("overview"),[x,u]=v.useState([]),[y,b]=v.useState([]),[N,C]=v.useState([]),[k,f]=v.useState([]),[h,d]=v.useState([]),[g,_]=v.useState([]),[j,S]=v.useState(!1);v.useEffect(()=>{e&&m(e)},[e]);const m=async P=>{try{const z=await ut.getCompanyById(parseInt(P));z.success?(n(z.data),await w(z.data)):n(null)}catch(z){console.error("Error fetching company:",z),n(null)}finally{l(!1)}},w=async P=>{var z,Q,Ne,M;try{S(!0);const[B,Z,_e,q,ke]=await Promise.all([mt.getAllCustomers(),fa.getAllOrders(),tx.getAllDeliveryChallans(),Gs.getAllParts(),$u.getAllAdmins()]);if(B.success){const fe=(Array.isArray(B.data)?B.data:((z=B.data)==null?void 0:z.data)||[]).filter(Be=>Be.comp_name===P.comp_name);u(fe)}if(Z.success){const fe=(Array.isArray(Z.data)?Z.data:((Q=Z.data)==null?void 0:Q.data)||[]).filter(Be=>{var Ve;return((Ve=Be.customer)==null?void 0:Ve.name)===P.comp_name||Be.comp_name===P.comp_name});b(fe)}if(_e.success){const fe=(Array.isArray(_e.data)?_e.data:((Ne=_e.data)==null?void 0:Ne.data)||[]).filter(Be=>Be.comp_name===P.comp_name||Be.to===P.comp_name||Be.company===P.comp_name);C(fe)}if(q.success&&q.data){const fe=(Array.isArray(q.data)?q.data:[]).filter(Be=>{var Ve;return((Ve=Be.customer)==null?void 0:Ve.name)===P.comp_name});f(fe)}if(ke.success){const X=Array.isArray(ke.data)?ke.data:((M=ke.data)==null?void 0:M.data)||[],fe=X.filter(Ve=>Ve.company_name===P.comp_name&&(Ve.role==="supervisor"||Ve.role==="manager")),Be=X.filter(Ve=>Ve.company_name===P.comp_name&&Ve.role==="operator");d(fe),_(Be)}}catch(B){console.error("Error fetching company data:",B)}finally{S(!1)}},E=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[s.jsx("div",{className:"bg-blue-900 px-6 py-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:(r==null?void 0:r.comp_name)||""}),s.jsx("div",{className:"flex items-center mt-2",children:r!=null&&r.is_active?s.jsxs("span",{className:"flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Vt,{className:"w-4 h-4 mr-1"}),"Active"]}):s.jsxs("span",{className:"flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(ha,{className:"w-4 h-4 mr-1"}),"Inactive"]})})]})})}),s.jsxs("div",{className:"px-6 py-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ul,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.email)||""})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Fu,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.phone)||(r==null?void 0:r.phno)||"No phone provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Bf,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Address"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.address)||"No address provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(ct,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"GST Number"}),s.jsx("p",{className:"text-sm text-gray-600",children:(r==null?void 0:r.gst_no)||""})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Customers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Delivery Challans"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.length})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Staff"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length+g.length})]})]})]}),L=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Customers (",x.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.contact_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.address}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:P.address}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.created_at).toLocaleDateString()})]},P.id))})]}),x.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No customers found for this company"})]})]}),A=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Orders (",y.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(P=>{var z,Q;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.po_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((z=P.customer)==null?void 0:z.name)||`Customer ${P.customer_id}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((Q=P.part)==null?void 0:Q.part_description)||`Part ${P.part_id}`}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.po_qty}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",P.price]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.po_received?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P.po_received?"Received":"Pending"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.po_date?new Date(P.po_date).toLocaleDateString():"N/A"})]},P.id)})})]}),y.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders found for this company"})]})]}),D=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Delivery Challans (",N.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(P=>{var z;return s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.challan_no||P.challanNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.to||P.comp_name||P.company}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.part_no||((z=P.part)==null?void 0:z.part_description)||P.partDescription||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.challan_date||P.createdDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.status==="delivered"?"bg-green-100 text-green-800":P.status==="in_transit"?"bg-blue-100 text-blue-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.status||"pending"})})]},P.id)})})]}),N.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No delivery challans found for this company"})]})]}),I=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Parts (",k.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drawing No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rev No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Wt"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thickness"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.drawing_no}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:P.part_description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.rev_no||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.net_wt||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.thickness||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.raw_material||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.lead_time||"N/A"})]},P.id))})]}),k.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No parts found for this company"})]})]}),Y=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Supervisors (",h.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.is_active?"Active":"Inactive"})})]},P.email))})]}),h.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No supervisors found for this company"})]})]}),T=()=>s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Operators (",g.length,")"]})}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(P=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.is_active?"Active":"Inactive"})})]},P.email))})]}),g.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No operators found for this company"})]})]}),W=()=>{c(!0)},F=async P=>{if(r)try{(await ut.updateCompany(r.id,{comp_name:P.comp_name,email:P.email,address:P.address,phno:P.phone,gst:P.gst_no,status:P.is_active?"active":"inactive"})).success&&(c(!1),await m(r.id.toString()))}catch(z){console.error("Error updating company:",z),alert("Failed to update company")}},U=async()=>{if(!r)return;const P=r.is_active?`Are you sure you want to deactivate "${r.comp_name}"?`:`Are you sure you want to activate "${r.comp_name}"?`;if(confirm(P))try{(await ut.toggleCompanyStatus(r.id)).success&&await m(r.id.toString())}catch(z){console.error("Error updating company status:",z),alert("Failed to update company status")}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading company details..."})]})}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("button",{onClick:()=>t("/companies"),className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:[s.jsx(Ff,{className:"h-5 w-5 mr-2"}),"Back to Companies"]}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Company Details"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:W,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx("button",{onClick:U,className:`flex items-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium ${r.is_active?"border-red-300 text-red-700 bg-white hover:bg-red-50":"border-green-300 text-green-700 bg-white hover:bg-green-50"}`,children:r.is_active?s.jsxs(s.Fragment,{children:[s.jsx(Rf,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Activate"]})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:ct},{id:"customers",label:"Customers",icon:dt},{id:"orders",label:"Orders",icon:Ss},{id:"challans",label:"Delivery Challans",icon:ct},{id:"parts",label:"Parts",icon:Ru},{id:"supervisors",label:"Supervisors",icon:dt},{id:"operators",label:"Operators",icon:dt}].map(P=>s.jsxs("button",{onClick:()=>p(P.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(P.icon,{className:"h-4 w-4 mr-2"}),P.label]},P.id))})}),s.jsxs("div",{children:[i==="overview"&&E(),i==="customers"&&L(),i==="orders"&&A(),i==="challans"&&D(),i==="parts"&&I(),i==="supervisors"&&Y(),i==="operators"&&T()]})]})}),o&&s.jsx(Mu,{isOpen:o,onClose:()=>c(!1),onSubmit:F,company:r})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Company not found"}),s.jsx("button",{onClick:()=>t("/companies"),className:"px-4 py-2 bg-blue-900 text-white rounded-md hover:bg-blue-800",children:"Back to Companies"})]})})},rx=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=v.useState({name:"",email:"",phone:"",role:"admin",comp_code:"",password:"",password_confirmation:"",is_active:!0}),[l,o]=v.useState(!1),[c,i]=v.useState({}),[p,x]=v.useState([]),[u,y]=v.useState(null),[b,N]=v.useState(!1),C=_=>{const{name:j,value:S,type:m}=_.target;a(w=>({...w,[j]:m==="checkbox"?_.target.checked:S})),c[j]&&i(w=>({...w,[j]:""}))},k=async _=>{const j=_.target.value,S=p.find(m=>m.id.toString()===j);S?(y(S),a(m=>({...m,comp_code:S.code}))):(y(null),a(m=>({...m,comp_code:""})))};v.useEffect(()=>{e&&f()},[e]);const f=async()=>{N(!0);try{console.log("Fetching companies from API...");const _=await K.getCompanies();if(console.log("Companies API response:",_),_.success&&Array.isArray(_.data)){const j=_.data;console.log("Companies data extracted:",j),x(j)}else console.error("Invalid response structure:",_),x([])}catch(_){console.error("Error fetching companies:",_),x([])}finally{N(!1)}},h=()=>{const _={};return n.name.trim()?n.name.trim().length<2?_.name="Name must be at least 2 characters":n.name.trim().length>100?_.name="Name must be less than 100 characters":/^[a-zA-Z\s]+$/.test(n.name.trim())||(_.name="Name can only contain letters and spaces"):_.name="Name is required",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.email.trim().length>255&&(_.email="Email must be less than 255 characters"):_.email="Invalid email format":_.email="Email is required",n.phone.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(n.phone.replace(/\s/g,""))?n.phone.replace(/\D/g,"").length<10?_.phone="Phone number must be at least 10 digits":n.phone.replace(/\D/g,"").length>15&&(_.phone="Phone number must be less than 15 digits"):_.phone="Invalid phone number format":_.phone="Phone is required",n.role?["admin","supervisor","operator"].includes(n.role)||(_.role="Invalid role selected"):_.role="Role is required",n.password.trim()?n.password.length<8?_.password="Password must be at least 8 characters":n.password.length>128?_.password="Password must be less than 128 characters":/(?=.*[a-z])/.test(n.password)?/(?=.*[A-Z])/.test(n.password)?/(?=.*\d)/.test(n.password)?/(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(n.password)||(_.password="Password must contain at least one special character"):_.password="Password must contain at least one number":_.password="Password must contain at least one uppercase letter":_.password="Password must contain at least one lowercase letter":_.password="Password is required",n.password_confirmation.trim()?n.password!==n.password_confirmation&&(_.password_confirmation="Passwords do not match"):_.password_confirmation="Password confirmation is required",u&&!u.comp_name&&(_.comp_code="Invalid company selected"),i(_),Object.keys(_).length===0},d=async _=>{if(_.preventDefault(),!!h()){o(!0);try{const j={name:n.name,email:n.email,phone:n.phone,role:n.role,comp_name:(u==null?void 0:u.comp_name)||"",comp_code:n.comp_code,password:n.password,password_confirmation:n.password_confirmation,is_active:n.is_active};(await K.createCompanyUser(j)).success&&(r(),g())}catch(j){console.error("Error creating admin:",j),alert("Failed to create admin")}finally{o(!1)}}},g=()=>{l||(a({name:"",email:"",phone:"",role:"admin",comp_code:"",password:"",password_confirmation:"",is_active:!0}),y(null),i({}),t())};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:g}),s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto scrollbar-hide",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Admin"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create a new administrator account"})]}),s.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",disabled:l,children:s.jsx(Ae,{className:"h-6 w-6"})})]})}),s.jsxs("form",{onSubmit:d,className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.name?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Enter full name"}),c.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.email?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"admin@example.com"}),c.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.phone?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"+1234567890"}),c.phone&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.phone]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),s.jsxs("select",{value:(u==null?void 0:u.id)||"",onChange:k,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.comp_code?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l||b,children:[s.jsx("option",{value:"",children:"Select Company"}),p.map(_=>s.jsx("option",{value:_.id,children:_.comp_name},_.id))]}),u&&s.jsx("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"Company Code:"})," ",u.code]})}),c.comp_code&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.comp_code]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),s.jsxs("select",{name:"role",value:n.role,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.role?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,children:[s.jsx("option",{value:"",children:"Select Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"supervisor",children:"Supervisor"}),s.jsx("option",{value:"operator",children:"Operator"})]}),c.role&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.role]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),s.jsx("input",{type:"password",name:"password",value:n.password,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.password?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Min. 6 characters"}),c.password&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.password]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),s.jsx("input",{type:"password",name:"password_confirmation",value:n.password_confirmation,onChange:C,className:`block w-full border rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 sm:text-sm transition-colors ${c.password_confirmation?"border-red-500 bg-red-50":"border-gray-300"}`,disabled:l,placeholder:"Re-enter password"}),c.password_confirmation&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),c.password_confirmation]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:C,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:l}),s.jsxs("label",{className:"ml-3 block text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Active Account"}),s.jsx("span",{className:"text-gray-500 ml-1",children:"- User can login immediately"})]})]})}),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200 mt-6",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"* Required fields"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:g,className:"px-5 py-2.5 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 disabled:opacity-50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 disabled:opacity-50 transition-colors flex items-center",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Admin"})]})]})]})]})]})}):null},nx=({isOpen:e,onClose:t,onSuccess:r,admin:n})=>{const[a,l]=v.useState({name:n.name,email:n.email,phone:n.phone,role:n.role,is_active:n.is_active,comp_code:""}),[o,c]=v.useState([]),[i,p]=v.useState(null),[x,u]=v.useState(""),[y,b]=v.useState(!1),[N,C]=v.useState({}),k=S=>{const{name:m,value:w,type:E}=S.target;l(L=>({...L,[m]:E==="checkbox"?S.target.checked:w})),N[m]&&C(L=>({...L,[m]:""}))},f=async S=>{const m=S.target.value,w=o.find(E=>E.id.toString()===m);w?(p(w),l(E=>({...E,comp_code:w.code}))):(p(null),l(E=>({...E,comp_code:""})))},h=async()=>{try{const S=await K.getCompanies();S.success&&Array.isArray(S.data)&&c(S.data)}catch(S){console.error("Error fetching companies:",S)}};Hl.useEffect(()=>{e&&h()},[e]);const d=S=>{u(S.target.value),N.newPassword&&C(m=>({...m,newPassword:""}))},g=()=>{var m,w,E;const S={};return(m=a.name)!=null&&m.trim()?a.name.trim().length<2?S.name="Name must be at least 2 characters":a.name.trim().length>100?S.name="Name must be less than 100 characters":/^[a-zA-Z\s]+$/.test(a.name.trim())||(S.name="Name can only contain letters and spaces"):S.name="Name is required",(w=a.email)!=null&&w.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.email.trim().length>255&&(S.email="Email must be less than 255 characters"):S.email="Invalid email format":S.email="Email is required",(E=a.phone)!=null&&E.trim()?/^[+]?[\d\s\-\(\)]{10,}$/.test(a.phone.replace(/\s/g,""))?a.phone.replace(/\D/g,"").length<10?S.phone="Phone number must be at least 10 digits":a.phone.replace(/\D/g,"").length>15&&(S.phone="Phone number must be less than 15 digits"):S.phone="Invalid phone number format":S.phone="Phone is required",a.role?["admin","supervisor","operator"].includes(a.role)||(S.role="Invalid role selected"):S.role="Role is required",x&&(x.length<8?S.newPassword="Password must be at least 8 characters":x.length>128?S.newPassword="Password must be less than 128 characters":/(?=.*[a-z])/.test(x)?/(?=.*[A-Z])/.test(x)?/(?=.*\d)/.test(x)?/(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(x)||(S.newPassword="Password must contain at least one special character"):S.newPassword="Password must contain at least one number":S.newPassword="Password must contain at least one uppercase letter":S.newPassword="Password must contain at least one lowercase letter"),i&&!i.comp_name&&(S.comp_code="Invalid company selected"),C(S),Object.keys(S).length===0},_=async S=>{if(S.preventDefault(),!!g()){b(!0);try{const m={name:a.name,email:a.email,phone:a.phone,role:a.role,is_active:a.is_active,comp_name:(i==null?void 0:i.comp_name)||"",comp_code:a.comp_code};(await K.updateCompanyUser(n.id,m)).success&&(x&&await K.updateCompanyUser(n.id,{password:x}),r())}catch(m){console.error("Error updating admin:",m),alert("Failed to update admin")}finally{b(!1)}}},j=()=>{y||(l({name:n.name,email:n.email,phone:n.phone,role:n.role,is_active:n.is_active,comp_code:""}),u(""),C({}),t())};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Admin"}),s.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",disabled:y,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),s.jsx("input",{type:"text",name:"name",value:a.name,onChange:k,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.name?"border-red-500":"border-gray-300"}`,disabled:y}),N.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:k,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.email?"border-red-500":"border-gray-300"}`,disabled:y}),N.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:k,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.phone?"border-red-500":"border-gray-300"}`,disabled:y}),N.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),s.jsxs("select",{value:(i==null?void 0:i.id)||"",onChange:f,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.comp_code?"border-red-500":"border-gray-300"}`,disabled:y,children:[s.jsx("option",{value:"",children:"Select Company"}),o.map(S=>s.jsx("option",{value:S.id,children:S.comp_name},S.id))]}),i&&s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Company Code: ",s.jsx("span",{className:"font-medium",children:i.code})]}),N.comp_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.comp_code})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role *"}),s.jsxs("select",{name:"role",value:a.role,onChange:k,className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.role?"border-red-500":"border-gray-300"}`,disabled:y,children:[s.jsx("option",{value:"",children:"Select Role"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"super_admin",children:"Super Admin"}),s.jsx("option",{value:"manager",children:"Manager"})]}),N.role&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.role})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"is_active",id:"is_active",checked:a.is_active,onChange:k,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:y}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Reset Password"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password (leave empty to keep current)"}),s.jsx("input",{type:"password",name:"newPassword",value:x,onChange:d,placeholder:"Enter new password",className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${N.newPassword?"border-red-500":"border-gray-300"}`,disabled:y}),N.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.newPassword})]})})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:y,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Updating...":"Update Admin"}),s.jsx("button",{type:"button",onClick:j,disabled:y,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})]})})}):null},ax=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState("all"),[i,p]=v.useState("all"),[x,u]=v.useState(!0),[y,b]=v.useState(!1),[N,C]=v.useState(!1),[k,f]=v.useState(null);v.useEffect(()=>{h()},[]);const h=async()=>{try{const m=await K.getCompanyUsers();console.log("Company Admins API Response:",m);let w=[];m.success&&Array.isArray(m.data)&&(w=m.data),w.sort((E,L)=>new Date(L.created_at).getTime()-new Date(E.created_at).getTime()),t(w),n(w)}catch(m){console.error("Error fetching admins:",m),t([]),n([])}finally{u(!1)}};v.useEffect(()=>{let m=e;a&&(m=m.filter(w=>w.name&&w.name.toLowerCase().includes(a.toLowerCase())||w.email&&w.email.toLowerCase().includes(a.toLowerCase())||w.phone&&w.phone.toLowerCase().includes(a.toLowerCase())||w.company&&w.company.comp_name&&w.company.comp_name.toLowerCase().includes(a.toLowerCase())||w.role&&w.role.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(m=m.filter(w=>o==="active"?w.is_active:!w.is_active)),i!=="all"&&(m=m.filter(w=>w.company&&w.company.comp_name===i)),n(m)},[e,a,o,i]);const d=async m=>{const w=e.find(L=>L.id===m),E=w==null?void 0:w.is_active;try{(await K.updateCompanyUser(m,{is_active:!E})).success&&await h()}catch(L){console.error("Error toggling admin status:",L),alert("Failed to update admin status")}},g=m=>{f(m),C(!0)},_=async m=>{if(window.confirm("Are you sure you want to delete this admin?"))try{(await K.deleteCompanyUser(m)).success&&await h()}catch(w){console.error("Error deleting admin:",w),alert("Failed to delete admin")}},j=async()=>{b(!1),await h()},S=async()=>{C(!1),f(null),await h()};return x?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Company Admins"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all company administrators in the system"})]}),s.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Admin"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search admins...",value:a,onChange:m=>l(m.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:m=>p(m.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"}),Array.from(new Set(e.filter(m=>m.company).map(m=>m.company.comp_name))).sort().map(m=>s.jsx("option",{value:m,children:m},m))]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:m=>c(m.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-900 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:m.name.split(" ").map(w=>w[0]).join("")})})}),s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.phone}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.company?m.company.comp_name:"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.role==="admin"?"bg-blue-100 text-blue-800":m.role==="supervisor"?"bg-purple-100 text-purple-800":m.role==="operator"?"bg-gray-100 text-gray-800":m.role==="superadmin"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:m.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[m.is_active?s.jsx(Vt,{className:"w-4 h-4 mr-1"}):s.jsx(ha,{className:"w-4 h-4 mr-1"}),m.is_active?"Active":"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(m.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>g(m),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Admin",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>_(m.id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Admin",children:s.jsx(Wt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(m.id),className:`p-1 ${m.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"}`,title:m.is_active?"Deactivate Admin":"Activate Admin",children:s.jsx(Kf,{className:"h-4 w-4"})})]})})]},m.id))})]})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No company admins found matching your criteria."})})]}),y&&s.jsx(rx,{isOpen:y,onClose:()=>b(!1),onSuccess:j}),N&&k&&s.jsx(nx,{isOpen:N,onClose:()=>C(!1),onSuccess:S,admin:k})]})})},lx=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=v.useState({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:""}),[l,o]=v.useState([]),[c,i]=v.useState(!1),[p,x]=v.useState({});v.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{const f=await ut.getAllCompanies();f.success&&Array.isArray(f.data)?o(f.data):o([])}catch(f){console.error("Error fetching companies:",f),o([])}},y=f=>{const{name:h,value:d}=f.target;a(g=>({...g,[h]:d})),p[h]&&x(g=>({...g,[h]:void 0}))},b=f=>{const h=l.find(d=>d.comp_name===f.target.value);h&&a(d=>({...d,comp_name:h.comp_name,comp_code:h.code})),p.comp_name&&x(d=>({...d,comp_name:void 0}))},N=()=>{const f={};return n.name.trim()||(f.name="Customer name is required"),n.address.trim()||(f.address="Address is required"),n.contact_no.trim()||(f.contact_no="Contact number is required"),n.gst_no.trim()||(f.gst_no="GST number is required"),n.comp_name.trim()||(f.comp_name="Company selection is required"),x(f),Object.keys(f).length===0},C=async f=>{if(f.preventDefault(),!!N()){i(!0);try{(await mt.createCustomer(n)).success&&(r(),k())}catch(h){console.error("Error creating customer:",h)}finally{i(!1)}}},k=()=>{a({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:""}),x({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:k,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:C,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Customer"}),s.jsx("button",{type:"button",onClick:k,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${p.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter customer name"}),p.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:y,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${p.address?"border-red-300":"border-gray-300"}`,placeholder:"Enter complete address"}),p.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.address})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact_no",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),s.jsx("input",{type:"text",id:"contact_no",name:"contact_no",value:n.contact_no,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${p.contact_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter contact number"}),p.contact_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.contact_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:n.gst_no,onChange:y,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${p.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter GST number"}),p.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.gst_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${p.comp_name?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a company"}),l.length>0?l.map(f=>s.jsx("option",{value:f.comp_name,children:f.comp_name},f.id)):s.jsx("option",{value:"",disabled:!0,children:"No companies available"})]}),p.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_code",className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",id:"comp_code",name:"comp_code",value:n.comp_code,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md shadow-sm bg-gray-50 text-gray-600 sm:text-sm",placeholder:"Auto-populated from company selection"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Company code is auto-populated when you select a company"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:c,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating...":"Create Customer"}),s.jsx("button",{type:"button",onClick:k,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})]})}):null},ox=({isOpen:e,onClose:t,onSuccess:r,customer:n})=>{const[a,l]=v.useState({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:"",is_active:!0}),[o,c]=v.useState([]),[i,p]=v.useState(!1),[x,u]=v.useState({});v.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{const d=await ut.getAllCompanies();d.success&&Array.isArray(d.data)?c(d.data):c([])}catch(d){console.error("Error fetching companies:",d),c([])}};v.useEffect(()=>{n&&e&&(l({name:n.name,address:n.address,contact_no:n.contact_no,gst_no:n.gst_no,comp_code:n.comp_code,comp_name:n.comp_name,is_active:n.is_active}),u({}))},[n,e]);const b=d=>{const{name:g,value:_}=d.target;l(j=>({...j,[g]:_})),x[g]&&u(j=>({...j,[g]:void 0}))},N=d=>{const g=o.find(_=>_.comp_name===d.target.value);g&&l(_=>({..._,comp_name:g.comp_name,comp_code:g.code})),x.comp_name&&u(_=>({..._,comp_name:void 0}))},C=d=>{const{name:g,checked:_}=d.target;l(j=>({...j,[g]:_}))},k=()=>{var g,_,j,S,m;const d={};return(g=a.name)!=null&&g.trim()||(d.name="Customer name is required"),(_=a.address)!=null&&_.trim()||(d.address="Address is required"),(j=a.contact_no)!=null&&j.trim()||(d.contact_no="Contact number is required"),(S=a.gst_no)!=null&&S.trim()||(d.gst_no="GST number is required"),(m=a.comp_name)!=null&&m.trim()||(d.comp_name="Company selection is required"),u(d),Object.keys(d).length===0},f=async d=>{if(d.preventDefault(),!(!k()||!n)){p(!0);try{(await mt.updateCustomer(n.id,a)).success&&(r(),h())}catch(g){console.error("Error updating customer:",g),alert("Failed to update customer")}finally{p(!1)}}},h=()=>{l({name:"",address:"",contact_no:"",gst_no:"",comp_code:"",comp_name:"",is_active:!0}),u({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:h,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:f,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Customer"}),s.jsx("button",{type:"button",onClick:h,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:i,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Customer Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter customer name",disabled:i}),x.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address *"}),s.jsx("textarea",{id:"address",name:"address",value:a.address,onChange:b,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.address?"border-red-300":"border-gray-300"}`,placeholder:"Enter complete address",disabled:i}),x.address&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.address})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact_no",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),s.jsx("input",{type:"text",id:"contact_no",name:"contact_no",value:a.contact_no,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.contact_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter contact number",disabled:i}),x.contact_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.contact_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gst_no",className:"block text-sm font-medium text-gray-700",children:"GST Number *"}),s.jsx("input",{type:"text",id:"gst_no",name:"gst_no",value:a.gst_no,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.gst_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter GST number",disabled:i}),x.gst_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.gst_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:a.comp_name,onChange:N,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.comp_name?"border-red-300":"border-gray-300"}`,disabled:i,children:[s.jsx("option",{value:"",children:"Select a company"}),o.map(d=>s.jsx("option",{value:d.comp_name,children:d.comp_name},d.id))]}),x.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_code",className:"block text-sm font-medium text-gray-700",children:"Company Code"}),s.jsx("input",{type:"text",id:"comp_code",name:"comp_code",value:a.comp_code,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-200 rounded-md shadow-sm bg-gray-50 text-gray-600 sm:text-sm",placeholder:"Auto-populated from company selection",disabled:i}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Company code is auto-populated when you select a company"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:C,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded",disabled:i}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Customer"}),s.jsx("button",{type:"button",onClick:h,disabled:i,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},ix=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState(!0),[i,p]=v.useState(null),[x,u]=v.useState(!1),[y,b]=v.useState(!1);v.useEffect(()=>{N()},[]),v.useEffect(()=>{let g=e;a&&(g=g.filter(_=>_.name.toLowerCase().includes(a.toLowerCase())||_.address.toLowerCase().includes(a.toLowerCase())||_.contact_no.toLowerCase().includes(a.toLowerCase())||_.gst_no.toLowerCase().includes(a.toLowerCase()))),n(g)},[e,a]);const N=async()=>{c(!0);try{const g=await K.getCustomers();if(console.log("Customers API Response:",g),g.success)if(Array.isArray(g.data)){const _=g.data.sort((j,S)=>new Date(S.created_at).getTime()-new Date(j.created_at).getTime());t(_),n(_)}else if(g.data&&Array.isArray(g.data.data)){const _=g.data.data.sort((j,S)=>new Date(S.created_at).getTime()-new Date(j.created_at).getTime());t(_),n(_)}else t([]),n([]);else t([]),n([])}catch(g){console.error("Error fetching customers:",g),t([]),n([])}finally{c(!1)}},C=()=>{N(),u(!1)},k=g=>{p(g),b(!0)},f=()=>{b(!1),p(null)},h=()=>{N()},d=async(g,_)=>{if(window.confirm(`Are you sure you want to delete customer "${_}"? This action cannot be undone.`))try{(await K.deleteCustomer(g)).success&&await N()}catch(j){console.error("Error deleting customer:",j),alert("Failed to delete customer")}};return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all customers in the system"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Customer"]})]}),s.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx("input",{type:"text",placeholder:"Search customers by name, address, contact, or GST...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-900 focus:border-transparent",value:a,onChange:g=>l(g.target.value)})]})}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GST Number"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parts Count"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{scope:"col",className:"relative px-6 py-3",children:s.jsx("span",{className:"sr-only",children:"Actions"})})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(g=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(qo,{className:"h-8 w-8 text-blue-900"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.name}),s.jsx("div",{className:"text-sm text-gray-500",children:g.address})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fu,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{className:"text-sm text-gray-900",children:g.contact_no})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ct,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{className:"text-sm text-gray-900",children:g.gst_no})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900",children:g.parts_count||0})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(g.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>k(g),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Customer",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>d(g.id,g.name),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Customer",children:s.jsx(Wt,{className:"h-4 w-4"})})]})})]},g.id))})]})})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No customers found matching your criteria."})})]}),x&&s.jsx(lx,{isOpen:x,onClose:()=>u(!1),onSuccess:C}),y&&s.jsx(ox,{isOpen:y,onClose:f,onSuccess:h,customer:i})]})},cx=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=v.useState({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),[l,o]=v.useState([]),[c,i]=v.useState([]),[p,x]=v.useState(!1),[u,y]=v.useState(!1),[b,N]=v.useState({});v.useEffect(()=>{e&&(k(),C())},[e]);const C=async()=>{try{const j=await ut.getAllCompanies();j.success&&Array.isArray(j.data)?i(j.data):i([])}catch(j){console.error("Error fetching companies:",j)}},k=async()=>{y(!0);try{console.log("Fetching customers for parts modal...");const j=await mt.getAllCustomers();console.log("Customers API response:",j),j.success?Array.isArray(j.data)?(console.log("Setting customers from direct array:",j.data),console.log("First customer object:",j.data[0]),o(j.data)):j.data&&Array.isArray(j.data.data)?(console.log("Setting customers from paginated data:",j.data.data),console.log("First customer object:",j.data.data[0]),o(j.data.data)):(console.log("No customers data found in response"),o([])):(console.log("Customers API response not successful"),o([]))}catch(j){console.error("Error fetching customers:",j),o([])}finally{y(!1)}},f=j=>{const{name:S,value:m,type:w}=j.target;if(w==="checkbox"){const E=j.target.checked;a(L=>({...L,[S]:E}))}else if(w==="number"){const E=m===""?void 0:Number(m);a(L=>({...L,[S]:E}))}else if(S==="customer_id"){const E=m===""?0:Number(m);a(L=>({...L,[S]:E}))}else a(E=>({...E,[S]:m}));b[S]&&N(E=>({...E,[S]:void 0}))},h=j=>{a(S=>({...S,comp_name:j.target.value})),b.comp_name&&N(S=>({...S,comp_name:void 0}))},d=()=>{const j={};return n.customer_id||(j.customer_id="Customer is required"),n.comp_name.trim()||(j.comp_name="Company selection is required"),n.part_description.trim()||(j.part_description="Part description is required"),n.drawing_no.trim()||(j.drawing_no="Drawing number is required"),N(j),Object.keys(j).length===0},g=async j=>{if(j.preventDefault(),!!d()){x(!0);try{(await Gs.createPart(n)).success&&(r(),_())}catch(S){console.error("Error creating part:",S)}finally{x(!1)}}},_=()=>{a({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),N({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:_,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("form",{onSubmit:g,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Part"}),s.jsx("button",{type:"button",onClick:_,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:n.customer_id||"",onChange:f,disabled:u,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.customer_id?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a customer"}),l.map(j=>(console.log("Rendering customer option:",j.id,j.name),s.jsx("option",{value:j.id,children:j.name},j.id)))]}),b.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:h,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.comp_name?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select a company"}),c.map(j=>s.jsx("option",{value:j.comp_name,children:j.comp_name},j.id))]}),b.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:n.part_description,onChange:f,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description"}),b.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_no",className:"block text-sm font-medium text-gray-700",children:"Drawing Number *"}),s.jsx("input",{type:"text",id:"drawing_no",name:"drawing_no",value:n.drawing_no,onChange:f,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.drawing_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter drawing number"}),b.drawing_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.drawing_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rev_no",className:"block text-sm font-medium text-gray-700",children:"Revision Number"}),s.jsx("input",{type:"text",id:"rev_no",name:"rev_no",value:n.rev_no,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter revision number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"net_wt",className:"block text-sm font-medium text-gray-700",children:"Net Weight"}),s.jsx("input",{type:"number",id:"net_wt",name:"net_wt",value:n.net_wt||"",onChange:f,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter net weight"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"thickness",className:"block text-sm font-medium text-gray-700",children:"Thickness"}),s.jsx("input",{type:"number",id:"thickness",name:"thickness",value:n.thickness||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter thickness",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raw_material",className:"block text-sm font-medium text-gray-700",children:"Raw Material"}),s.jsx("input",{type:"text",id:"raw_material",name:"raw_material",value:n.raw_material,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter raw material"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead_time",className:"block text-sm font-medium text-gray-700",children:"Lead Time (days)"}),s.jsx("input",{type:"number",id:"lead_time",name:"lead_time",value:n.lead_time||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter lead time in days"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"tool_information",className:"block text-sm font-medium text-gray-700",children:"Tool Information"}),s.jsx("input",{type:"text",id:"tool_information",name:"tool_information",value:n.tool_information,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter tool information"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"drawing_location",className:"block text-sm font-medium text-gray-700",children:"Drawing Location"}),s.jsx("input",{type:"text",id:"drawing_location",name:"drawing_location",value:n.drawing_location,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter drawing location"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"operation_sequence",className:"block text-sm font-medium text-gray-700",children:"Operation Sequence"}),s.jsx("textarea",{id:"operation_sequence",name:"operation_sequence",value:n.operation_sequence,onChange:f,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter operation sequence"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:n.po_no,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:n.po_date,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:n.po_qty||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:n.po_drg_rev,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date as per PO"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:n.reqd_date_as_per_po,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:n.acknowledgement_remarks,onChange:f,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:n.po_received,onChange:f,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-900",children:"PO Received"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:p||u,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating...":"Create Part"}),s.jsx("button",{type:"button",onClick:_,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors",children:"Cancel"})]})]})})]})}):null},dx=({isOpen:e,onClose:t,onSuccess:r,part:n})=>{const[a,l]=v.useState({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),[o,c]=v.useState([]),[i,p]=v.useState(!1),[x,u]=v.useState({});v.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{const h=await ut.getAllCompanies();h.success&&Array.isArray(h.data)?c(h.data):c([])}catch(h){console.error("Error fetching companies:",h)}};v.useEffect(()=>{n&&e&&(l({customer_id:n.customer_id,part_description:n.part_description,drawing_no:n.drawing_no,rev_no:n.rev_no||"",net_wt:n.net_wt?parseFloat(n.net_wt.toString()):void 0,thickness:n.thickness?parseFloat(n.thickness.toString()):void 0,tool_information:n.tool_information||"",raw_material:n.raw_material||"",drawing_location:n.drawing_location||"",operation_sequence:n.operation_sequence||"",lead_time:n.lead_time?parseInt(n.lead_time.toString()):void 0,po_no:n.po_no||"",po_date:n.po_date?n.po_date.split("T")[0]:"",po_received:n.po_received||!1,po_qty:n.po_qty?parseInt(n.po_qty.toString()):void 0,po_drg_rev:n.po_drg_rev||"",acknowledgement_remarks:n.acknowledgement_remarks||"",reqd_date_as_per_po:n.reqd_date_as_per_po?n.reqd_date_as_per_po.split("T")[0]:"",comp_name:n.comp_name||""}),u({}))},[n,e]);const b=h=>{const{name:d,value:g,type:_}=h.target;if(_==="checkbox"){const j=h.target.checked;l(S=>({...S,[d]:j}))}else if(_==="number"){const j=g===""?void 0:Number(g);l(S=>({...S,[d]:j}))}else if(d==="customer_id"){const j=g===""?0:Number(g);l(S=>({...S,[d]:j}))}else l(j=>({...j,[d]:g}));x[d]&&u(j=>({...j,[d]:void 0}))},N=h=>{l(d=>({...d,comp_name:h.target.value})),x.comp_name&&u(d=>({...d,comp_name:void 0}))},C=()=>{var d,g,_;const h={};return(!a.customer_id||a.customer_id===0)&&(h.customer_id="Customer is required"),(d=a.comp_name)!=null&&d.trim()||(h.comp_name="Company selection is required"),(g=a.part_description)!=null&&g.trim()||(h.part_description="Part description is required"),(_=a.drawing_no)!=null&&_.trim()||(h.drawing_no="Drawing number is required"),u(h),Object.keys(h).length===0},k=async h=>{if(h.preventDefault(),!(!C()||!n)){p(!0);try{(await Gs.updatePart(n.id,a)).success&&(r(),f())}catch(d){console.error("Error updating part:",d),alert("Failed to update part")}finally{p(!1)}}},f=()=>{l({customer_id:0,part_description:"",drawing_no:"",rev_no:"",net_wt:void 0,thickness:void 0,tool_information:"",raw_material:"",drawing_location:"",operation_sequence:"",lead_time:void 0,po_no:"",po_date:"",po_received:!1,po_qty:void 0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",comp_name:""}),u({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:f,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:s.jsxs("form",{onSubmit:k,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Part"}),s.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:i,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsx("select",{id:"customer_id",name:"customer_id",value:a.customer_id,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.customer_id?"border-red-300":"border-gray-300"}`,disabled:i,children:s.jsx("option",{value:0,children:"Select a customer"})}),x.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:a.comp_name,onChange:N,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.comp_name?"border-red-300":"border-gray-300"}`,disabled:i,children:[s.jsx("option",{value:"",children:"Select a company"}),o.map(h=>s.jsx("option",{value:h.comp_name,children:h.comp_name},h.id))]}),x.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("textarea",{id:"part_description",name:"part_description",value:a.part_description,onChange:b,rows:3,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:i}),x.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_no",className:"block text-sm font-medium text-gray-700",children:"Drawing Number *"}),s.jsx("input",{type:"text",id:"drawing_no",name:"drawing_no",value:a.drawing_no,onChange:b,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${x.drawing_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter drawing number",disabled:i}),x.drawing_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.drawing_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rev_no",className:"block text-sm font-medium text-gray-700",children:"Revision Number"}),s.jsx("input",{type:"text",id:"rev_no",name:"rev_no",value:a.rev_no,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter revision number",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"net_wt",className:"block text-sm font-medium text-gray-700",children:"Net Weight"}),s.jsx("input",{type:"number",id:"net_wt",name:"net_wt",value:a.net_wt||"",onChange:b,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter net weight",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"thickness",className:"block text-sm font-medium text-gray-700",children:"Thickness"}),s.jsx("input",{type:"number",id:"thickness",name:"thickness",value:a.thickness||"",onChange:b,step:"0.01",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter thickness",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tool_information",className:"block text-sm font-medium text-gray-700",children:"Tool Information"}),s.jsx("textarea",{id:"tool_information",name:"tool_information",value:a.tool_information,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter tool information",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raw_material",className:"block text-sm font-medium text-gray-700",children:"Raw Material"}),s.jsx("textarea",{id:"raw_material",name:"raw_material",value:a.raw_material,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter raw material",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"drawing_location",className:"block text-sm font-medium text-gray-700",children:"Drawing Location"}),s.jsx("textarea",{id:"drawing_location",name:"drawing_location",value:a.drawing_location,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter drawing location",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"operation_sequence",className:"block text-sm font-medium text-gray-700",children:"Operation Sequence"}),s.jsx("textarea",{id:"operation_sequence",name:"operation_sequence",value:a.operation_sequence,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter operation sequence",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead_time",className:"block text-sm font-medium text-gray-700",children:"Lead Time (days)"}),s.jsx("input",{type:"number",id:"lead_time",name:"lead_time",value:a.lead_time||"",onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter lead time in days",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:a.po_no,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:a.po_date,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:a.po_qty||"",onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",disabled:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:a.po_drg_rev,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:a.acknowledgement_remarks,onChange:b,rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date as per PO"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:a.reqd_date_as_per_po,onChange:b,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:i})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:i,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Updating...":"Update Part"}),s.jsx("button",{type:"button",onClick:f,disabled:i,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},ux=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState([]),[o,c]=v.useState(""),[i,p]=v.useState("all"),[x,u]=v.useState(!0),[y,b]=v.useState(null),[N,C]=v.useState(!1),[k,f]=v.useState(!1),[h,d]=v.useState(!1);v.useEffect(()=>{g()},[]),v.useEffect(()=>{let A=e;o&&(A=A.filter(D=>{var I;return D.part_description.toLowerCase().includes(o.toLowerCase())||D.drawing_no.toLowerCase().includes(o.toLowerCase())||((I=D.raw_material)==null?void 0:I.toLowerCase().includes(o.toLowerCase()))||D.customer.name.toLowerCase().includes(o.toLowerCase())})),i!=="all"&&(A=A.filter(D=>D.customer_id===parseInt(i))),n(A)},[e,o,i]);const g=async()=>{u(!0);try{const[A,D]=await Promise.all([K.getParts().catch(()=>({success:!1,data:[]})),K.getCustomers().catch(()=>({success:!1,data:[]}))]);if(A.success){let I=[];Array.isArray(A.data)?I=A.data:A.data&&typeof A.data=="object"&&"data"in A.data&&Array.isArray(A.data.data)&&(I=A.data.data),t(I),n(I)}else t([]),n([]);if(D.success){let I=[];Array.isArray(D.data)?I=D.data:D.data&&typeof D.data=="object"&&"data"in D.data&&Array.isArray(D.data.data)&&(I=D.data.data),l(I)}else l([])}catch(A){console.error("Error fetching data:",A),t([]),n([]),l([])}finally{u(!1)}},_=A=>{b(A),C(!0)},j=()=>{C(!1),b(null)},S=()=>{g()},m=A=>{b(A),d(!0)},w=()=>{d(!1),b(null)},E=()=>{g()},L=async(A,D)=>{if(window.confirm(`Are you sure you want to delete part "${D}"? This action cannot be undone.`))try{(await K.deletePart(A)).success&&await g()}catch(I){console.error("Error deleting part:",I),alert("Failed to delete part")}};return x?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parts"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage all parts and their specifications"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Part"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search parts by description, drawing, material, or customer...",value:o,onChange:A=>c(A.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:A=>p(A.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Customers"}),a.map(A=>s.jsx("option",{value:A.id.toString(),children:A.name},A.id))]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(A=>s.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 bg-green-100 rounded-full p-3",children:s.jsx(Ss,{className:"h-6 w-6 text-green-900"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 line-clamp-2",children:A.part_description}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",A.id]})]})]}),s.jsx("div",{className:"flex space-x-1",children:s.jsx("button",{onClick:()=>_(A),className:"p-1 text-gray-400 hover:text-blue-900 transition-colors",title:"View Details",children:s.jsx(Ur,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(qo,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-600",children:A.customer.name})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ss,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Drawing: ",A.drawing_no]})]}),A.rev_no&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ss,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Rev: ",A.rev_no]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hn,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(A.created_at).toLocaleDateString()})]}),A.lead_time&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hn,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[A.lead_time," days"]})]})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>m(A),className:"p-1 text-blue-600 hover:text-blue-700 transition-colors",title:"Edit Part",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>L(A.id,A.part_description),className:"p-1 text-red-600 hover:text-red-700 transition-colors",title:"Delete Part",children:s.jsx(Wt,{className:"h-4 w-4"})})]})})]})]})},A.id))}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ss,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No parts found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o||i!=="all"?"Try adjusting your search terms":"Get started by adding a new part"})]}),N&&y&&s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:j,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl leading-6 font-medium text-gray-900",children:"Part Details"}),s.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Wt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part Description"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:y.part_description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.drawing_no})]}),y.rev_no&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Revision Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.rev_no})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.customer.name})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(y.created_at).toLocaleDateString()})]})]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Technical Specifications"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[y.net_wt&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zf,{className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Net Weight"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.net_wt})]})]}),y.thickness&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Thickness"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.thickness})]}),y.raw_material&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Raw Material"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.raw_material})]}),y.tool_information&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Tool Information"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.tool_information})]}),y.drawing_location&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing Location"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.drawing_location})]}),y.operation_sequence&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Operation Sequence"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.operation_sequence})]}),y.lead_time&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Lead Time"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[y.lead_time," days"]})]})]})]})}),(y.po_no||y.po_date||y.po_qty||y.po_received)&&s.jsx("div",{className:"space-y-4 lg:col-span-2",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Purchase Order Information"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.po_no&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.po_no})]}),y.po_date&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(y.po_date).toLocaleDateString()})]}),y.po_qty&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.po_qty})]}),y.po_drg_rev&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Drawing Revision"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.po_drg_rev})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Received"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.po_received?"Yes":"No"})]}),y.reqd_date_as_per_po&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Required Date as per PO"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(y.reqd_date_as_per_po).toLocaleDateString()})]})]}),y.acknowledgement_remarks&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Acknowledgement Remarks"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:y.acknowledgement_remarks})]})]})]})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:j,children:"Close"})})]})]})}),s.jsx(cx,{isOpen:k,onClose:()=>f(!1),onSuccess:S}),h&&s.jsx(dx,{isOpen:h,onClose:w,onSuccess:E,part:y})]})},mx=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=v.useState({customer_id:0,part_id:0,po_no:"",po_date:"",po_received:!1,po_qty:0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",dispatch_details_inv_date:"",dispatch_details_inv_no:"",dispatch_details_inv_qlt:0,balance_qty:0,balance_as_per_hitachi:0,price:"",fg_stock:0,wip_stock:0,comp_name:""}),[l,o]=v.useState([]),[c,i]=v.useState([]),[p,x]=v.useState([]),[u,y]=v.useState(!1),[b,N]=v.useState({});v.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{const[d,g,_]=await Promise.all([mt.getAllCustomers(),Gs.getAllParts(),ut.getAllCompanies()]);d.success&&(Array.isArray(d.data)?o(d.data):d.data&&Array.isArray(d.data.data)&&o(d.data.data)),g.success&&Array.isArray(g.data)&&i(g.data),_.success&&(Array.isArray(_.data)?x(_.data):_.data&&Array.isArray(_.data.data)&&x(_.data.data))}catch(d){console.error("Error fetching data:",d)}},k=d=>{const{name:g,value:_,type:j}=d.target;if(j==="checkbox"){const S=d.target.checked;a(m=>({...m,[g]:S}))}else if(j==="number"){const S=_===""?void 0:Number(_);a(m=>({...m,[g]:S}))}else a(S=>({...S,[g]:_}))},f=()=>{var g,_;const d={};return n.customer_id||(d.customer_id="Customer is required"),n.part_id||(d.part_id="Part is required"),(g=n.po_no)!=null&&g.trim()||(d.po_no="PO number is required"),(!n.po_qty||n.po_qty<=0)&&(d.po_qty="PO quantity must be greater than 0"),(!n.price||parseFloat(n.price)<=0)&&(d.price="Price must be greater than 0"),(_=n.comp_name)!=null&&_.trim()||(d.comp_name="Company name is required"),N(d),Object.keys(d).length===0},h=async d=>{if(d.preventDefault(),!!f()){y(!0);try{const g=await fa.createOrder(n);g.success?(r(),t(),a({customer_id:0,part_id:0,po_no:"",po_date:"",po_received:!1,po_qty:0,po_drg_rev:"",acknowledgement_remarks:"",reqd_date_as_per_po:"",dispatch_details_inv_date:"",dispatch_details_inv_no:"",dispatch_details_inv_qlt:0,balance_qty:0,balance_as_per_hitachi:0,price:"",fg_stock:0,wip_stock:0,comp_name:""})):alert("Failed to create order: "+(g.message||"Unknown error"))}catch(g){console.error("Error creating order:",g),alert("Failed to create order. Please try again.")}finally{y(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:h,className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Order"}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:t,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:n.customer_id||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a customer"}),l.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]}),b.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:n.part_id||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a part"}),c.map(d=>s.jsx("option",{value:d.id,children:d.part_description},d.id))]}),b.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"company",name:"company",value:n.comp_name,onChange:d=>a(g=>({...g,comp_name:d.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),p.map(d=>s.jsx("option",{value:d.comp_name,children:d.comp_name},d.id))]}),b.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number *"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:n.po_no,onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"}),b.po_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.po_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",value:n.po_qty||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",min:"1"}),b.po_qty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.po_qty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),s.jsx("input",{type:"number",id:"price",name:"price",value:n.price,onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter unit price",step:"0.01",min:"0"}),b.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.price})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"balance_qty",className:"block text-sm font-medium text-gray-700",children:"Balance Quantity"}),s.jsx("input",{type:"number",id:"balance_qty",name:"balance_qty",value:n.balance_qty||"",onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter balance quantity",min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:n.po_drg_rev,onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:n.reqd_date_as_per_po,onChange:k,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:n.acknowledgement_remarks,onChange:k,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:n.po_received,onChange:k,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-700",children:"PO Received"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:u,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:u?"Creating...":"Create Order"})]})]})})]})}):null},px=({isOpen:e,onClose:t,onSuccess:r,order:n})=>{const[a,l]=v.useState({}),[o,c]=v.useState([]),[i,p]=v.useState([]),[x,u]=v.useState([]),[y,b]=v.useState(!1),[N,C]=v.useState({});v.useEffect(()=>{e&&k()},[e]),v.useEffect(()=>{var g,_,j,S,m,w,E,L,A,D,I,Y;if(n){const T={customer_id:(g=n.originalOrder)==null?void 0:g.customer_id,part_id:(_=n.originalOrder)==null?void 0:_.part_id,po_no:((j=n.originalOrder)==null?void 0:j.po_no)||"",po_date:(S=n.originalOrder)!=null&&S.po_date?n.originalOrder.po_date.split("T")[0]:"",po_received:((m=n.originalOrder)==null?void 0:m.po_received)||!1,po_qty:(w=n.originalOrder)==null?void 0:w.po_qty,po_drg_rev:((E=n.originalOrder)==null?void 0:E.po_drg_rev)||"",acknowledgement_remarks:((L=n.originalOrder)==null?void 0:L.acknowledgement_remarks)||"",reqd_date_as_per_po:(A=n.originalOrder)!=null&&A.reqd_date_as_per_po?n.originalOrder.reqd_date_as_per_po.split("T")[0]:"",price:((D=n.originalOrder)==null?void 0:D.price)||"",balance_qty:(I=n.originalOrder)==null?void 0:I.balance_qty,comp_name:((Y=n.originalOrder)==null?void 0:Y.comp_name)||""};console.log("Setting initial form data:",T),l(T)}},[n,e]),v.useEffect(()=>{console.log("Form data changed:",a)},[a]);const k=async()=>{try{const[g,_,j]=await Promise.all([mt.getAllCustomers(),Gs.getAllParts(),ut.getAllCompanies()]);g.success&&(Array.isArray(g.data)?c(g.data):g.data&&Array.isArray(g.data.data)&&c(g.data.data)),_.success&&Array.isArray(_.data)&&p(_.data),j.success&&(Array.isArray(j.data)?u(j.data):j.data&&Array.isArray(j.data.data)&&u(j.data.data))}catch(g){console.error("Error fetching data:",g)}},f=g=>{console.log("=== INPUT CHANGE DETECTED ===");const{name:_,value:j,type:S}=g.target;if(console.log("Input changed:",{name:_,value:j,type:S}),S==="checkbox"){const m=g.target.checked;console.log("Checkbox changed:",{name:_,checked:m}),l(w=>{console.log("Previous form data:",w);const E={...w,[_]:m};return console.log("New form data:",E),E})}else if(S==="number"){const m=j===""?void 0:Number(j);console.log("Number changed:",{name:_,numValue:m}),l(w=>{console.log("Previous form data:",w);const E={...w,[_]:m};return console.log("New form data:",E),E})}else console.log("Text changed:",{name:_,value:j}),l(m=>{console.log("Previous form data:",m);const w={...m,[_]:j};return console.log("New form data:",w),w})},h=()=>{var _,j;const g={};return a.customer_id||(g.customer_id="Customer is required"),a.part_id||(g.part_id="Part is required"),(_=a.po_no)!=null&&_.trim()||(g.po_no="PO number is required"),(!a.po_qty||a.po_qty<=0)&&(g.po_qty="PO quantity must be greater than 0"),(!a.price||parseFloat(a.price)<=0)&&(g.price="Price must be greater than 0"),(j=a.comp_name)!=null&&j.trim()||(g.comp_name="Company name is required"),C(g),Object.keys(g).length===0},d=async g=>{if(g.preventDefault(),!!h()){await new Promise(_=>setTimeout(_,0)),b(!0);try{const _={...a};console.log("Submitting edit with current data:",_);const j=await fa.updateOrder(n.id,_);console.log("Edit response:",j),j.success?(console.log("Edit successful, calling onSuccess"),alert("Order updated successfully"),r(),t()):alert("Failed to update order: "+(j.message||"Unknown error"))}catch(_){console.error("Error updating order:",_),alert("Failed to update order. Please try again.")}finally{b(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:t,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:d,className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["Edit Order - ",n.orderNumber]}),s.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:t,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:a.customer_id||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a customer"}),o.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]}),N.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:a.part_id||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a part"}),i.map(g=>s.jsx("option",{value:g.id,children:g.part_description},g.id))]}),N.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.part_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_no",className:"block text-sm font-medium text-gray-700",children:"PO Number *"}),s.jsx("input",{type:"text",id:"po_no",name:"po_no",value:a.po_no,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO number"}),N.po_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.po_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_date",className:"block text-sm font-medium text-gray-700",children:"PO Date"}),s.jsx("input",{type:"date",id:"po_date",name:"po_date",value:a.po_date,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_qty",className:"block text-sm font-medium text-gray-700",children:"PO Quantity *"}),s.jsx("input",{type:"number",id:"po_qty",name:"po_qty",value:a.po_qty||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO quantity",min:"1"}),N.po_qty&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.po_qty})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Unit Price *"}),s.jsx("input",{type:"number",id:"price",name:"price",value:a.price,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter unit price",step:"0.01",min:"0"}),N.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.price})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"comp_name",className:"block text-sm font-medium text-gray-700",children:"Company *"}),s.jsxs("select",{id:"comp_name",name:"comp_name",value:a.comp_name||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"",children:"Select a company"}),x.map(g=>s.jsx("option",{value:g.comp_name,children:g.comp_name},g.id))]}),N.comp_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.comp_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"balance_qty",className:"block text-sm font-medium text-gray-700",children:"Balance Quantity"}),s.jsx("input",{type:"number",id:"balance_qty",name:"balance_qty",value:a.balance_qty||"",onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter balance quantity",min:"0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"po_drg_rev",className:"block text-sm font-medium text-gray-700",children:"PO Drawing Revision"}),s.jsx("input",{type:"text",id:"po_drg_rev",name:"po_drg_rev",value:a.po_drg_rev,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter PO drawing revision"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reqd_date_as_per_po",className:"block text-sm font-medium text-gray-700",children:"Required Date"}),s.jsx("input",{type:"date",id:"reqd_date_as_per_po",name:"reqd_date_as_per_po",value:a.reqd_date_as_per_po,onChange:f,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acknowledgement_remarks",className:"block text-sm font-medium text-gray-700",children:"Acknowledgement Remarks"}),s.jsx("textarea",{id:"acknowledgement_remarks",name:"acknowledgement_remarks",value:a.acknowledgement_remarks,onChange:f,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter acknowledgement remarks"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"po_received",name:"po_received",checked:a.po_received,onChange:f,className:"h-4 w-4 text-blue-900 focus:ring-blue-900 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"po_received",className:"ml-2 block text-sm text-gray-700",children:"PO Received"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:y,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:y?"Updating...":"Update Order"})]})]})})]})}):null},hx=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState("all"),[i,p]=v.useState("all"),[x,u]=v.useState(""),[y,b]=v.useState([]),[N,C]=v.useState(!0),[k,f]=v.useState(null),[h,d]=v.useState(!1),[g,_]=v.useState(!1),[j,S]=v.useState(!1),m=async()=>{C(!0);try{const T=await K.getOrders();if(console.log("Orders API Response:",T),T.success){let W=[];if(Array.isArray(T.data)?W=T.data:T.data&&Array.isArray(T.data.data)&&(W=T.data.data),console.log("Orders Data after fetch:",W),console.log("Orders Data length:",W.length),W.length>0){const F=W.map(P=>{var z,Q,Ne,M;return console.log("Processing order:",P),{id:P.id.toString(),orderNumber:P.po_no,company:((z=P.customer)==null?void 0:z.name)||"Unknown Customer",status:P.po_received?"completed":"pending",total:parseFloat(P.price)*P.po_qty,createdDate:((Q=P.created_at)==null?void 0:Q.split("T")[0])||"",poQty:P.po_qty,balanceQty:P.balance_qty,price:P.price,fgStock:P.fg_stock,wipStock:P.wip_stock,partDescription:((Ne=P.part)==null?void 0:Ne.part_description)||"Unknown Part",drawingNo:((M=P.part)==null?void 0:M.drawing_no)||"",reqdDate:P.reqd_date_as_per_po?P.reqd_date_as_per_po.split("T")[0]:"",dispatchDate:P.dispatch_details_inv_date?P.dispatch_details_inv_date.split("T")[0]:"",invNo:P.dispatch_details_inv_no||"",originalOrder:P}});console.log("Mapped Orders:",F),t(F),n(F);const U=Array.from(new Set(W.filter(P=>{var z;return(z=P.customer)==null?void 0:z.name}).map(P=>P.customer.name)));b(U)}else console.log("No orders found, setting empty arrays"),t([]),n([]),b([])}else console.log("Invalid response structure:",T),t([]),n([]),b([])}catch(T){console.error("Error fetching orders:",T),t([]),n([]),b([])}finally{C(!1)}};v.useEffect(()=>{m()},[]),v.useEffect(()=>{let T=e;a&&(T=T.filter(W=>W.orderNumber.toLowerCase().includes(a.toLowerCase())||W.company.toLowerCase().includes(a.toLowerCase())||W.status.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(T=T.filter(W=>W.company===o)),i!=="all"&&(T=T.filter(W=>W.status===i)),x&&(T=T.filter(W=>W.createdDate===x)),n(T)},[e,a,o,i,x]);const w=T=>{const W=e.find(F=>F.id===T);W&&(f(W),d(!0))},E=()=>{_(!0)},L=T=>{f(T),S(!0)},A=async(T,W)=>{if(window.confirm(`Are you sure you want to delete order "${W}"? This action cannot be undone.`))try{const F=await K.deleteOrder(parseInt(T));F.success?(alert("Order deleted successfully"),await m()):alert("Failed to delete order: "+(F.message||"Unknown error"))}catch(F){console.error("Error deleting order:",F),alert("Failed to delete order. Please try again.")}},D=()=>{d(!1),_(!1),S(!1),f(null)},I=()=>{m(),_(!1)},Y=()=>{console.log("handleEditSuccess called"),console.log("Immediately calling fetchOrders"),m(),S(!1),f(null)};return N?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Orders"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View all orders across all companies in the system"})]}),s.jsxs("button",{onClick:E,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Order"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search orders...",value:a,onChange:T=>l(T.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"},"all"),y.map(T=>s.jsx("option",{value:T,children:T},T))]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:T=>p(T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"},"all"),s.jsx("option",{value:"pending",children:"Pending"},"pending"),s.jsx("option",{value:"processing",children:"Processing"},"processing"),s.jsx("option",{value:"completed",children:"Completed"},"completed"),s.jsx("option",{value:"cancelled",children:"Cancelled"},"cancelled")]})}),s.jsx("div",{children:s.jsx("input",{type:"date",value:x,onChange:T=>u(T.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Part Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Drawing No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Qty"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance Qty"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"FG Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WIP Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dispatch Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice No"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.orderNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.company}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:T.partDescription}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.drawingNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.poQty}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.balanceQty}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",parseFloat(T.price).toFixed(2)]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",T.total.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.fgStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.wipStock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.reqdDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.dispatchDate}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.invNo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.status==="completed"?"bg-green-100 text-green-800":T.status==="processing"?"bg-yellow-100 text-yellow-800":T.status==="pending"?"bg-blue-200 text-blue-900":"bg-red-100 text-red-800"}`,children:T.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>L(T),className:"text-blue-600 hover:text-blue-900 p-1",title:"Edit Order",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(T.id,T.orderNumber),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Order",children:s.jsx(Wt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>w(T.id),className:"text-blue-900 hover:text-blue-800 p-1",title:"View Order",children:s.jsx(Ur,{className:"h-4 w-4"})})]})})]},T.id))})]})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No orders found matching your criteria."})})]}),h&&k&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:D,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Order Details"}),s.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.orderNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Customer"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.company})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Part Description"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.partDescription})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Drawing No"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.drawingNo})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"PO Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.poQty})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Balance Quantity"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.balanceQty})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Unit Price"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",parseFloat(k.price).toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:["",k.total.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.status==="completed"?"bg-green-100 text-green-800":k.status==="processing"?"bg-yellow-100 text-yellow-800":k.status==="pending"?"bg-blue-200 text-blue-900":"bg-red-100 text-red-800"}`,children:k.status})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"FG Stock"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.fgStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"WIP Stock"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.wipStock})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(k.createdDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Required Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.reqdDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Dispatch Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:k.dispatchDate}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["",Math.floor(k.total*.9).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tax (10%)"}),s.jsxs("span",{children:["",Math.floor(k.total*.1).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",k.total.toLocaleString()]})]})]})]})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm",onClick:D,children:"Close"})})]})]})}),g&&s.jsx(mx,{isOpen:g,onClose:()=>_(!1),onSuccess:I}),j&&k&&s.jsx(px,{isOpen:j,onClose:()=>{S(!1),f(null)},onSuccess:Y,order:k})]})},fx=({isOpen:e,onClose:t,onSuccess:r})=>{var S;const[n,a]=v.useState({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),[l,o]=v.useState([]),[c,i]=v.useState([]),[p,x]=v.useState([]),[u,y]=v.useState(!1),[b,N]=v.useState({});v.useEffect(()=>{if(e){const m=new Date,w=m.getFullYear(),E=String(m.getMonth()+1).padStart(2,"0"),L=String(m.getDate()).padStart(2,"0"),A=Math.floor(Math.random()*1e3).toString().padStart(3,"0"),D=`DC-${w}${E}${L}-${A}`;a(I=>({...I,challan_no:D,challan_date:m.toISOString().split("T")[0],from:"Eskay Engichem Pvt Ltd"})),N({}),C(),k(),f()}},[e]);const C=async()=>{try{const m=await ut.getAllCompanies();if(m.success){let w=[];Array.isArray(m.data)?w=m.data:m.data.data&&Array.isArray(m.data.data)&&(w=m.data.data),o(w),console.log("Companies loaded for dropdown:",w.length,w)}}catch(m){console.error("Error fetching companies:",m)}},k=async()=>{try{const m=await K.getParts();if(m.success){let w=[];Array.isArray(m.data)?w=m.data:m.data.data&&Array.isArray(m.data.data)&&(w=m.data.data),i(w),console.log("Parts loaded for dropdown:",w.length,w)}}catch(m){console.error("Error fetching parts:",m)}},f=async()=>{try{const m=await mt.getAllCustomers();if(m.success){let w=[];Array.isArray(m.data)?w=m.data:m.data.data&&Array.isArray(m.data.data)&&(w=m.data.data),x(w),console.log("Customers loaded for dropdown:",w.length,w)}}catch(m){console.error("Error fetching customers:",m)}},h=m=>{if(!m)return"";const w=new Date(m);return isNaN(w.getTime())?"":w.toISOString().split("T")[0]},d=m=>{const{name:w,value:E,type:L}=m.target;let A=E;if(w==="quantity"&&L==="number"?A=E===""?0:Number(E):w==="customer_id"&&(A=E===""?null:Number(E)),w==="to"){const D=l.find(I=>I.company_name===E||I.comp_name===E||I.name===E);a(I=>({...I,[w]:A,comp_name:(D==null?void 0:D.company_name)||(D==null?void 0:D.comp_name)||(D==null?void 0:D.name)||E}))}else a(D=>({...D,[w]:A}));b[w]&&N(D=>({...D,[w]:""}))},g=()=>{const m={};return n.challan_no.trim()||(m.challan_no="Challan number is required"),n.to.trim()||(m.to="Company/Recipient is required"),n.comp_name.trim()||(m.comp_name="Company name is required"),n.from.trim()||(m.from="From location is required"),n.part_id||(m.part_id="Part selection is required"),n.customer_id||(m.customer_id="Customer selection is required"),n.part_no.trim()||(m.part_no="Part number is required"),n.part_description.trim()||(m.part_description="Part description is required"),(!n.quantity||typeof n.quantity!="number"||n.quantity<=0)&&(m.quantity="Quantity must be greater than 0"),n.unit_rate.trim()||(m.unit_rate="Unit rate is required"),n.total.trim()||(m.total="Total is required"),N(m),Object.keys(m).length===0},_=async m=>{if(m.preventDefault(),!g())return;const w={...n,part_id:n.part_id&&n.part_id>0?n.part_id:null,customer_id:n.customer_id&&n.customer_id>0?n.customer_id:null};y(!0);try{console.log("Submitting delivery challan data:",w);const E=await K.createDeliveryChallan(w);console.log("Create delivery challan response:",E),r(),t()}catch(E){console.error("Error creating delivery challan:",E)}finally{y(!1)}},j=()=>{a({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),N({}),t()};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:j,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Create New Delivery Challan"}),s.jsx("button",{type:"button",onClick:j,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:u,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_no",className:"block text-sm font-medium text-gray-700",children:"Challan Number *"}),s.jsx("input",{type:"text",id:"challan_no",name:"challan_no",value:n.challan_no,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.challan_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter challan number",disabled:u}),b.challan_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.challan_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700",children:"Company/Recipient *"}),s.jsxs("select",{id:"to",name:"to",value:n.to,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.to?"border-red-300":"border-gray-300"}`,disabled:u,children:[s.jsx("option",{value:"",children:"Select company"}),l.map(m=>s.jsx("option",{value:m.company_name||m.comp_name||m.name,children:m.company_name||m.comp_name||m.name},m.id))]}),b.to&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.to})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:n.part_id||"",onChange:m=>{const w=m.target.value?Number(m.target.value):null,E=c.find(L=>L.id===w);a(L=>({...L,part_id:w,part_no:(E==null?void 0:E.part_no)||"",part_description:(E==null?void 0:E.part_description)||"",hsn_code:(E==null?void 0:E.hsn_code)||""}))},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.part_id?"border-red-300":"border-gray-300"}`,disabled:u,children:[s.jsx("option",{value:"",children:"Select part"}),c.map(m=>s.jsxs("option",{value:m.id,children:[m.part_no," - ",m.part_description]},m.id))]}),b.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_no",className:"block text-sm font-medium text-gray-700",children:"Part Number *"}),s.jsx("input",{type:"text",id:"part_no",name:"part_no",value:n.part_no,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.part_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter part number",disabled:u}),b.part_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_no})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700",children:"From *"}),s.jsx("input",{type:"text",id:"from",name:"from",value:n.from,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.from?"border-red-300":"border-gray-300"}`,placeholder:"Enter from location",disabled:u}),b.from&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.from})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:n.part_description,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:u}),b.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:((S=n.customer_id)==null?void 0:S.toString())||"",onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.customer_id?"border-red-300":"border-gray-300"}`,disabled:u,children:[s.jsx("option",{value:"",children:"Select customer"}),p.map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]}),b.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hsn_code",className:"block text-sm font-medium text-gray-700",children:"HSN Code"}),s.jsx("input",{type:"text",id:"hsn_code",name:"hsn_code",value:n.hsn_code,onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter HSN code",disabled:u})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",value:n.quantity,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Enter quantity",min:"1",disabled:u}),b.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit_rate",className:"block text-sm font-medium text-gray-700",children:"Unit Rate *"}),s.jsx("input",{type:"text",id:"unit_rate",name:"unit_rate",value:n.unit_rate,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.unit_rate?"border-red-300":"border-gray-300"}`,placeholder:"Enter unit rate",disabled:u}),b.unit_rate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.unit_rate})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700",children:"Total Amount *"}),s.jsx("input",{type:"text",id:"total",name:"total",value:n.total,onChange:d,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${b.total?"border-red-300":"border-gray-300"}`,placeholder:"Enter total amount",disabled:u}),b.total&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.total})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_date",className:"block text-sm font-medium text-gray-700",children:"Challan Date"}),s.jsx("input",{type:"date",id:"challan_date",name:"challan_date",value:h(n.challan_date),onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:u})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"signature",className:"block text-sm font-medium text-gray-700",children:"Authorized Signature"}),s.jsx("input",{type:"text",id:"signature",name:"signature",value:n.signature||"",onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter authorized signature",disabled:u})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),s.jsx("textarea",{id:"notes",name:"notes",value:n.notes||"",onChange:d,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter any additional notes",disabled:u})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Delivery Instructions"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Ensure all items are properly packed"}),s.jsx("li",{children:" Verify order quantities before dispatch"}),s.jsx("li",{children:" Get signature from recipient upon delivery"}),s.jsx("li",{children:' Update status to "delivered" after completion'})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:u,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Challan"}),s.jsx("button",{type:"button",onClick:j,disabled:u,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})}):null},xx=({isOpen:e,onClose:t,onSuccess:r,challan:n})=>{var m;const a=w=>{if(!w)return"";const E=new Date(w);return isNaN(E.getTime())?"":E.toISOString().split("T")[0]},[l,o]=v.useState({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null,status:"pending"}),[c,i]=v.useState([]),[p,x]=v.useState([]),[u,y]=v.useState([]),[b,N]=v.useState(!1),[C,k]=v.useState({});v.useEffect(()=>{var w,E;n&&e&&(console.log("Prefilling form with challan data:",n),o({challan_no:n.challan_no||n.challanNumber||"",comp_name:n.comp_name||n.company||n.company||"",customer_id:n.customer_id||((w=n.customer)==null?void 0:w.id)||null,challan_date:n.challan_date||n.createdDate||"",to:n.to||n.comp_name||n.company||"",from:n.from||"",part_id:n.part_id||((E=n.part)==null?void 0:E.id)||null,part_no:n.part_no||n.orderId||"",part_description:n.partDescription||"",hsn_code:n.hsn_code||n.hsnCode||"",quantity:n.quantity||1,unit_rate:n.unit_rate||n.unitRate||"0.00",total:n.total||"0.00",notes:n.notes||null,signature:n.signature||null,status:n.status||"pending"}),k({}),f(),h(),d())},[n,e]);const f=async()=>{try{const w=await mt.getAllCustomers();if(w.success){let E=[];Array.isArray(w.data)?E=w.data:w.data.data&&Array.isArray(w.data.data)&&(E=w.data.data),i(E),console.log("Companies loaded for dropdown:",E.length,E)}}catch(w){console.error("Error fetching companies:",w)}},h=async()=>{try{const w=await Gs.getAllParts();if(w.success&&w.data){const E=Array.isArray(w.data)?w.data:[];x(E),console.log("Parts loaded for dropdown:",E.length,E)}}catch(w){console.error("Error fetching parts:",w)}},d=async()=>{try{const w=await mt.getAllCustomers();if(w.success){let E=[];Array.isArray(w.data)?E=w.data:w.data.data&&Array.isArray(w.data.data)&&(E=w.data.data),y(E),console.log("Customers loaded for dropdown:",E.length,E)}}catch(w){console.error("Error fetching customers:",w)}},g=w=>{const{name:E,value:L}=w.target;o(A=>({...A,[E]:L})),C[E]&&k(A=>({...A,[E]:void 0}))},_=()=>{var E,L,A,D,I,Y,T,W,F,U,P,z,Q;const w={};return(E=l.challan_no)!=null&&E.trim()||(w.challan_no="Challan number is required"),(L=l.comp_name)!=null&&L.trim()||(w.comp_name="Company is required"),l.customer_id||(w.customer_id="Customer is required"),(A=l.challan_date)!=null&&A.trim()||(w.challan_date="Delivery date is required"),(D=l.to)!=null&&D.trim()||(w.to="To field is required"),(I=l.from)!=null&&I.trim()||(w.from="From field is required"),l.part_id||(w.part_id="Part is required"),(Y=l.part_no)!=null&&Y.trim()||(w.part_no="Part number is required"),(T=l.part_description)!=null&&T.trim()||(w.part_description="Part description is required"),(W=l.hsn_code)!=null&&W.trim()||(w.hsn_code="HSN code is required"),(!l.quantity||l.quantity<=0)&&(w.quantity="Quantity must be greater than 0"),(F=l.unit_rate)!=null&&F.trim()||(w.unit_rate="Unit rate is required"),(U=l.total)!=null&&U.trim()||(w.total="Total is required"),(P=l.challan_date)!=null&&P.trim()||(w.challan_date="Challan date is required"),(z=l.signature)!=null&&z.trim()||(w.signature="Signature is required"),(Q=l.notes)!=null&&Q.trim()||(w.notes="Notes are required"),l.status||(w.status="Status is required"),k(w),Object.keys(w).length===0},j=async w=>{if(w.preventDefault(),console.log("Form data being submitted:",l),console.log("Challan ID:",n==null?void 0:n.id,"Type:",typeof(n==null?void 0:n.id)),!_()||!n)return;const E={...l,part_id:l.part_id&&l.part_id>0?l.part_id:null,customer_id:l.customer_id&&l.customer_id>0?l.customer_id:null};console.log("Processed submit data:",E),N(!0);try{const L=parseInt((n==null?void 0:n.id)||"0");console.log("Parsed challan ID:",L);const A=await K.updateDeliveryChallan(L,E);console.log("Raw API Response:",A),console.log("Response type:",typeof A),console.log("Response success:",A==null?void 0:A.success),console.log("Response data:",A==null?void 0:A.data),console.log("Response message:",A==null?void 0:A.message);const D=!!(A!=null&&A.success),I=(A==null?void 0:A.message)||"Update completed";console.log("Is success:",D),console.log("Final message:",I),D?(console.log("Update successful, calling onSuccess and closing modal"),r(),S()):(console.error("API Error Response:",A),alert(`Failed to update delivery challan: ${I}`))}catch(L){console.error("Error updating delivery challan:",L),alert("Failed to update delivery challan: "+L.message)}finally{N(!1)}},S=()=>{o({challan_no:"",comp_name:"",customer_id:null,challan_date:"",to:"",from:"",part_id:null,part_no:"",part_description:"",hsn_code:"",quantity:1,unit_rate:"0.00",total:"0.00",notes:null,signature:null}),k({}),t()};return!e||!n?null:s.jsx("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:S,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Edit Delivery Challan"}),s.jsx("button",{type:"button",onClick:S,className:"text-gray-400 hover:text-gray-500 transition-colors",disabled:b,children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_no",className:"block text-sm font-medium text-gray-700",children:"Challan Number *"}),s.jsx("input",{type:"text",id:"challan_no",name:"challan_no",value:l.challan_no,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.challan_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter challan number",disabled:b}),C.challan_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.challan_no})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"to",className:"block text-sm font-medium text-gray-700",children:"Company/Recipient *"}),s.jsxs("select",{id:"to",name:"to",value:l.to,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.to?"border-red-300":"border-gray-300"}`,disabled:b,children:[s.jsx("option",{value:"",children:"Select company"}),c.map(w=>s.jsx("option",{value:w.company_name||w.comp_name||w.name,children:w.company_name||w.comp_name||w.name},w.id))]}),C.to&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.to})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_id",className:"block text-sm font-medium text-gray-700",children:"Part *"}),s.jsxs("select",{id:"part_id",name:"part_id",value:l.part_id||"",onChange:w=>{const E=w.target.value?Number(w.target.value):null,L=p.find(A=>A.id===E);o(A=>({...A,part_id:E,part_no:(L==null?void 0:L.part_no)||"",part_description:(L==null?void 0:L.part_description)||"",hsn_code:(L==null?void 0:L.hsn_code)||""}))},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.part_id?"border-red-300":"border-gray-300"}`,disabled:b,children:[s.jsx("option",{value:"",children:"Select part"}),p.map(w=>s.jsxs("option",{value:w.id,children:[w.part_no," - ",w.part_description]},w.id))]}),C.part_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.part_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_no",className:"block text-sm font-medium text-gray-700",children:"Part Number *"}),s.jsx("input",{type:"text",id:"part_no",name:"part_no",value:l.part_no,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.part_no?"border-red-300":"border-gray-300"}`,placeholder:"Enter part number",disabled:b}),C.part_no&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.part_no})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"from",className:"block text-sm font-medium text-gray-700",children:"From *"}),s.jsx("input",{type:"text",id:"from",name:"from",value:l.from,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.from?"border-red-300":"border-gray-300"}`,placeholder:"Enter from location",disabled:b}),C.from&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.from})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"part_description",className:"block text-sm font-medium text-gray-700",children:"Part Description *"}),s.jsx("input",{type:"text",id:"part_description",name:"part_description",value:l.part_description,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.part_description?"border-red-300":"border-gray-300"}`,placeholder:"Enter part description",disabled:b}),C.part_description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.part_description})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_id",className:"block text-sm font-medium text-gray-700",children:"Customer *"}),s.jsxs("select",{id:"customer_id",name:"customer_id",value:((m=l.customer_id)==null?void 0:m.toString())||"",onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.customer_id?"border-red-300":"border-gray-300"}`,disabled:b,children:[s.jsx("option",{value:"",children:"Select customer"}),u.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]}),C.customer_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.customer_id})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hsn_code",className:"block text-sm font-medium text-gray-700",children:"HSN Code *"}),s.jsx("input",{type:"text",id:"hsn_code",name:"hsn_code",value:l.hsn_code,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",placeholder:"Enter HSN code",disabled:b})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:"Quantity *"}),s.jsx("input",{type:"number",id:"quantity",name:"quantity",value:l.quantity,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.quantity?"border-red-300":"border-gray-300"}`,placeholder:"Enter quantity",min:"1",disabled:b}),C.quantity&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.quantity})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"unit_rate",className:"block text-sm font-medium text-gray-700",children:"Unit Rate *"}),s.jsx("input",{type:"text",id:"unit_rate",name:"unit_rate",value:l.unit_rate,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.unit_rate?"border-red-300":"border-gray-300"}`,placeholder:"Enter unit rate",disabled:b}),C.unit_rate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.unit_rate})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"total",className:"block text-sm font-medium text-gray-700",children:"Total Amount *"}),s.jsx("input",{type:"text",id:"total",name:"total",value:l.total,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.total?"border-red-300":"border-gray-300"}`,placeholder:"Enter total amount",disabled:b}),C.total&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.total})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status *"}),s.jsxs("select",{id:"status",name:"status",value:l.status,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm ${C.status?"border-red-300":"border-gray-300"}`,disabled:b,children:[s.jsx("option",{value:"",children:"Select status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),C.status&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.status})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"challan_date",className:"block text-sm font-medium text-gray-700",children:"Challan Date"}),s.jsx("input",{type:"date",id:"challan_date",name:"challan_date",value:a(l.challan_date),onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",disabled:b})]})})]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx("button",{type:"submit",disabled:b,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Updating...":"Update Challan"}),s.jsx("button",{type:"button",onClick:S,disabled:b,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]})})]})})},cc={checkApiConnection:async()=>{try{return(await fetch(`${{}.VITE_API_BASE_URL||"http://192.168.1.22:8000/api"}/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)})).ok}catch(e){return console.warn("API server not reachable:",e),!1}},testEndpoint:async e=>{try{return{success:!0,data:await R.get(e)}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Unknown error"}}},getApiInfo:()=>({baseUrl:{}.VITE_API_BASE_URL||"http://192.168.1.22:8000/api",useMockApi:{}.VITE_USE_MOCK_API==="true",isProduction:!0})},gx=()=>{const[e,t]=v.useState("checking"),[r,n]=v.useState(null);v.useEffect(()=>{(async()=>{t("checking");const i=cc.getApiInfo();if(n(i),i.useMockApi){t("disconnected");return}const p=await cc.checkApiConnection();t(p?"connected":"disconnected")})()},[]);const a=()=>{switch(e){case"checking":return s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-900"});case"connected":return s.jsx(Vt,{className:"h-4 w-4 text-green-600"});case"disconnected":return s.jsx(ha,{className:"h-4 w-4 text-red-600"})}},l=()=>{switch(e){case"checking":return"Checking API...";case"connected":return"API Connected";case"disconnected":return r!=null&&r.useMockApi?"Using Mock API":"API Disconnected"}},o=()=>{switch(e){case"checking":return"bg-blue-100 text-blue-800";case"connected":return"bg-green-100 text-green-800";case"disconnected":return r!=null&&r.useMockApi?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}};return s.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${o()}`,children:[a(),s.jsx("span",{className:"ml-2",children:l()})]})},yx=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,l]=v.useState(""),[o,c]=v.useState("all"),[i,p]=v.useState("all"),[x,u]=v.useState([]),[y,b]=v.useState(!0),[N,C]=v.useState(null),[k,f]=v.useState(!1),[h,d]=v.useState(!1),[g,_]=v.useState(!1),[j,S]=v.useState(1),[m,w]=v.useState(1),[E,L]=v.useState(0),[A]=v.useState(10),D=async(M=1)=>{b(!0);try{const B=await K.getDeliveryChallans(M);if(console.log("Delivery Challans API Response:",B),B.success&&B.data){let Z=[];if(Array.isArray(B.data)?Z=B.data.map(q=>{var ke;return{id:q.id.toString(),challanNumber:q.challan_no,company:q.comp_name||q.to||"",orderId:q.part_no,status:q.status||"pending",createdDate:q.created_at,deliveryDate:q.challan_date,driverName:q.signature||"",driverContactNumber:"",notes:q.notes||"",customerName:((ke=q.customer)==null?void 0:ke.name)||"",partDescription:q.part_description||"",quantity:q.quantity||0,unitRate:q.unit_rate||"0.00",total:q.total||"0.00"}}):B.data.data&&Array.isArray(B.data.data)&&(Z=B.data.data.map(q=>{var ke;return{id:q.id.toString(),challanNumber:q.challan_no,company:q.comp_name||q.to||"",orderId:q.part_no,status:q.status||"pending",createdDate:q.created_at,deliveryDate:q.challan_date,driverName:q.signature||"",driverContactNumber:"",notes:q.notes||"",customerName:((ke=q.customer)==null?void 0:ke.name)||"",partDescription:q.part_description||"",quantity:q.quantity||0,unitRate:q.unit_rate||"0.00",total:q.total||"0.00"}})),t(Z),Z.sort((q,ke)=>{const X=new Date(q.createdDate);return new Date(ke.createdDate).getTime()-X.getTime()}),n(Z),B.pagination)S(B.pagination.current_page),w(B.pagination.last_page),L(B.pagination.total);else{const q=Z.length,ke=Math.ceil(q/A);S(M),w(ke),L(q)}const _e=Array.from(new Set(Z.filter(q=>q&&q.company).map(q=>q.company)));u(_e)}else t([]),n([]),u([]),S(1),w(1),L(0)}catch(B){console.error("Error fetching delivery challans:",B),t([]),n([]),u([]),S(1),w(1),L(0)}finally{b(!1)}};v.useEffect(()=>{D()},[]);const I=()=>{if(E>0&&m>1)return r;const M=(j-1)*A,B=M+A;return r.slice(M,B)},Y=M=>{M>=1&&M<=m&&(S(M),D(M))};v.useEffect(()=>{let M=e;a&&(M=M.filter(B=>B.challanNumber.toLowerCase().includes(a.toLowerCase())||B.orderId.toLowerCase().includes(a.toLowerCase())||B.company.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(M=M.filter(B=>B.company===o)),i!=="all"&&(M=M.filter(B=>B.status===i)),M.sort((B,Z)=>{const _e=new Date(B.createdDate);return new Date(Z.createdDate).getTime()-_e.getTime()}),n(M),S(1)},[e,a,o,i]);const T=M=>{const B=e.find(Z=>Z.id===M);B&&(C(B),f(!0))},W=()=>{f(!1),C(null)},F=()=>{D()},U=M=>{C(M),_(!0)},P=()=>{_(!1),C(null)},z=()=>{D()},Q=async(M,B)=>{if(window.confirm(`Are you sure you want to delete delivery challan "${B}"? This action cannot be undone.`))try{const Z=await K.deleteDeliveryChallan(parseInt(M));Z.success?(alert("Delivery challan deleted successfully"),D()):alert("Failed to delete delivery challan: "+(Z.message||"Unknown error"))}catch(Z){console.error("Error deleting delivery challan:",Z),alert("Failed to delete delivery challan. Please try again.")}},Ne=M=>{switch(M){case"delivered":return s.jsx(Vt,{className:"w-4 h-4 text-green-600"});case"in_transit":return s.jsx(Qf,{className:"w-4 h-4 text-blue-900"});case"pending":return s.jsx(Mf,{className:"w-4 h-4 text-yellow-600"});case"cancelled":return s.jsx(Ou,{className:"w-4 h-4 text-red-600"});default:return null}};return y?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Delivery Challans"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View all delivery challans across all companies in the system"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(gx,{}),s.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-900 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 transition-colors",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Add Delivery Challan"]})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search challans...",value:a,onChange:M=>l(M.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]})}),s.jsx("div",{children:s.jsxs("select",{value:o,onChange:M=>c(M.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Companies"}),x.map(M=>s.jsx("option",{value:M,children:M},M))]})}),s.jsx("div",{children:s.jsxs("select",{value:i,onChange:M=>p(M.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_transit",children:"In Transit"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]})}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I().filter(M=>M).map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.challanNumber}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.company}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.orderId}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.status==="delivered"?"bg-green-100 text-green-800":M.status==="in_transit"?"bg-blue-200 text-blue-900":M.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Ne(M.status),s.jsx("span",{className:"ml-1",children:M.status?M.status.replace("_"," "):"Unknown"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.createdDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.deliveryDate?new Date(M.deliveryDate).toLocaleDateString():"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[s.jsx("button",{onClick:()=>T(M.id),className:"text-blue-900 hover:text-blue-800 p-1 mr-1",title:"View Challan",children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>U(M),className:"text-blue-600 hover:text-blue-700 p-1 mr-1",title:"Edit Challan",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Q(M.id,M.challanNumber),className:"text-red-600 hover:text-red-700 p-1",title:"Delete Challan",children:s.jsx(Wt,{className:"h-4 w-4"})})]})]},M.id))})]})}),m>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>Y(j-1),disabled:j===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>Y(j+1),disabled:j===m,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:(j-1)*A+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(j*A,r.length)})," ","of ",s.jsx("span",{className:"font-medium",children:r.length})," results"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>Y(j-1),disabled:j===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Previous"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:m},(M,B)=>B+1).map(M=>s.jsx("button",{onClick:()=>Y(M),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${j===M?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:M},M)),s.jsxs("button",{onClick:()=>Y(j+1),disabled:j===m,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Next"}),s.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]}),I().length===0&&r.length>0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No delivery challans found on this page."})}),r.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"No delivery challans found matching your criteria."})})]}),k&&N&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:W,children:s.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),s.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delivery Challan Details"}),s.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-500 transition-colors",children:s.jsx(Ae,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Challan Number"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:N.challanNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Order ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:N.orderId})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Company"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-semibold",children:N.company})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status==="delivered"?"bg-green-100 text-green-800":N.status==="in_transit"?"bg-blue-200 text-blue-900":N.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Ne(N.status),s.jsx("span",{className:"ml-1",children:N.status.replace("_"," ")})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(N.createdDate).toLocaleDateString()})]})]}),N.deliveryDate&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Delivery Date"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(N.deliveryDate).toLocaleDateString()})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Additional Information"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Tracking:"})," Available in system"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Documents:"})," Invoice attached"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priority:"})," Normal"]})]})]})})]})]}),s.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:s.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-900 text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors",onClick:W,children:"Close"})})]})]})}),s.jsx(fx,{isOpen:h,onClose:()=>d(!1),onSuccess:F}),g&&s.jsx(xx,{isOpen:g,onClose:P,onSuccess:z,challan:N})]})},vx=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(!0),[a,l]=v.useState("30d"),[o,c]=v.useState(null),[i,p]=v.useState(!1);v.useEffect(()=>{x()},[a]);const x=async()=>{var k,f,h,d,g,_;try{n(!0),c(null);const[j,S,m,w,E,L]=await Promise.all([K.getCompanies(),fa.getAllOrders(),K.getDeliveryChallans(),mt.getAllCustomers(),$u.getAllAdmins(),K.getParts()]),A=j!=null&&j.success?Array.isArray(j.data)?j.data:((k=j.data)==null?void 0:k.data)||[]:[],D=S!=null&&S.success?Array.isArray(S.data)?S.data:((f=S.data)==null?void 0:f.data)||[]:[],I=m!=null&&m.success?Array.isArray(m.data)?m.data:((h=m.data)==null?void 0:h.data)||[]:[],Y=w!=null&&w.success?Array.isArray(w.data)?w.data:((d=w.data)==null?void 0:d.data)||[]:[],T=E!=null&&E.success?Array.isArray(E.data)?E.data:((g=E.data)==null?void 0:g.data)||[]:[],W=L!=null&&L.success?Array.isArray(L.data)?L.data:((_=L.data)==null?void 0:_.data)||[]:[],F=D.reduce((X,fe)=>X+parseFloat(fe.price||"0"),0),U=D.length,P=A.length,z=I.length,Q=Y.length,Ne=T.length,M=W.length,B=u(D),Z=y(D,A),_e=D.sort((X,fe)=>new Date(fe.created_at).getTime()-new Date(X.created_at).getTime()).slice(0,5).map(X=>{var fe;return{id:X.id,po_no:X.po_no,customer:((fe=X.customer)==null?void 0:fe.name)||X.comp_name||"Unknown",amount:parseFloat(X.price||"0"),status:X.po_received?"Received":"Pending",created_at:X.created_at}}),q={pending:D.filter(X=>!X.po_received).length,processing:D.filter(X=>X.po_received&&X.balance_qty>0).length,completed:D.filter(X=>X.balance_qty===0).length,cancelled:0};t({totalRevenue:F,totalOrders:U,totalCompanies:P,totalChallans:z,totalCustomers:Q,totalAdmins:Ne,totalParts:M,monthlyRevenue:B,companyPerformance:Z,recentOrders:_e,statusBreakdown:q})}catch(j){console.error("Error fetching report data:",j),c("Failed to load report data. Please try again.")}finally{n(!1)}},u=k=>{const f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return new Date().getMonth(),f.map((d,g)=>{const j=k.filter(S=>new Date(S.created_at).getMonth()===g).reduce((S,m)=>S+parseFloat(m.price||"0"),0);return{month:d,amount:j}}).slice(-6)},y=(k,f)=>{const h=new Map;return k.forEach(d=>{var j;const g=d.comp_name||((j=d.customer)==null?void 0:j.name)||"Unknown",_=h.get(g)||{orders:0,revenue:0};_.orders++,_.revenue+=parseFloat(d.price||"0"),h.set(g,_)}),Array.from(h.entries()).map(([d,g])=>({company:d,...g})).sort((d,g)=>g.revenue-d.revenue).slice(0,5)},b=async()=>{try{p(!0);const k=N(),f=new Blob([k],{type:"text/csv"}),h=window.URL.createObjectURL(f),d=document.createElement("a");d.href=h,d.download=`reports-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(h)}catch(k){console.error("Error exporting data:",k),alert("Failed to export data")}finally{p(!1)}},N=()=>{if(!e)return"";const k=["Metric","Value"],f=[["Total Revenue",e.totalRevenue.toString()],["Total Orders",e.totalOrders.toString()],["Total Companies",e.totalCompanies.toString()],["Total Customers",e.totalCustomers.toString()],["Total Admins",e.totalAdmins.toString()],["Total Parts",e.totalParts.toString()],["Total Delivery Challans",e.totalChallans.toString()]];return[k,...f].map(h=>h.join(",")).join(`
`)};if(r)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900"})});if(o)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-500 mb-4",children:o}),s.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-900 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Retry"})]});if(!e)return s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Unable to load report data."})});const C=Math.max(...e.monthlyRevenue.map(k=>k.amount));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"System analytics and performance metrics"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:b,disabled:i,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx($f,{className:"h-4 w-4"}),s.jsx("span",{children:i?"Exporting...":"Export"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:a,onChange:k=>l(k.target.value),className:"block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-900 focus:border-blue-900 sm:text-sm",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"}),s.jsx("option",{value:"1y",children:"Last year"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-green-100 rounded-md",children:s.jsx(Iu,{className:"h-6 w-6 text-green-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),s.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["",e.totalRevenue.toLocaleString()]})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-blue-200 rounded-md",children:s.jsx(xr,{className:"h-6 w-6 text-blue-900"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Orders"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalOrders.toLocaleString()})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-purple-100 rounded-md",children:s.jsx(dt,{className:"h-6 w-6 text-purple-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Companies"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalCompanies})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-orange-100 rounded-md",children:s.jsx(ct,{className:"h-6 w-6 text-orange-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Challans"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalChallans})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-teal-100 rounded-md",children:s.jsx(dt,{className:"h-6 w-6 text-teal-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Customers"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalCustomers})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-3 bg-indigo-100 rounded-md",children:s.jsx(Uo,{className:"h-6 w-6 text-indigo-600"})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Parts"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.totalParts})]})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Revenue"}),s.jsx("div",{className:"space-y-3",children:e.monthlyRevenue.map(k=>{const f=k.amount/C*100;return s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 text-sm font-medium text-gray-500",children:k.month}),s.jsx("div",{className:"flex-1 mx-4",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:s.jsx("div",{className:"bg-blue-900 h-4 rounded-full transition-all duration-300",style:{width:`${f}%`}})})}),s.jsxs("div",{className:"w-20 text-sm font-medium text-gray-900 text-right",children:["",k.amount.toLocaleString()]})]},k.month)})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Companies"}),s.jsx("div",{className:"space-y-4",children:e.companyPerformance.map((k,f)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-200 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["#",f+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.company}),s.jsxs("p",{className:"text-xs text-gray-500",children:[k.orders," orders"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",k.revenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500",children:"revenue"})]})]},k.company))})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Orders"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.recentOrders.map(k=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.po_no}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.customer}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["",k.amount.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.status==="Received"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:k.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString()})]},k.id))})]})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Status Breakdown"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.statusBreakdown.pending}),s.jsx("div",{className:"text-sm text-gray-500",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.statusBreakdown.processing}),s.jsx("div",{className:"text-sm text-gray-500",children:"Processing"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.statusBreakdown.completed}),s.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.statusBreakdown.cancelled}),s.jsx("div",{className:"text-sm text-gray-500",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(e.totalOrders/e.totalCompanies*10)/10}),s.jsx("div",{className:"text-sm text-gray-500",children:"Avg Orders per Company"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["",Math.round(e.totalRevenue/e.totalOrders)]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Avg Order Value"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(e.totalChallans/e.totalOrders*100),"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Delivery Rate"})]})]})]})]})},bx=()=>{const[e,t]=v.useState("roles"),[r,n]=v.useState(!1),a=[{id:"1",name:"Super Admin",description:"Full system access",permissions:["all"],userCount:1},{id:"2",name:"Company Admin",description:"Manage company operations",permissions:["manage_company","view_reports","manage_users"],userCount:45},{id:"3",name:"Viewer",description:"Read-only access",permissions:["view"],userCount:23}],l=[{id:"1",user:"Super Admin",action:"Login",resource:"System",timestamp:"2024-01-28T10:30:00Z",ipAddress:"192.168.1.100",status:"success"},{id:"2",user:"john@techcorp.com",action:"Create Company",resource:"Companies",timestamp:"2024-01-27T14:15:00Z",ipAddress:"10.0.0.50",status:"success"},{id:"3",user:"admin@globaltech.com",action:"Failed Login",resource:"Authentication",timestamp:"2024-01-26T09:45:00Z",ipAddress:"203.0.113.1",status:"failed"}],o=[{id:"manage_company",label:"Manage Company",description:"Create, edit, and delete companies"},{id:"manage_users",label:"Manage Users",description:"Add, edit, and remove users"},{id:"view_reports",label:"View Reports",description:"Access system reports and analytics"},{id:"manage_orders",label:"Manage Orders",description:"Process and manage orders"},{id:"manage_challans",label:"Manage Delivery Challans",description:"Handle delivery documentation"},{id:"system_settings",label:"System Settings",description:"Modify system configuration"}],c=[{id:"roles",label:"Roles",icon:dt},{id:"permissions",label:"Permissions",icon:Qn},{id:"audit-logs",label:"Audit Logs",icon:ct},{id:"security",label:"Security",icon:zl}],i=()=>{n(!0)},p=u=>{console.log("Edit role:",u)},x=u=>{console.log("Delete role:",u)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage system roles, permissions, and security settings"})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:c.map(u=>{const y=u.icon;return s.jsxs("button",{onClick:()=>t(u.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center ${e===u.id?"border-blue-900 text-blue-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),u.label]},u.id)})})}),s.jsxs("div",{className:"p-6",children:[e==="roles"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"User Roles"}),s.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-900 hover:bg-blue-800",children:[s.jsx(Gf,{className:"h-4 w-4 mr-2"}),"Add Role"]})]}),s.jsx("div",{className:"space-y-4",children:a.map(u=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:u.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[u.userCount," users assigned"]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[u.permissions.length," permissions"]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>p(u.id),className:"p-2 text-gray-400 hover:text-blue-900",title:"Edit Role",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>x(u.id),className:"p-2 text-gray-400 hover:text-red-600",title:"Delete Role",disabled:u.name==="Super Admin",children:s.jsx(Wt,{className:"h-4 w-4"})})]})]})},u.id))})]}),e==="permissions"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"System Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(u=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Qn,{className:"h-5 w-5 text-blue-900"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:u.label}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.description})]})]})},u.id))})]}),e==="audit-logs"&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Audit Logs"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resource"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(u=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.user}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.action}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.resource}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(u.timestamp).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.ipAddress}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[u.status==="success"?s.jsx(Vt,{className:"w-4 h-4 mr-1"}):s.jsx(ha,{className:"w-4 h-4 mr-1"}),u.status]})})]},u.id))})]})})]}),e==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(Of,{className:"h-5 w-5 text-yellow-400"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Password Policy"}),s.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:"Enforce strong passwords with minimum 8 characters, uppercase, lowercase, and numbers."})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Security Options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Require 2FA for all admin accounts"})]}),s.jsx("button",{className:"bg-blue-900 text-white px-3 py-1 rounded text-sm",children:"Enable"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Session Timeout"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Auto-logout after 30 minutes of inactivity"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"30 minutes"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Login Attempts"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Maximum failed login attempts before lockout"})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"5 attempts"})]})]})]})]})]})]})]})]})},wx=()=>{const{logout:e}=pa(),t=ms(),r=async()=>{await e(),t("/login")},n=[{path:"/dashboard",label:"Dashboard",icon:Uf},{path:"/companies",label:"Companies",icon:$l},{path:"/admins",label:"Company Admins",icon:dt},{path:"/customers",label:"Customers",icon:qo},{path:"/parts",label:"Parts",icon:Ss},{path:"/orders",label:"Orders",icon:xr},{path:"/delivery-challans",label:"Delivery Challans",icon:ct},{path:"/reports",label:"Reports",icon:Uo},{path:"/settings",label:"Settings",icon:Ru}];return s.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-gradient-to-r from-blue-900 to-blue-800",children:s.jsx("h1",{className:"text-lg font-semibold text-white",children:"Super Admin"})}),s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:n.map(a=>{const l=a.icon;return s.jsxs(jf,{to:a.path,className:({isActive:o})=>`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 ${o?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx(l,{className:"mr-3 h-5 w-5"}),a.label]},a.path)})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:r,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-100 hover:text-gray-900 transition-colors duration-150",children:[s.jsx(qf,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})})},jx=()=>{var t;const{user:e}=pa();return s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-[100] w-full lg:ml-64 lg:w-[calc(100%-16rem)]",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"CRM Super Admin Panel"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ps,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",placeholder:"Search...",className:"block w-48 lg:w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-900 focus:border-blue-900 sm:text-sm"})]}),s.jsxs("button",{className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-900",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx(If,{className:"h-6 w-6"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:(t=e==null?void 0:e.name)==null?void 0:t.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"Super Admin"})]})]})]})]})})})},Nx=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(wx,{}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx(jx,{}),s.jsx("main",{className:"py-8 pt-20 max-w-full overflow-hidden",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8 max-w-full",children:s.jsx("div",{className:"max-w-full overflow-hidden",children:s.jsx(of,{})})})})]})]}),_x=({children:e})=>{const{isAuthenticated:t,isLoading:r}=pa(),n=Kt();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(lf,{to:"/login",state:{from:n},replace:!0})},kx=({message:e,type:t,onClose:r})=>{const[n,a]=v.useState(!0);v.useEffect(()=>{const i=setTimeout(()=>{a(!1),setTimeout(r,300)},3e3);return()=>clearTimeout(i)},[r]);const l=()=>{switch(t){case"success":return s.jsx(Vt,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(Ou,{className:"w-5 h-5 text-red-500"});case"info":return s.jsx(oc,{className:"w-5 h-5 text-blue-500"});default:return s.jsx(oc,{className:"w-5 h-5 text-blue-500"})}},o=()=>{switch(t){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-blue-50 border-blue-200"}},c=()=>{switch(t){case"success":return"text-green-800";case"error":return"text-red-800";case"info":return"text-blue-800";default:return"text-blue-800"}};return s.jsx("div",{className:`
        fixed bottom-4 right-4 z-50 max-w-sm w-full
        transform transition-all duration-300 ease-in-out
        ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:s.jsxs("div",{className:`
        flex items-center p-4 rounded-lg border shadow-lg
        ${o()}
      `,children:[s.jsx("div",{className:"flex-shrink-0 mr-3",children:l()}),s.jsx("div",{className:`flex-1 text-sm font-medium ${c()}`,children:e}),s.jsx("button",{onClick:()=>{a(!1),setTimeout(r,300)},className:`flex-shrink-0 ml-4 p-1 rounded-full hover:bg-gray-100 ${c()}`,children:s.jsx(Ae,{className:"w-4 h-4"})})]})})},Cx=()=>{const{toasts:e,removeToast:t}=Lu();return s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(r=>s.jsx(kx,{message:r.message,type:r.type,onClose:()=>t(r.id)},r.id))})};function Sx(){return s.jsx(Af,{children:s.jsxs(Pf,{children:[s.jsx(yf,{children:s.jsxs(df,{children:[s.jsx(De,{path:"/login",element:s.jsx(Xf,{})}),s.jsxs(De,{path:"/",element:s.jsx(_x,{children:s.jsx(Nx,{})}),children:[s.jsx(De,{index:!0,element:s.jsx(ic,{})}),s.jsx(De,{path:"dashboard",element:s.jsx(ic,{})}),s.jsx(De,{path:"companies",element:s.jsx(ex,{})}),s.jsx(De,{path:"companies/:id",element:s.jsx(sx,{})}),s.jsx(De,{path:"admins",element:s.jsx(ax,{})}),s.jsx(De,{path:"customers",element:s.jsx(ix,{})}),s.jsx(De,{path:"parts",element:s.jsx(ux,{})}),s.jsx(De,{path:"orders",element:s.jsx(hx,{})}),s.jsx(De,{path:"delivery-challans",element:s.jsx(yx,{})}),s.jsx(De,{path:"reports",element:s.jsx(vx,{})}),s.jsx(De,{path:"settings",element:s.jsx(bx,{})})]})]})}),s.jsx(Cx,{})]})})}Ba.createRoot(document.getElementById("root")).render(s.jsx(Hl.StrictMode,{children:s.jsx(Sx,{})}));
